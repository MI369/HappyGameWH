; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27032.1 

	TITLE	G:\网狐\HappyGameWH\服务端\系统模块\公共组件\服务核心\ServiceCore.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	_ExtRawDllMain@12
PUBLIC	__afxForceEXTDLL
PUBLIC	__pRawDllMain
_BSS	SEGMENT
__afxForceEXTDLL DD 01H DUP (?)
_BSS	ENDS
CONST	SEGMENT
__pRawDllMain DD FLAT:_ExtRawDllMain@12
CONST	ENDS
PUBLIC	??_H@YGXPAXIIP6EPAX0@Z@Z			; `vector constructor iterator'
PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	?GetHead@CSimpleList@@QBEPAXXZ			; CSimpleList::GetHead
PUBLIC	??B?$CTypedSimpleList@PAUCRuntimeClass@@@@QAEPAUCRuntimeClass@@XZ ; CTypedSimpleList<CRuntimeClass *>::operator CRuntimeClass *
PUBLIC	??B?$CTypedSimpleList@PAVCOleObjectFactory@@@@QAEPAVCOleObjectFactory@@XZ ; CTypedSimpleList<COleObjectFactory *>::operator COleObjectFactory *
PUBLIC	_DllMain@12
EXTRN	??2CObject@@SGPAXI@Z:PROC			; CObject::operator new
EXTRN	?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ:PROC ; AfxGetModuleState
EXTRN	??0CDynLinkLibrary@@QAE@AAUAFX_EXTENSION_MODULE@@H@Z:PROC ; CDynLinkLibrary::CDynLinkLibrary
EXTRN	?AfxInitExtensionModule@@YGHAAUAFX_EXTENSION_MODULE@@PAUHINSTANCE__@@@Z:PROC ; AfxInitExtensionModule
EXTRN	?AfxTermExtensionModule@@YGXAAUAFX_EXTENSION_MODULE@@H@Z:PROC ; AfxTermExtensionModule
_BSS	SEGMENT
?ServiceCoreDLL@@3UAFX_EXTENSION_MODULE@@A DB 014H DUP (?) ; ServiceCoreDLL
_BSS	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\公共组件\服务核心\servicecore.cpp
;	COMDAT _DllMain@12
_TEXT	SEGMENT
tv81 = -76						; size = 4
$T1 = -72						; size = 4
$T2 = -68						; size = 4
_hInstance$ = 8						; size = 4
_dwReason$ = 12						; size = 4
_lpReserved$ = 16					; size = 4
_DllMain@12 PROC					; COMDAT

; 14   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 15   : 	if (dwReason==DLL_PROCESS_ATTACH)

  00009	83 7d 0c 01	 cmp	 DWORD PTR _dwReason$[ebp], 1
  0000d	75 49		 jne	 SHORT $LN2@DllMain

; 16   : 	{
; 17   : 		if (!AfxInitExtensionModule(ServiceCoreDLL, hInstance)) return 0;

  0000f	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  00012	50		 push	 eax
  00013	68 00 00 00 00	 push	 OFFSET ?ServiceCoreDLL@@3UAFX_EXTENSION_MODULE@@A
  00018	e8 00 00 00 00	 call	 ?AfxInitExtensionModule@@YGHAAUAFX_EXTENSION_MODULE@@PAUHINSTANCE__@@@Z ; AfxInitExtensionModule
  0001d	85 c0		 test	 eax, eax
  0001f	75 04		 jne	 SHORT $LN4@DllMain
  00021	33 c0		 xor	 eax, eax
  00023	eb 4a		 jmp	 SHORT $LN1@DllMain
$LN4@DllMain:

; 18   : 		new CDynLinkLibrary(ServiceCoreDLL);

  00025	6a 40		 push	 64			; 00000040H
  00027	e8 00 00 00 00	 call	 ??2CObject@@SGPAXI@Z	; CObject::operator new
  0002c	89 45 b8	 mov	 DWORD PTR $T1[ebp], eax
  0002f	83 7d b8 00	 cmp	 DWORD PTR $T1[ebp], 0
  00033	74 14		 je	 SHORT $LN7@DllMain
  00035	6a 00		 push	 0
  00037	68 00 00 00 00	 push	 OFFSET ?ServiceCoreDLL@@3UAFX_EXTENSION_MODULE@@A
  0003c	8b 4d b8	 mov	 ecx, DWORD PTR $T1[ebp]
  0003f	e8 00 00 00 00	 call	 ??0CDynLinkLibrary@@QAE@AAUAFX_EXTENSION_MODULE@@H@Z ; CDynLinkLibrary::CDynLinkLibrary
  00044	89 45 b4	 mov	 DWORD PTR tv81[ebp], eax
  00047	eb 07		 jmp	 SHORT $LN8@DllMain
$LN7@DllMain:
  00049	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR tv81[ebp], 0
$LN8@DllMain:
  00050	8b 45 b4	 mov	 eax, DWORD PTR tv81[ebp]
  00053	89 45 bc	 mov	 DWORD PTR $T2[ebp], eax
  00056	eb 12		 jmp	 SHORT $LN3@DllMain
$LN2@DllMain:

; 19   : 	}
; 20   : 	else if (dwReason==DLL_PROCESS_DETACH)

  00058	83 7d 0c 00	 cmp	 DWORD PTR _dwReason$[ebp], 0
  0005c	75 0c		 jne	 SHORT $LN3@DllMain

; 21   : 	{
; 22   : 		AfxTermExtensionModule(ServiceCoreDLL);

  0005e	6a 00		 push	 0
  00060	68 00 00 00 00	 push	 OFFSET ?ServiceCoreDLL@@3UAFX_EXTENSION_MODULE@@A
  00065	e8 00 00 00 00	 call	 ?AfxTermExtensionModule@@YGXAAUAFX_EXTENSION_MODULE@@H@Z ; AfxTermExtensionModule
$LN3@DllMain:

; 23   : 	}
; 24   : 
; 25   : 	return 1;

  0006a	b8 01 00 00 00	 mov	 eax, 1
$LN1@DllMain:

; 26   : }

  0006f	5f		 pop	 edi
  00070	5e		 pop	 esi
  00071	5b		 pop	 ebx
  00072	8b e5		 mov	 esp, ebp
  00074	5d		 pop	 ebp
  00075	c2 0c 00	 ret	 12			; 0000000cH
_DllMain@12 ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\atlmfc\include\afxdllx.h
;	COMDAT _ExtRawDllMain@12
_TEXT	SEGMENT
_pModuleState$1 = -4					; size = 4
___formal$ = 8						; size = 4
_dwReason$ = 12						; size = 4
___formal$ = 16						; size = 4
_ExtRawDllMain@12 PROC					; COMDAT

; 50   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 51   : 	if (dwReason == DLL_PROCESS_ATTACH)

  00009	83 7d 0c 01	 cmp	 DWORD PTR _dwReason$[ebp], 1
  0000d	75 3e		 jne	 SHORT $LN2@ExtRawDllM

; 52   : 	{
; 53   : 		// save critical data pointers before running the constructors
; 54   : 		AFX_MODULE_STATE* pModuleState = AfxGetModuleState();

  0000f	e8 00 00 00 00	 call	 ?AfxGetModuleState@@YGPAVAFX_MODULE_STATE@@XZ ; AfxGetModuleState
  00014	89 45 fc	 mov	 DWORD PTR _pModuleState$1[ebp], eax

; 55   : 		pModuleState->m_pClassInit = pModuleState->m_classList;

  00017	8b 4d fc	 mov	 ecx, DWORD PTR _pModuleState$1[ebp]
  0001a	83 c1 20	 add	 ecx, 32			; 00000020H
  0001d	e8 00 00 00 00	 call	 ??B?$CTypedSimpleList@PAUCRuntimeClass@@@@QAEPAUCRuntimeClass@@XZ ; CTypedSimpleList<CRuntimeClass *>::operator CRuntimeClass *
  00022	8b 4d fc	 mov	 ecx, DWORD PTR _pModuleState$1[ebp]
  00025	89 41 1c	 mov	 DWORD PTR [ecx+28], eax

; 56   : 		pModuleState->m_pFactoryInit = pModuleState->m_factoryList;

  00028	8b 4d fc	 mov	 ecx, DWORD PTR _pModuleState$1[ebp]
  0002b	83 c1 2c	 add	 ecx, 44			; 0000002cH
  0002e	e8 00 00 00 00	 call	 ??B?$CTypedSimpleList@PAVCOleObjectFactory@@@@QAEPAVCOleObjectFactory@@XZ ; CTypedSimpleList<COleObjectFactory *>::operator COleObjectFactory *
  00033	8b 4d fc	 mov	 ecx, DWORD PTR _pModuleState$1[ebp]
  00036	89 41 28	 mov	 DWORD PTR [ecx+40], eax

; 57   : 		pModuleState->m_classList.m_pHead = NULL;

  00039	8b 45 fc	 mov	 eax, DWORD PTR _pModuleState$1[ebp]
  0003c	c7 40 20 00 00
	00 00		 mov	 DWORD PTR [eax+32], 0

; 58   : 		pModuleState->m_factoryList.m_pHead = NULL;

  00043	8b 45 fc	 mov	 eax, DWORD PTR _pModuleState$1[ebp]
  00046	c7 40 2c 00 00
	00 00		 mov	 DWORD PTR [eax+44], 0
$LN2@ExtRawDllM:

; 59   : 	}
; 60   : 	return TRUE;    // ok

  0004d	b8 01 00 00 00	 mov	 eax, 1

; 61   : }

  00052	5f		 pop	 edi
  00053	5e		 pop	 esi
  00054	5b		 pop	 ebx
  00055	8b e5		 mov	 esp, ebp
  00057	5d		 pop	 ebp
  00058	c2 0c 00	 ret	 12			; 0000000cH
_ExtRawDllMain@12 ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\atlmfc\include\afxtls_.h
;	COMDAT ??B?$CTypedSimpleList@PAVCOleObjectFactory@@@@QAEPAVCOleObjectFactory@@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??B?$CTypedSimpleList@PAVCOleObjectFactory@@@@QAEPAVCOleObjectFactory@@XZ PROC ; CTypedSimpleList<COleObjectFactory *>::operator COleObjectFactory *, COMDAT
; _this$ = ecx

; 96   : { 

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 97   : 	return (TYPE)CSimpleList::GetHead(); 

  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ?GetHead@CSimpleList@@QBEPAXXZ ; CSimpleList::GetHead

; 98   : }

  00014	5f		 pop	 edi
  00015	5e		 pop	 esi
  00016	5b		 pop	 ebx
  00017	8b e5		 mov	 esp, ebp
  00019	5d		 pop	 ebp
  0001a	c3		 ret	 0
??B?$CTypedSimpleList@PAVCOleObjectFactory@@@@QAEPAVCOleObjectFactory@@XZ ENDP ; CTypedSimpleList<COleObjectFactory *>::operator COleObjectFactory *
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\atlmfc\include\afxtls_.h
;	COMDAT ??B?$CTypedSimpleList@PAUCRuntimeClass@@@@QAEPAUCRuntimeClass@@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??B?$CTypedSimpleList@PAUCRuntimeClass@@@@QAEPAUCRuntimeClass@@XZ PROC ; CTypedSimpleList<CRuntimeClass *>::operator CRuntimeClass *, COMDAT
; _this$ = ecx

; 96   : { 

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 97   : 	return (TYPE)CSimpleList::GetHead(); 

  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ?GetHead@CSimpleList@@QBEPAXXZ ; CSimpleList::GetHead

; 98   : }

  00014	5f		 pop	 edi
  00015	5e		 pop	 esi
  00016	5b		 pop	 ebx
  00017	8b e5		 mov	 esp, ebp
  00019	5d		 pop	 ebp
  0001a	c3		 ret	 0
??B?$CTypedSimpleList@PAUCRuntimeClass@@@@QAEPAUCRuntimeClass@@XZ ENDP ; CTypedSimpleList<CRuntimeClass *>::operator CRuntimeClass *
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\atlmfc\include\afxtls_.h
;	COMDAT ?GetHead@CSimpleList@@QBEPAXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetHead@CSimpleList@@QBEPAXXZ PROC			; CSimpleList::GetHead, COMDAT
; _this$ = ecx

; 74   : 	{ return m_pHead; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 00		 mov	 eax, DWORD PTR [eax]
  00011	5f		 pop	 edi
  00012	5e		 pop	 esi
  00013	5b		 pop	 ebx
  00014	8b e5		 mov	 esp, ebp
  00016	5d		 pop	 ebp
  00017	c3		 ret	 0
?GetHead@CSimpleList@@QBEPAXXZ ENDP			; CSimpleList::GetHead
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\公共组件\服务核心\servicecore.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\公共组件\服务核心\servicecore.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??_H@YGXPAXIIP6EPAX0@Z@Z
_TEXT	SEGMENT
tv66 = -68						; size = 4
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIIP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
$LN2@vector:
  00009	8b 45 10	 mov	 eax, DWORD PTR ___n$[ebp]
  0000c	89 45 bc	 mov	 DWORD PTR tv66[ebp], eax
  0000f	8b 4d 10	 mov	 ecx, DWORD PTR ___n$[ebp]
  00012	83 e9 01	 sub	 ecx, 1
  00015	89 4d 10	 mov	 DWORD PTR ___n$[ebp], ecx
  00018	83 7d bc 00	 cmp	 DWORD PTR tv66[ebp], 0
  0001c	76 11		 jbe	 SHORT $LN1@vector
  0001e	8b 4d 08	 mov	 ecx, DWORD PTR ___t$[ebp]
  00021	ff 55 14	 call	 DWORD PTR ___f$[ebp]
  00024	8b 45 08	 mov	 eax, DWORD PTR ___t$[ebp]
  00027	03 45 0c	 add	 eax, DWORD PTR ___s$[ebp]
  0002a	89 45 08	 mov	 DWORD PTR ___t$[ebp], eax
  0002d	eb da		 jmp	 SHORT $LN2@vector
$LN1@vector:
  0002f	5f		 pop	 edi
  00030	5e		 pop	 esi
  00031	5b		 pop	 ebx
  00032	8b e5		 mov	 esp, ebp
  00034	5d		 pop	 ebp
  00035	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIIP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
END
