; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27032.1 

	TITLE	G:\网狐\HappyGameWH\服务端\系统模块\服务器组件\聊天服务器\AttemperEngineSink.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

CONST	SEGMENT
?IID_IUnknownEx@@3U_GUID@@B DD 05feec21eH		; IID_IUnknownEx
	DW	0dbf3H
	DW	046f0H
	DB	09fH
	DB	057H
	DB	0d1H
	DB	0cdH
	DB	071H
	DB	01cH
	DB	046H
	DB	0deH
?IID_IAttemperEngineSink@@3U_GUID@@B DD 0831b9001H	; IID_IAttemperEngineSink
	DW	04450H
	DW	045ddH
	DB	091H
	DB	037H
	DB	0dH
	DB	026H
	DB	016H
	DB	0e3H
	DB	075H
	DB	032H
CONST	ENDS
PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??2@YAPAXIPAX@Z					; operator new
PUBLIC	_IsEqualGUID
PUBLIC	_==
PUBLIC	___local_stdio_printf_options
PUBLIC	__vsnprintf_l
PUBLIC	__vsnprintf
PUBLIC	__vsprintf_l
PUBLIC	_sprintf
PUBLIC	__snprintf
PUBLIC	?AfxAssertFailedLine@@YGHPBDH@Z			; AfxAssertFailedLine
PUBLIC	??0IUnknownEx@@QAE@XZ				; IUnknownEx::IUnknownEx
PUBLIC	?GetProductVer@@YAEK@Z				; GetProductVer
PUBLIC	?GetMainVer@@YAEK@Z				; GetMainVer
PUBLIC	?GetSubVer@@YAEK@Z				; GetSubVer
PUBLIC	?GetBuildVer@@YAEK@Z				; GetBuildVer
PUBLIC	?InterfaceVersionCompare@@YA_NKK@Z		; InterfaceVersionCompare
PUBLIC	??0CSendPacketHelper@@QAE@PAXG@Z		; CSendPacketHelper::CSendPacketHelper
PUBLIC	?GetDataSize@CSendPacketHelper@@QAEGXZ		; CSendPacketHelper::GetDataSize
PUBLIC	?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z	; CSendPacketHelper::AddPacket
PUBLIC	??0IAttemperEngineSink@@QAE@XZ			; IAttemperEngineSink::IAttemperEngineSink
PUBLIC	?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ; CServerUserItem::GetUserItemKind
PUBLIC	?GetCount@?$CWHArray@PAUtagNearUserInfo@@ABQAU1@@@QBEHXZ ; CWHArray<tagNearUserInfo *,tagNearUserInfo * const &>::GetCount
PUBLIC	?GetUserItemCount@CNearUserManager@@UAEKXZ	; CNearUserManager::GetUserItemCount
PUBLIC	?SetOwnerUserID@CUserFriendGroup@@QAEXK@Z	; CUserFriendGroup::SetOwnerUserID
PUBLIC	??0?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::CWHArray<tagSystemMessage *,tagSystemMessage * const &>
PUBLIC	??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>
PUBLIC	?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount
PUBLIC	?Add@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABQAUtagSystemMessage@@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Add
PUBLIC	?Append@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABV1@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Append
PUBLIC	?ElementAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::ElementAt
PUBLIC	?SetSize@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::SetSize
PUBLIC	?SetAtGrow@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHABQAUtagSystemMessage@@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::SetAtGrow
PUBLIC	?RemoveAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAt
PUBLIC	?RemoveAll@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAll
PUBLIC	??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::operator[]
PUBLIC	?AllocMemory@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::AllocMemory
PUBLIC	??_G?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAEPAXI@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`scalar deleting destructor'
PUBLIC	??0CAttemperEngineSink@@QAE@XZ			; CAttemperEngineSink::CAttemperEngineSink
PUBLIC	??1CAttemperEngineSink@@UAE@XZ			; CAttemperEngineSink::~CAttemperEngineSink
PUBLIC	?Release@CAttemperEngineSink@@UAEXXZ		; CAttemperEngineSink::Release
PUBLIC	?QueryInterface@CAttemperEngineSink@@UAEPAXABU_GUID@@K@Z ; CAttemperEngineSink::QueryInterface
PUBLIC	?OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z ; CAttemperEngineSink::OnAttemperEngineStart
PUBLIC	?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z ; CAttemperEngineSink::OnAttemperEngineConclude
PUBLIC	?OnEventControl@CAttemperEngineSink@@UAE_NGPAXG@Z ; CAttemperEngineSink::OnEventControl
PUBLIC	?OnEventAttemperData@CAttemperEngineSink@@UAE_NGPAXG@Z ; CAttemperEngineSink::OnEventAttemperData
PUBLIC	?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z	; CAttemperEngineSink::OnEventTimer
PUBLIC	?OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z ; CAttemperEngineSink::OnEventTCPSocketLink
PUBLIC	?OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z ; CAttemperEngineSink::OnEventTCPSocketShut
PUBLIC	?OnEventTCPSocketRead@CAttemperEngineSink@@UAE_NGUTCP_Command@@PAXG@Z ; CAttemperEngineSink::OnEventTCPSocketRead
PUBLIC	?OnEventTCPSocketMainServiceInfo@CAttemperEngineSink@@IAE_NGPAXG@Z ; CAttemperEngineSink::OnEventTCPSocketMainServiceInfo
PUBLIC	?OnEventTCPSocketMainUserCollect@CAttemperEngineSink@@IAE_NGPAXG@Z ; CAttemperEngineSink::OnEventTCPSocketMainUserCollect
PUBLIC	?OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z ; CAttemperEngineSink::OnEventTCPSocketSubUserStatus
PUBLIC	?OnTCPSocketMainManagerService@CAttemperEngineSink@@IAE_NGPAXG@Z ; CAttemperEngineSink::OnTCPSocketMainManagerService
PUBLIC	?SendUIControlPacket@CAttemperEngineSink@@QAE_NGPAXG@Z ; CAttemperEngineSink::SendUIControlPacket
PUBLIC	?OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z ; CAttemperEngineSink::OnEventTCPNetworkBind
PUBLIC	?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z ; CAttemperEngineSink::OnEventTCPNetworkShut
PUBLIC	?OnEventTCPNetworkRead@CAttemperEngineSink@@UAE_NUTCP_Command@@PAXGK@Z ; CAttemperEngineSink::OnEventTCPNetworkRead
PUBLIC	?OnTCPNetworkMainUser@CAttemperEngineSink@@IAE_NGPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkMainUser
PUBLIC	?OnTCPNetworkMainLogon@CAttemperEngineSink@@IAE_NGPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkMainLogon
PUBLIC	?OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubMBLogonByUserID
PUBLIC	?OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubApplyForFriend
PUBLIC	?OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubRespondFriend
PUBLIC	?OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubRoomInvite
PUBLIC	?OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubInvitePersonal
PUBLIC	?OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubUserChat
PUBLIC	?OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubSearchUser
PUBLIC	?OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubTrumpet
PUBLIC	?OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkDeleteFriend
PUBLIC	?OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkUpdateCoordinate
PUBLIC	?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkGetNearuser
PUBLIC	?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkQueryNearuser
PUBLIC	?OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubUserShare
PUBLIC	?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z	; CAttemperEngineSink::SendData
PUBLIC	?SendChatServerConfig@CAttemperEngineSink@@IAE_NK@Z ; CAttemperEngineSink::SendChatServerConfig
PUBLIC	?SendSystemMessage@CAttemperEngineSink@@IAE_NPBDG@Z ; CAttemperEngineSink::SendSystemMessage
PUBLIC	?SendSystemMessage@CAttemperEngineSink@@IAE_NKPBDG@Z ; CAttemperEngineSink::SendSystemMessage
PUBLIC	?SendLogonFailure@CAttemperEngineSink@@IAE_NPBDJK@Z ; CAttemperEngineSink::SendLogonFailure
PUBLIC	?SendOperateFailure@CAttemperEngineSink@@IAE_NPBDJJK@Z ; CAttemperEngineSink::SendOperateFailure
PUBLIC	?SendOperateSuccess@CAttemperEngineSink@@IAE_NPBDJK@Z ; CAttemperEngineSink::SendOperateSuccess
PUBLIC	?SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendDataToUserFriend
PUBLIC	?SaveOfflineMessage@CAttemperEngineSink@@IAE_NKGPAXGK@Z ; CAttemperEngineSink::SaveOfflineMessage
PUBLIC	?GetBindUserItem@CAttemperEngineSink@@IAEPAVCServerUserItem@@G@Z ; CAttemperEngineSink::GetBindUserItem
PUBLIC	?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ; CAttemperEngineSink::GetBindParameter
PUBLIC	?RemoveSystemMessage@CAttemperEngineSink@@IAEXXZ ; CAttemperEngineSink::RemoveSystemMessage
PUBLIC	?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z ; CAttemperEngineSink::OnEventDataBase
PUBLIC	?OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLogonSuccess
PUBLIC	?OnDBLogonFailure@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLogonFailure
PUBLIC	?OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserGroup
PUBLIC	?OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserFriend
PUBLIC	?OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserRemarksInfo
PUBLIC	?OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserSimpleIndividual
PUBLIC	?OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserOfflineMessage
PUBLIC	?OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadDeleteFriend
PUBLIC	?OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBUserAddFriend
PUBLIC	?OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBUserOperateResult
PUBLIC	?OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBSearchUserResult
PUBLIC	?OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBTrumpetResult
PUBLIC	?OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBSystemMessage
PUBLIC	?OnDBSystemMessageFinish@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBSystemMessageFinish
PUBLIC	??_GCAttemperEngineSink@@UAEPAXI@Z		; CAttemperEngineSink::`scalar deleting destructor'
PUBLIC	?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage
PUBLIC	??_C@_00CNPNBAHC@@				; `string'
PUBLIC	??_7IUnknownEx@@6B@				; IUnknownEx::`vftable'
PUBLIC	??_C@_0DK@NEJIDGKJ@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@ ; `string'
PUBLIC	?__LINE__Var@?0??AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z@4JA ; `CSendPacketHelper::AddPacket'::`1'::__LINE__Var
PUBLIC	??_7IAttemperEngineSink@@6B@			; IAttemperEngineSink::`vftable'
PUBLIC	??_7?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`vftable'
PUBLIC	??_7CAttemperEngineSink@@6B@			; CAttemperEngineSink::`vftable'
PUBLIC	?__LINE__Var@?0???1CAttemperEngineSink@@UAE@XZ@4JA ; `CAttemperEngineSink::~CAttemperEngineSink'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA ; `CAttemperEngineSink::OnAttemperEngineStart'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA ; `CAttemperEngineSink::OnAttemperEngineConclude'::`1'::__LINE__Var
PUBLIC	??_C@_0BN@EEJNAPCD@?U?$PN?T?Z?A?$KM?$LN?S?P?$KN?$LF?w?$LH?$PO?N?q?F?w?5?$FL?5?$CFs?3?$CFd?5?$FN@ ; `string'
PUBLIC	?__LINE__Var@?0??OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z@4JA ; `CAttemperEngineSink::OnEventTimer'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z@4JA ; `CAttemperEngineSink::OnEventTCPSocketLink'::`1'::__LINE__Var
PUBLIC	??_C@_0CP@NEANHCGA@?P?$KN?$LF?w?$LH?$PO?N?q?F?w?A?$KM?$LN?S?J?$KH?$LA?$NM?5?$FL?5?$CFld?5?$FN?$KD?$KM?$CFld@ ; `string'
PUBLIC	??_C@_0BK@HFEPLLFN@?U?$PN?T?Z?W?$KC?$LC?a?S?N?O?$LH?A?D?L?l?$LH?$PO?N?q?F?w?4?4?4@ ; `string'
PUBLIC	?__LINE__Var@?0??OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z@4JA ; `CAttemperEngineSink::OnEventTCPSocketShut'::`1'::__LINE__Var
PUBLIC	??_C@_0CN@HPLNLDC@?S?k?P?$KN?$LF?w?$LH?$PO?N?q?F?w?$LF?D?A?$KM?$LN?S?$LJ?X?$LB?U?A?K?$KD?$KM?$CFld?5?C@ ; `string'
PUBLIC	?__LINE__Var@?0??OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z@4JA ; `CAttemperEngineSink::OnEventTCPSocketSubUserStatus'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z@4JA ; `CAttemperEngineSink::OnEventTCPNetworkBind'::`1'::__LINE__Var
PUBLIC	??_C@_0BM@DDKDJNDD@?$LJ?X?$LB?U?A?$KM?$LN?S?R?l?$LD?$KD?3?5dwSocketID?$DN?$CFd@ ; `string'
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubMBLogonByUserID'::`1'::__LINE__Var
PUBLIC	??_C@_0CM@HGMNIANO@?D?z?J?d?H?k?$LF?D?U?K?$LK?E?$LL?r?C?$NM?B?k?$LC?$LL?U?$PN?H?$LH?0?G?k?H?$LH?H?O@ ; `string'
PUBLIC	??_C@_0CA@GNINJEOM@?D?z?$LF?D?U?K?$LK?E?T?Z?$LB?p?$LE?$KG?$LF?G?B?$LM?0?D?z?$LB?$LL?F?H?O?B?O?$NP?$KD?$KB@ ; `string'
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubApplyForFriend'::`1'::__LINE__Var
PUBLIC	??_C@_0BF@HIDGIOJB@?R?Q?$LO?$KN?J?G?$LK?C?S?Q?$KD?$KM?N?$NO?P?h?I?j?G?k@ ; `string'
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubRespondFriend'::`1'::__LINE__Var
PUBLIC	??_C@_0N@CHHLMELJ@?N?$LE?U?R?$LF?$LN?$LE?K?S?C?$LL?$KH@ ; `string'
PUBLIC	??_C@_0L@IPJFNCOP@?R?Q?$LO?$KN?J?G?$LK?C?S?Q@	; `string'
PUBLIC	??_C@_0BI@KMJOMEDM@?$CFs?5?$LO?$NM?$LO?x?A?K?D?z?$LF?D?$LK?C?S?Q?I?j?G?k?$KD?$KB@ ; `string'
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubRoomInvite'::`1'::__LINE__Var
PUBLIC	??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@	; `string'
PUBLIC	??_C@_0N@KFADCKOF@?S?C?$LL?$KH?R?Q?$LO?$KN?$MA?k?O?$NP@ ; `string'
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubInvitePersonal'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubUserChat'::`1'::__LINE__Var
PUBLIC	??_C@_0BH@NFEJGOJI@?$LH?$KC?K?M?J?$KH?$LA?$NM?$KD?$KM?$LG?T?$LH?$LN?R?Q?$LO?$KN?$MA?k?O?$NP@ ; `string'
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubSearchUser'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubTrumpet'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkDeleteFriend'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkUpdateCoordinate'::`1'::__LINE__Var
PUBLIC	??_C@_08BBDBIKKL@?W?x?$LB?j?$LE?m?N?s@		; `string'
PUBLIC	?__LINE__Var@?0??OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkGetNearuser'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkQueryNearuser'::`1'::__LINE__Var
PUBLIC	??_C@_0BH@GDPICBPP@?G?k?G?s?J?$KH?$LA?$NM?$KD?$KM?$LG?T?$LH?$LN?R?Q?$LO?$KN?$MA?k?O?$NP@ ; `string'
PUBLIC	?__LINE__Var@?0??OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA ; `CAttemperEngineSink::OnTCPNetworkSubUserShare'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z@4JA ; `CAttemperEngineSink::SendDataToUserFriend'::`1'::__LINE__Var
PUBLIC	??_C@_04JFFKLGJF@?$CF02X@			; `string'
PUBLIC	?__LINE__Var@?0??GetBindUserItem@CAttemperEngineSink@@IAEPAVCServerUserItem@@G@Z@4JA ; `CAttemperEngineSink::GetBindUserItem'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z@4JA ; `CAttemperEngineSink::GetBindParameter'::`1'::__LINE__Var
PUBLIC	??_C@_0BO@JLBNFFBE@OnEventDataBase?9wRequestID?$DN?$CFd@ ; `string'
PUBLIC	?__LINE__Var@?0??OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBLogonSuccess'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBLoadUserGroup'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBLoadUserFriend'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBLoadUserRemarksInfo'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBLoadUserSimpleIndividual'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBLoadUserOfflineMessage'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBLoadDeleteFriend'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBSearchUserResult'::`1'::__LINE__Var
PUBLIC	??_C@_0N@MPINKGKI@?$LC?i?Q?$KP?$LC?$LL?$LF?$LN?S?C?$LL?$KH@ ; `string'
PUBLIC	?__LINE__Var@?0??OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBUserAddFriend'::`1'::__LINE__Var
PUBLIC	??_C@_0BI@IHOMHEOO@?$CFs?5?M?$KM?R?b?A?K?D?z?$LF?D?$LK?C?S?Q?I?j?G?k?$KD?$KB@ ; `string'
PUBLIC	?__LINE__Var@?0??OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBTrumpetResult'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBUserOperateResult'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA ; `CAttemperEngineSink::OnDBSystemMessage'::`1'::__LINE__Var
PUBLIC	??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@ ; `string'
PUBLIC	??_R4IUnknownEx@@6B@				; IUnknownEx::`RTTI Complete Object Locator'
PUBLIC	??_R0?AUIUnknownEx@@@8				; IUnknownEx `RTTI Type Descriptor'
PUBLIC	??_R3IUnknownEx@@8				; IUnknownEx::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2IUnknownEx@@8				; IUnknownEx::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@IUnknownEx@@8			; IUnknownEx::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R4IAttemperEngineSink@@6B@			; IAttemperEngineSink::`RTTI Complete Object Locator'
PUBLIC	??_R0?AUIAttemperEngineSink@@@8			; IAttemperEngineSink `RTTI Type Descriptor'
PUBLIC	??_R3IAttemperEngineSink@@8			; IAttemperEngineSink::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2IAttemperEngineSink@@8			; IAttemperEngineSink::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@IAttemperEngineSink@@8		; IAttemperEngineSink::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R4?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`RTTI Complete Object Locator'
PUBLIC	??_R0?AV?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@@8 ; CWHArray<tagSystemMessage *,tagSystemMessage * const &> `RTTI Type Descriptor'
PUBLIC	??_R3?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8	; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8	; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8 ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R4CAttemperEngineSink@@6B@			; CAttemperEngineSink::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCAttemperEngineSink@@@8			; CAttemperEngineSink `RTTI Type Descriptor'
PUBLIC	??_R3CAttemperEngineSink@@8			; CAttemperEngineSink::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CAttemperEngineSink@@8			; CAttemperEngineSink::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CAttemperEngineSink@@8		; CAttemperEngineSink::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	__real@4066800000000000
EXTRN	__purecall:PROC
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	??_U@YAPAXI@Z:PROC				; operator new[]
EXTRN	??_V@YAXPAX@Z:PROC				; operator delete[]
EXTRN	_memcmp:PROC
EXTRN	_memcpy:PROC
EXTRN	_memmove:PROC
EXTRN	_memset:PROC
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	__imp__lstrcpynA@12:PROC
EXTRN	__imp__lstrlenA@4:PROC
EXTRN	__imp__PeekMessageA@20:PROC
EXTRN	__imp__PostQuitMessage@4:PROC
EXTRN	__imp____stdio_common_vsprintf:PROC
EXTRN	__imp___time64:PROC
EXTRN	__imp___CrtDbgReport:PROC
EXTRN	?AfxThrowInvalidArgException@@YGXXZ:PROC	; AfxThrowInvalidArgException
EXTRN	??2@YAPAXIPBDH@Z:PROC				; operator new
EXTRN	??_U@YAPAXIPBDH@Z:PROC				; operator new[]
EXTRN	__imp_?TraceString@CTraceService@@SA_NPBDW4enTraceLevel@@@Z:PROC
EXTRN	??0CNearUserManager@@QAE@XZ:PROC		; CNearUserManager::CNearUserManager
EXTRN	??1CNearUserManager@@UAE@XZ:PROC		; CNearUserManager::~CNearUserManager
EXTRN	?EnumUserItem@CNearUserManager@@UAEPAUtagNearUserInfo@@K@Z:PROC ; CNearUserManager::EnumUserItem
EXTRN	??0CServerUserManager@@QAE@XZ:PROC		; CServerUserManager::CServerUserManager
EXTRN	??1CServerUserManager@@UAE@XZ:PROC		; CServerUserManager::~CServerUserManager
EXTRN	?AppendFriendInfo@CUserFriendGroup@@QAE_NAAUtagServerFriendInfo@@@Z:PROC ; CUserFriendGroup::AppendFriendInfo
EXTRN	?RemoveFriendInfo@CUserFriendGroup@@QAE_NK@Z:PROC ; CUserFriendGroup::RemoveFriendInfo
EXTRN	?SearchFriendItem@CUserFriendGroup@@QAEPAUtagServerFriendInfo@@K@Z:PROC ; CUserFriendGroup::SearchFriendItem
EXTRN	?EnumFriendItem@CUserFriendGroup@@QAEPAUtagServerFriendInfo@@G@Z:PROC ; CUserFriendGroup::EnumFriendItem
EXTRN	?ResetFriendGroup@CUserFriendGroup@@QAEXXZ:PROC	; CUserFriendGroup::ResetFriendGroup
EXTRN	??0CFriendGroupManager@@QAE@XZ:PROC		; CFriendGroupManager::CFriendGroupManager
EXTRN	??1CFriendGroupManager@@UAE@XZ:PROC		; CFriendGroupManager::~CFriendGroupManager
EXTRN	?ActiveFriendGroup@CFriendGroupManager@@QAEPAVCUserFriendGroup@@G@Z:PROC ; CFriendGroupManager::ActiveFriendGroup
EXTRN	??_E?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAEPAXI@Z:PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`vector deleting destructor'
EXTRN	??_ECAttemperEngineSink@@UAEPAXI@Z:PROC		; CAttemperEngineSink::`vector deleting destructor'
EXTRN	?PostControlRequest@CServiceUnits@@QAE_NGPAXG@Z:PROC ; CServiceUnits::PostControlRequest
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	__chkstk:PROC
EXTRN	_memset:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?g_pServiceUnits@CServiceUnits@@2PAV1@A:DWORD	; CServiceUnits::g_pServiceUnits
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
;	COMDAT ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA
_BSS	SEGMENT
?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA DQ 01H DUP (?) ; `__local_stdio_printf_options'::`2'::_OptionsStorage
_BSS	ENDS
;	COMDAT __real@4066800000000000
CONST	SEGMENT
__real@4066800000000000 DQ 04066800000000000r	; 180
CONST	ENDS
;	COMDAT ??_R1A@?0A@EA@CAttemperEngineSink@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CAttemperEngineSink@@8 DD FLAT:??_R0?AVCAttemperEngineSink@@@8 ; CAttemperEngineSink::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	02H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CAttemperEngineSink@@8
rdata$r	ENDS
;	COMDAT ??_R2CAttemperEngineSink@@8
rdata$r	SEGMENT
??_R2CAttemperEngineSink@@8 DD FLAT:??_R1A@?0A@EA@CAttemperEngineSink@@8 ; CAttemperEngineSink::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@IAttemperEngineSink@@8
	DD	FLAT:??_R1A@?0A@EA@IUnknownEx@@8
rdata$r	ENDS
;	COMDAT ??_R3CAttemperEngineSink@@8
rdata$r	SEGMENT
??_R3CAttemperEngineSink@@8 DD 00H			; CAttemperEngineSink::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	03H
	DD	FLAT:??_R2CAttemperEngineSink@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCAttemperEngineSink@@@8
data$r	SEGMENT
??_R0?AVCAttemperEngineSink@@@8 DD FLAT:??_7type_info@@6B@ ; CAttemperEngineSink `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCAttemperEngineSink@@', 00H
data$r	ENDS
;	COMDAT ??_R4CAttemperEngineSink@@6B@
rdata$r	SEGMENT
??_R4CAttemperEngineSink@@6B@ DD 00H			; CAttemperEngineSink::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCAttemperEngineSink@@@8
	DD	FLAT:??_R3CAttemperEngineSink@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8 DD FLAT:??_R0?AV?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@@8 ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8
rdata$r	ENDS
;	COMDAT ??_R2?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8
rdata$r	SEGMENT
??_R2?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8 DD FLAT:??_R1A@?0A@EA@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8 ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8
rdata$r	SEGMENT
??_R3?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8 DD 00H	; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8
rdata$r	ENDS
;	COMDAT ??_R0?AV?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@@8
data$r	SEGMENT
??_R0?AV?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@@8 DD FLAT:??_7type_info@@6B@ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &> `RTTI Type Descriptor'
	DD	00H
	DB	'.?AV?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@', 00H
data$r	ENDS
;	COMDAT ??_R4?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@
rdata$r	SEGMENT
??_R4?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@ DD 00H ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AV?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@@8
	DD	FLAT:??_R3?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@IAttemperEngineSink@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@IAttemperEngineSink@@8 DD FLAT:??_R0?AUIAttemperEngineSink@@@8 ; IAttemperEngineSink::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3IAttemperEngineSink@@8
rdata$r	ENDS
;	COMDAT ??_R2IAttemperEngineSink@@8
rdata$r	SEGMENT
??_R2IAttemperEngineSink@@8 DD FLAT:??_R1A@?0A@EA@IAttemperEngineSink@@8 ; IAttemperEngineSink::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@IUnknownEx@@8
rdata$r	ENDS
;	COMDAT ??_R3IAttemperEngineSink@@8
rdata$r	SEGMENT
??_R3IAttemperEngineSink@@8 DD 00H			; IAttemperEngineSink::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2IAttemperEngineSink@@8
rdata$r	ENDS
;	COMDAT ??_R0?AUIAttemperEngineSink@@@8
data$r	SEGMENT
??_R0?AUIAttemperEngineSink@@@8 DD FLAT:??_7type_info@@6B@ ; IAttemperEngineSink `RTTI Type Descriptor'
	DD	00H
	DB	'.?AUIAttemperEngineSink@@', 00H
data$r	ENDS
;	COMDAT ??_R4IAttemperEngineSink@@6B@
rdata$r	SEGMENT
??_R4IAttemperEngineSink@@6B@ DD 00H			; IAttemperEngineSink::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AUIAttemperEngineSink@@@8
	DD	FLAT:??_R3IAttemperEngineSink@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@IUnknownEx@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@IUnknownEx@@8 DD FLAT:??_R0?AUIUnknownEx@@@8 ; IUnknownEx::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3IUnknownEx@@8
rdata$r	ENDS
;	COMDAT ??_R2IUnknownEx@@8
rdata$r	SEGMENT
??_R2IUnknownEx@@8 DD FLAT:??_R1A@?0A@EA@IUnknownEx@@8	; IUnknownEx::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3IUnknownEx@@8
rdata$r	SEGMENT
??_R3IUnknownEx@@8 DD 00H				; IUnknownEx::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2IUnknownEx@@8
rdata$r	ENDS
;	COMDAT ??_R0?AUIUnknownEx@@@8
data$r	SEGMENT
??_R0?AUIUnknownEx@@@8 DD FLAT:??_7type_info@@6B@	; IUnknownEx `RTTI Type Descriptor'
	DD	00H
	DB	'.?AUIUnknownEx@@', 00H
data$r	ENDS
;	COMDAT ??_R4IUnknownEx@@6B@
rdata$r	SEGMENT
??_R4IUnknownEx@@6B@ DD 00H				; IUnknownEx::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AUIUnknownEx@@@8
	DD	FLAT:??_R3IUnknownEx@@8
rdata$r	ENDS
;	COMDAT ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
CONST	SEGMENT
??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@ DB 'g'
	DB	':\', 0cdH, 0f8H, 0baH, 0fcH, '\happygamewh\', 0b7H, 0feH, 0ceH
	DB	0f1H, 0b6H, 0cbH, '\', 0cfH, 0b5H, 0cdH, 0b3H, 0c4H, 0a3H, 0bfH
	DB	0e9H, '\', 0c8H, 0abH, 0beH, 0d6H, 0b6H, 0a8H, 0d2H, 0e5H, '\a'
	DB	'rray.h', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 0ab1H ; `CAttemperEngineSink::OnDBSystemMessage'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 0a90H ; `CAttemperEngineSink::OnDBUserOperateResult'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 0a5cH ; `CAttemperEngineSink::OnDBTrumpetResult'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BI@IHOMHEOO@?$CFs?5?M?$KM?R?b?A?K?D?z?$LF?D?$LK?C?S?Q?I?j?G?k?$KD?$KB@
CONST	SEGMENT
??_C@_0BI@IHOMHEOO@?$CFs?5?M?$KM?R?b?A?K?D?z?$LF?D?$LK?C?S?Q?I?j?G?k?$KD?$KB@ DB '%'
	DB	's ', 0cdH, 0acH, 0d2H, 0e2H, 0c1H, 0cbH, 0c4H, 0faH, 0b5H, 0c4H
	DB	0baH, 0c3H, 0d3H, 0d1H, 0c9H, 0eaH, 0c7H, 0ebH, 0a3H, 0a1H, 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 09abH ; `CAttemperEngineSink::OnDBUserAddFriend'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0N@MPINKGKI@?$LC?i?Q?$KP?$LC?$LL?$LF?$LN?S?C?$LL?$KH@
CONST	SEGMENT
??_C@_0N@MPINKGKI@?$LC?i?Q?$KP?$LC?$LL?$LF?$LN?S?C?$LL?$KH@ DB 0b2H, 0e9H
	DB	0d1H, 0afH, 0b2H, 0bbH, 0b5H, 0bdH, 0d3H, 0c3H, 0bbH, 0a7H, 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 096cH ; `CAttemperEngineSink::OnDBSearchUserResult'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 0926H ; `CAttemperEngineSink::OnDBLoadDeleteFriend'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 08f7H ; `CAttemperEngineSink::OnDBLoadUserOfflineMessage'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 088bH ; `CAttemperEngineSink::OnDBLoadUserSimpleIndividual'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 084dH ; `CAttemperEngineSink::OnDBLoadUserRemarksInfo'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 07d5H ; `CAttemperEngineSink::OnDBLoadUserFriend'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 0796H ; `CAttemperEngineSink::OnDBLoadUserGroup'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA DD 073aH ; `CAttemperEngineSink::OnDBLogonSuccess'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BO@JLBNFFBE@OnEventDataBase?9wRequestID?$DN?$CFd@
CONST	SEGMENT
??_C@_0BO@JLBNFFBE@OnEventDataBase?9wRequestID?$DN?$CFd@ DB 'OnEventDataB'
	DB	'ase-wRequestID=%d', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z@4JA DD 06dbH ; `CAttemperEngineSink::GetBindParameter'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??GetBindUserItem@CAttemperEngineSink@@IAEPAVCServerUserItem@@G@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??GetBindUserItem@CAttemperEngineSink@@IAEPAVCServerUserItem@@G@Z@4JA DD 06c9H ; `CAttemperEngineSink::GetBindUserItem'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_04JFFKLGJF@?$CF02X@
CONST	SEGMENT
??_C@_04JFFKLGJF@?$CF02X@ DB '%02X', 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z@4JA DD 0685H ; `CAttemperEngineSink::SendDataToUserFriend'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 0601H ; `CAttemperEngineSink::OnTCPNetworkSubUserShare'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BH@GDPICBPP@?G?k?G?s?J?$KH?$LA?$NM?$KD?$KM?$LG?T?$LH?$LN?R?Q?$LO?$KN?$MA?k?O?$NP@
CONST	SEGMENT
??_C@_0BH@GDPICBPP@?G?k?G?s?J?$KH?$LA?$NM?$KD?$KM?$LG?T?$LH?$LN?R?Q?$LO?$KN?$MA?k?O?$NP@ DB 0c7H
	DB	0ebH, 0c7H, 0f3H, 0caH, 0a7H, 0b0H, 0dcH, 0a3H, 0acH, 0b6H, 0d4H
	DB	0b7H, 0bdH, 0d2H, 0d1H, 0beH, 0adH, 0c0H, 0ebH, 0cfH, 0dfH, 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 05c0H ; `CAttemperEngineSink::OnTCPNetworkQueryNearuser'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 0574H ; `CAttemperEngineSink::OnTCPNetworkGetNearuser'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_08BBDBIKKL@?W?x?$LB?j?$LE?m?N?s@
CONST	SEGMENT
??_C@_08BBDBIKKL@?W?x?$LB?j?$LE?m?N?s@ DB 0d7H, 0f8H, 0b1H, 0eaH, 0b4H, 0edH
	DB	0ceH, 0f3H, 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 0529H ; `CAttemperEngineSink::OnTCPNetworkUpdateCoordinate'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 0504H ; `CAttemperEngineSink::OnTCPNetworkDeleteFriend'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 04d8H ; `CAttemperEngineSink::OnTCPNetworkSubTrumpet'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 04c3H ; `CAttemperEngineSink::OnTCPNetworkSubSearchUser'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BH@NFEJGOJI@?$LH?$KC?K?M?J?$KH?$LA?$NM?$KD?$KM?$LG?T?$LH?$LN?R?Q?$LO?$KN?$MA?k?O?$NP@
CONST	SEGMENT
??_C@_0BH@NFEJGOJI@?$LH?$KC?K?M?J?$KH?$LA?$NM?$KD?$KM?$LG?T?$LH?$LN?R?Q?$LO?$KN?$MA?k?O?$NP@ DB 0b7H
	DB	0a2H, 0cbH, 0cdH, 0caH, 0a7H, 0b0H, 0dcH, 0a3H, 0acH, 0b6H, 0d4H
	DB	0b7H, 0bdH, 0d2H, 0d1H, 0beH, 0adH, 0c0H, 0ebH, 0cfH, 0dfH, 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 0484H ; `CAttemperEngineSink::OnTCPNetworkSubUserChat'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 042fH ; `CAttemperEngineSink::OnTCPNetworkSubInvitePersonal'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0N@KFADCKOF@?S?C?$LL?$KH?R?Q?$LO?$KN?$MA?k?O?$NP@
CONST	SEGMENT
??_C@_0N@KFADCKOF@?S?C?$LL?$KH?R?Q?$LO?$KN?$MA?k?O?$NP@ DB 0d3H, 0c3H, 0bbH
	DB	0a7H, 0d2H, 0d1H, 0beH, 0adH, 0c0H, 0ebH, 0cfH, 0dfH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
CONST	SEGMENT
??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@ DB 0d0H, 0c5H, 0cfH, 0a2H, 0b3H
	DB	0acH, 0caH, 0b1H, 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 03dbH ; `CAttemperEngineSink::OnTCPNetworkSubRoomInvite'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BI@KMJOMEDM@?$CFs?5?$LO?$NM?$LO?x?A?K?D?z?$LF?D?$LK?C?S?Q?I?j?G?k?$KD?$KB@
CONST	SEGMENT
??_C@_0BI@KMJOMEDM@?$CFs?5?$LO?$NM?$LO?x?A?K?D?z?$LF?D?$LK?C?S?Q?I?j?G?k?$KD?$KB@ DB '%'
	DB	's ', 0beH, 0dcH, 0beH, 0f8H, 0c1H, 0cbH, 0c4H, 0faH, 0b5H, 0c4H
	DB	0baH, 0c3H, 0d3H, 0d1H, 0c9H, 0eaH, 0c7H, 0ebH, 0a3H, 0a1H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@IPJFNCOP@?R?Q?$LO?$KN?J?G?$LK?C?S?Q@
CONST	SEGMENT
??_C@_0L@IPJFNCOP@?R?Q?$LO?$KN?J?G?$LK?C?S?Q@ DB 0d2H, 0d1H, 0beH, 0adH, 0caH
	DB	0c7H, 0baH, 0c3H, 0d3H, 0d1H, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@CHHLMELJ@?N?$LE?U?R?$LF?$LN?$LE?K?S?C?$LL?$KH@
CONST	SEGMENT
??_C@_0N@CHHLMELJ@?N?$LE?U?R?$LF?$LN?$LE?K?S?C?$LL?$KH@ DB 0ceH, 0b4H, 0d5H
	DB	0d2H, 0b5H, 0bdH, 0b4H, 0cbH, 0d3H, 0c3H, 0bbH, 0a7H, 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 0375H ; `CAttemperEngineSink::OnTCPNetworkSubRespondFriend'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BF@HIDGIOJB@?R?Q?$LO?$KN?J?G?$LK?C?S?Q?$KD?$KM?N?$NO?P?h?I?j?G?k@
CONST	SEGMENT
??_C@_0BF@HIDGIOJB@?R?Q?$LO?$KN?J?G?$LK?C?S?Q?$KD?$KM?N?$NO?P?h?I?j?G?k@ DB 0d2H
	DB	0d1H, 0beH, 0adH, 0caH, 0c7H, 0baH, 0c3H, 0d3H, 0d1H, 0a3H, 0acH
	DB	0ceH, 0deH, 0d0H, 0e8H, 0c9H, 0eaH, 0c7H, 0ebH, 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 0321H ; `CAttemperEngineSink::OnTCPNetworkSubApplyForFriend'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CA@GNINJEOM@?D?z?$LF?D?U?K?$LK?E?T?Z?$LB?p?$LE?$KG?$LF?G?B?$LM?0?D?z?$LB?$LL?F?H?O?B?O?$NP?$KD?$KB@
CONST	SEGMENT
??_C@_0CA@GNINJEOM@?D?z?$LF?D?U?K?$LK?E?T?Z?$LB?p?$LE?$KG?$LF?G?B?$LM?0?D?z?$LB?$LL?F?H?O?B?O?$NP?$KD?$KB@ DB 0c4H
	DB	0faH, 0b5H, 0c4H, 0d5H, 0cbH, 0baH, 0c5H, 0d4H, 0daH, 0b1H, 0f0H
	DB	0b4H, 0a6H, 0b5H, 0c7H, 0c2H, 0bcH, ',', 0c4H, 0faH, 0b1H, 0bbH
	DB	0c6H, 0c8H, 0cfH, 0c2H, 0cfH, 0dfH, 0a3H, 0a1H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@HGMNIANO@?D?z?J?d?H?k?$LF?D?U?K?$LK?E?$LL?r?C?$NM?B?k?$LC?$LL?U?$PN?H?$LH?0?G?k?H?$LH?H?O@
CONST	SEGMENT
??_C@_0CM@HGMNIANO@?D?z?J?d?H?k?$LF?D?U?K?$LK?E?$LL?r?C?$NM?B?k?$LC?$LL?U?$PN?H?$LH?0?G?k?H?$LH?H?O@ DB 0c4H
	DB	0faH, 0caH, 0e4H, 0c8H, 0ebH, 0b5H, 0c4H, 0d5H, 0cbH, 0baH, 0c5H
	DB	0bbH, 0f2H, 0c3H, 0dcH, 0c2H, 0ebH, 0b2H, 0bbH, 0d5H, 0fdH, 0c8H
	DB	0b7H, ',', 0c7H, 0ebH, 0c8H, 0b7H, 0c8H, 0cfH, 0baH, 0f3H, 0d6H
	DB	0d8H, 0d0H, 0c2H, 0b5H, 0c7H, 0c2H, 0bcH, 0a3H, 0a1H, 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA DD 02c7H ; `CAttemperEngineSink::OnTCPNetworkSubMBLogonByUserID'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BM@DDKDJNDD@?$LJ?X?$LB?U?A?$KM?$LN?S?R?l?$LD?$KD?3?5dwSocketID?$DN?$CFd@
CONST	SEGMENT
??_C@_0BM@DDKDJNDD@?$LJ?X?$LB?U?A?$KM?$LN?S?R?l?$LD?$KD?3?5dwSocketID?$DN?$CFd@ DB 0b9H
	DB	0d8H, 0b1H, 0d5H, 0c1H, 0acH, 0bdH, 0d3H, 0d2H, 0ecH, 0b3H, 0a3H
	DB	': dwSocketID=%d', 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z@4JA DD 01ceH ; `CAttemperEngineSink::OnEventTCPNetworkBind'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z@4JA DD 0190H ; `CAttemperEngineSink::OnEventTCPSocketSubUserStatus'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CN@HPLNLDC@?S?k?P?$KN?$LF?w?$LH?$PO?N?q?F?w?$LF?D?A?$KM?$LN?S?$LJ?X?$LB?U?A?K?$KD?$KM?$CFld?5?C@
CONST	SEGMENT
??_C@_0CN@HPLNLDC@?S?k?P?$KN?$LF?w?$LH?$PO?N?q?F?w?$LF?D?A?$KM?$LN?S?$LJ?X?$LB?U?A?K?$KD?$KM?$CFld?5?C@ DB 0d3H
	DB	0ebH, 0d0H, 0adH, 0b5H, 0f7H, 0b7H, 0feH, 0ceH, 0f1H, 0c6H, 0f7H
	DB	0b5H, 0c4H, 0c1H, 0acH, 0bdH, 0d3H, 0b9H, 0d8H, 0b1H, 0d5H, 0c1H
	DB	0cbH, 0a3H, 0acH, '%ld ', 0c3H, 0ebH, 0baH, 0f3H, 0bdH, 0abH, 0d6H
	DB	0d8H, 0d0H, 0c2H, 0c1H, 0acH, 0bdH, 0d3H, 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z@4JA DD 0126H ; `CAttemperEngineSink::OnEventTCPSocketShut'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BK@HFEPLLFN@?U?$PN?T?Z?W?$KC?$LC?a?S?N?O?$LH?A?D?L?l?$LH?$PO?N?q?F?w?4?4?4@
CONST	SEGMENT
??_C@_0BK@HFEPLLFN@?U?$PN?T?Z?W?$KC?$LC?a?S?N?O?$LH?A?D?L?l?$LH?$PO?N?q?F?w?4?4?4@ DB 0d5H
	DB	0fdH, 0d4H, 0daH, 0d7H, 0a2H, 0b2H, 0e1H, 0d3H, 0ceH, 0cfH, 0b7H
	DB	0c1H, 0c4H, 0ccH, 0ecH, 0b7H, 0feH, 0ceH, 0f1H, 0c6H, 0f7H, '.'
	DB	'..', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0CP@NEANHCGA@?P?$KN?$LF?w?$LH?$PO?N?q?F?w?A?$KM?$LN?S?J?$KH?$LA?$NM?5?$FL?5?$CFld?5?$FN?$KD?$KM?$CFld@
CONST	SEGMENT
??_C@_0CP@NEANHCGA@?P?$KN?$LF?w?$LH?$PO?N?q?F?w?A?$KM?$LN?S?J?$KH?$LA?$NM?5?$FL?5?$CFld?5?$FN?$KD?$KM?$CFld@ DB 0d0H
	DB	0adH, 0b5H, 0f7H, 0b7H, 0feH, 0ceH, 0f1H, 0c6H, 0f7H, 0c1H, 0acH
	DB	0bdH, 0d3H, 0caH, 0a7H, 0b0H, 0dcH, ' [ %ld ]', 0a3H, 0acH, '%'
	DB	'ld ', 0c3H, 0ebH, 0baH, 0f3H, 0bdH, 0abH, 0d6H, 0d8H, 0d0H, 0c2H
	DB	0c1H, 0acH, 0bdH, 0d3H, 00H			; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z@4JA DD 0fcH ; `CAttemperEngineSink::OnEventTCPSocketLink'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z@4JA DD 0aaH ; `CAttemperEngineSink::OnEventTimer'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BN@EEJNAPCD@?U?$PN?T?Z?A?$KM?$LN?S?P?$KN?$LF?w?$LH?$PO?N?q?F?w?5?$FL?5?$CFs?3?$CFd?5?$FN@
CONST	SEGMENT
??_C@_0BN@EEJNAPCD@?U?$PN?T?Z?A?$KM?$LN?S?P?$KN?$LF?w?$LH?$PO?N?q?F?w?5?$FL?5?$CFs?3?$CFd?5?$FN@ DB 0d5H
	DB	0fdH, 0d4H, 0daH, 0c1H, 0acH, 0bdH, 0d3H, 0d0H, 0adH, 0b5H, 0f7H
	DB	0b7H, 0feH, 0ceH, 0f1H, 0c6H, 0f7H, ' [ %s:%d ]', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA DD 065H ; `CAttemperEngineSink::OnAttemperEngineConclude'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA DD 057H ; `CAttemperEngineSink::OnAttemperEngineStart'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0???1CAttemperEngineSink@@UAE@XZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0???1CAttemperEngineSink@@UAE@XZ@4JA DD 03aH ; `CAttemperEngineSink::~CAttemperEngineSink'::`1'::__LINE__Var
_DATA	ENDS
_DATA	SEGMENT
?THIS_FILE@@3PADA DB 'g:\', 0cdH, 0f8H, 0baH, 0fcH, '\happygamewh\', 0b7H
	DB	0feH, 0ceH, 0f1H, 0b6H, 0cbH, '\', 0cfH, 0b5H, 0cdH, 0b3H, 0c4H
	DB	0a3H, 0bfH, 0e9H, '\', 0b7H, 0feH, 0ceH, 0f1H, 0c6H, 0f7H, 0d7H
	DB	0e9H, 0bcH, 0feH, '\', 0c1H, 0c4H, 0ccH, 0ecH, 0b7H, 0feH, 0ceH
	DB	0f1H, 0c6H, 0f7H, '\attemperenginesink.cpp', 00H ; THIS_FILE
_DATA	ENDS
;	COMDAT ??_7CAttemperEngineSink@@6B@
CONST	SEGMENT
??_7CAttemperEngineSink@@6B@ DD FLAT:??_R4CAttemperEngineSink@@6B@ ; CAttemperEngineSink::`vftable'
	DD	FLAT:?Release@CAttemperEngineSink@@UAEXXZ
	DD	FLAT:?QueryInterface@CAttemperEngineSink@@UAEPAXABU_GUID@@K@Z
	DD	FLAT:?OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z
	DD	FLAT:?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z
	DD	FLAT:?OnEventControl@CAttemperEngineSink@@UAE_NGPAXG@Z
	DD	FLAT:?OnEventAttemperData@CAttemperEngineSink@@UAE_NGPAXG@Z
	DD	FLAT:?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z
	DD	FLAT:?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z
	DD	FLAT:?OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z
	DD	FLAT:?OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z
	DD	FLAT:?OnEventTCPSocketRead@CAttemperEngineSink@@UAE_NGUTCP_Command@@PAXG@Z
	DD	FLAT:?OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z
	DD	FLAT:?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z
	DD	FLAT:?OnEventTCPNetworkRead@CAttemperEngineSink@@UAE_NUTCP_Command@@PAXGK@Z
	DD	FLAT:??_ECAttemperEngineSink@@UAEPAXI@Z
CONST	ENDS
;	COMDAT ??_7?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@
CONST	SEGMENT
??_7?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@ DD FLAT:??_R4?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`vftable'
	DD	FLAT:??_E?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAEPAXI@Z
CONST	ENDS
;	COMDAT ??_7IAttemperEngineSink@@6B@
CONST	SEGMENT
??_7IAttemperEngineSink@@6B@ DD FLAT:??_R4IAttemperEngineSink@@6B@ ; IAttemperEngineSink::`vftable'
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
	DD	FLAT:__purecall
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0??AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z@4JA DD 072H ; `CSendPacketHelper::AddPacket'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DK@NEJIDGKJ@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
CONST	SEGMENT
??_C@_0DK@NEJIDGKJ@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@ DB 'g'
	DB	':\', 0cdH, 0f8H, 0baH, 0fcH, '\happygamewh\', 0b7H, 0feH, 0ceH
	DB	0f1H, 0b6H, 0cbH, '\', 0cfH, 0b5H, 0cdH, 0b3H, 0c4H, 0a3H, 0bfH
	DB	0e9H, '\', 0c8H, 0abH, 0beH, 0d6H, 0b6H, 0a8H, 0d2H, 0e5H, '\p'
	DB	'acketaide.h', 00H				; `string'
CONST	ENDS
;	COMDAT ??_7IUnknownEx@@6B@
CONST	SEGMENT
??_7IUnknownEx@@6B@ DD FLAT:??_R4IUnknownEx@@6B@	; IUnknownEx::`vftable'
	DD	FLAT:__purecall
	DD	FLAT:__purecall
CONST	ENDS
;	COMDAT ??_C@_00CNPNBAHC@@
CONST	SEGMENT
??_C@_00CNPNBAHC@@ DB 00H				; `string'
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z$2 DD 040H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z$0
__unwindtable$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z$2
__ehfuncinfo$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z
	DD	01H
	DD	FLAT:__tryblocktable$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z$0
__ehfuncinfo$?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z$0
__ehfuncinfo$?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z$2 DD 040H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z$0
__unwindtable$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z$2
__ehfuncinfo$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z
	DD	01H
	DD	FLAT:__tryblocktable$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z$2 DD 040H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z$0
__unwindtable$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__tryblocktable$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z$2
__ehfuncinfo$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z
	DD	01H
	DD	FLAT:__tryblocktable$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$5 DD 040H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$2
__catchsym$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$4 DD 040H
	DD	00H
	DD	00H
	DD	FLAT:__catch$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$0
__unwindtable$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z DD 0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	0ffffffffH
	DD	00H
__ehfuncinfo$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z DD 019930522H
	DD	04H
	DD	FLAT:__unwindtable$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z
	DD	02H
	DD	FLAT:__tryblocktable$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z
	DD	2 DUP(00H)
	DD	00H
	DD	01H
__tryblocktable$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z DD 00H
	DD	00H
	DD	01H
	DD	01H
	DD	FLAT:__catchsym$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$4
	DD	02H
	DD	02H
	DD	03H
	DD	01H
	DD	FLAT:__catchsym$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$5
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__catchsym$??1CAttemperEngineSink@@UAE@XZ$12 DD 040H
	DD	00H
	DD	00H
	DD	FLAT:__catch$??1CAttemperEngineSink@@UAE@XZ$4
__catchsym$??1CAttemperEngineSink@@UAE@XZ$11 DD 040H
	DD	00H
	DD	00H
	DD	FLAT:__catch$??1CAttemperEngineSink@@UAE@XZ$2
__catchsym$??1CAttemperEngineSink@@UAE@XZ$10 DD 040H
	DD	00H
	DD	00H
	DD	FLAT:__catch$??1CAttemperEngineSink@@UAE@XZ$0
__ehfuncinfo$??1CAttemperEngineSink@@UAE@XZ DD 019930522H
	DD	0aH
	DD	FLAT:__unwindtable$??1CAttemperEngineSink@@UAE@XZ
	DD	03H
	DD	FLAT:__tryblocktable$??1CAttemperEngineSink@@UAE@XZ
	DD	2 DUP(00H)
	DD	00H
	DD	05H
__tryblocktable$??1CAttemperEngineSink@@UAE@XZ DD 04H
	DD	04H
	DD	05H
	DD	01H
	DD	FLAT:__catchsym$??1CAttemperEngineSink@@UAE@XZ$10
	DD	06H
	DD	06H
	DD	07H
	DD	01H
	DD	FLAT:__catchsym$??1CAttemperEngineSink@@UAE@XZ$11
	DD	08H
	DD	08H
	DD	09H
	DD	01H
	DD	FLAT:__catchsym$??1CAttemperEngineSink@@UAE@XZ$12
__unwindtable$??1CAttemperEngineSink@@UAE@XZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$??1CAttemperEngineSink@@UAE@XZ$6
	DD	00H
	DD	FLAT:__unwindfunclet$??1CAttemperEngineSink@@UAE@XZ$7
	DD	01H
	DD	FLAT:__unwindfunclet$??1CAttemperEngineSink@@UAE@XZ$8
	DD	02H
	DD	FLAT:__unwindfunclet$??1CAttemperEngineSink@@UAE@XZ$9
	DD	03H
	DD	00H
	DD	03H
	DD	00H
	DD	03H
	DD	00H
	DD	03H
	DD	00H
	DD	03H
	DD	00H
	DD	03H
	DD	00H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$??0CAttemperEngineSink@@QAE@XZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$??0CAttemperEngineSink@@QAE@XZ$0
	DD	00H
	DD	FLAT:__unwindfunclet$??0CAttemperEngineSink@@QAE@XZ$1
	DD	01H
	DD	FLAT:__unwindfunclet$??0CAttemperEngineSink@@QAE@XZ$2
__ehfuncinfo$??0CAttemperEngineSink@@QAE@XZ DD 019930522H
	DD	03H
	DD	FLAT:__unwindtable$??0CAttemperEngineSink@@QAE@XZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??_GCAttemperEngineSink@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_GCAttemperEngineSink@@UAEPAXI@Z PROC			; CAttemperEngineSink::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1CAttemperEngineSink@@UAE@XZ ; CAttemperEngineSink::~CAttemperEngineSink
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 11		 je	 SHORT $LN2@scalar
  0001c	68 ec 00 00 00	 push	 236			; 000000ecH
  00021	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00024	50		 push	 eax
  00025	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  0002a	83 c4 08	 add	 esp, 8
$LN2@scalar:
  0002d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00030	5f		 pop	 edi
  00031	5e		 pop	 esi
  00032	5b		 pop	 ebx
  00033	8b e5		 mov	 esp, ebp
  00035	5d		 pop	 ebp
  00036	c2 04 00	 ret	 4
??_GCAttemperEngineSink@@UAEPAXI@Z ENDP			; CAttemperEngineSink::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBSystemMessageFinish@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_nIndex$1 = -12						; size = 4
_pTagSystemMessage$2 = -8				; size = 4
_this$ = -4						; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBSystemMessageFinish@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBSystemMessageFinish, COMDAT
; _this$ = ecx

; 2775 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2776 : 	//处理临时消息
; 2777 : 	if (m_SystemMessageBuffer.GetCount()>0)

  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  00015	e8 00 00 00 00	 call	 ?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount
  0001a	85 c0		 test	 eax, eax
  0001c	7e 7a		 jle	 SHORT $LN5@OnDBSystem

; 2778 : 	{
; 2779 : 		//变量定义
; 2780 : 		tagSystemMessage *pTagSystemMessage = NULL;

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _pTagSystemMessage$2[ebp], 0

; 2781 : 
; 2782 : 		for (INT_PTR nIndex = m_SystemMessageBuffer.GetCount() - 1; nIndex >= 0; nIndex--)

  00025	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00028	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  0002e	e8 00 00 00 00	 call	 ?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount
  00033	83 e8 01	 sub	 eax, 1
  00036	89 45 f4	 mov	 DWORD PTR _nIndex$1[ebp], eax
  00039	eb 09		 jmp	 SHORT $LN4@OnDBSystem
$LN2@OnDBSystem:
  0003b	8b 45 f4	 mov	 eax, DWORD PTR _nIndex$1[ebp]
  0003e	83 e8 01	 sub	 eax, 1
  00041	89 45 f4	 mov	 DWORD PTR _nIndex$1[ebp], eax
$LN4@OnDBSystem:
  00044	83 7d f4 00	 cmp	 DWORD PTR _nIndex$1[ebp], 0
  00048	7c 4e		 jl	 SHORT $LN5@OnDBSystem

; 2783 : 		{
; 2784 : 			pTagSystemMessage = m_SystemMessageBuffer[nIndex];

  0004a	8b 45 f4	 mov	 eax, DWORD PTR _nIndex$1[ebp]
  0004d	50		 push	 eax
  0004e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00051	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  00057	e8 00 00 00 00	 call	 ??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::operator[]
  0005c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005e	89 4d f8	 mov	 DWORD PTR _pTagSystemMessage$2[ebp], ecx

; 2785 : 			if (pTagSystemMessage && pTagSystemMessage->SystemMessage.dwMessageID == TEMP_MESSAGE_ID)

  00061	83 7d f8 00	 cmp	 DWORD PTR _pTagSystemMessage$2[ebp], 0
  00065	74 2f		 je	 SHORT $LN6@OnDBSystem
  00067	8b 45 f8	 mov	 eax, DWORD PTR _pTagSystemMessage$2[ebp]
  0006a	83 78 04 ff	 cmp	 DWORD PTR [eax+4], -1
  0006e	75 26		 jne	 SHORT $LN6@OnDBSystem

; 2786 : 			{
; 2787 : 				m_SystemMessageActive.Add(pTagSystemMessage);

  00070	8d 45 f8	 lea	 eax, DWORD PTR _pTagSystemMessage$2[ebp]
  00073	50		 push	 eax
  00074	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00077	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  0007d	e8 00 00 00 00	 call	 ?Add@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABQAUtagSystemMessage@@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Add

; 2788 : 				m_SystemMessageBuffer.RemoveAt(nIndex);

  00082	6a 01		 push	 1
  00084	8b 45 f4	 mov	 eax, DWORD PTR _nIndex$1[ebp]
  00087	50		 push	 eax
  00088	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0008b	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  00091	e8 00 00 00 00	 call	 ?RemoveAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAt
$LN6@OnDBSystem:

; 2789 : 			}
; 2790 : 		}

  00096	eb a3		 jmp	 SHORT $LN2@OnDBSystem
$LN5@OnDBSystem:

; 2791 : 	}
; 2792 : 
; 2793 : 	return true;

  00098	b0 01		 mov	 al, 1

; 2794 : }

  0009a	5f		 pop	 edi
  0009b	5e		 pop	 esi
  0009c	5b		 pop	 ebx
  0009d	8b e5		 mov	 esp, ebp
  0009f	5d		 pop	 ebp
  000a0	c2 0c 00	 ret	 12			; 0000000cH
?OnDBSystemMessageFinish@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBSystemMessageFinish
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
$T1 = -88						; size = 4
_pSendMessage$ = -20					; size = 4
_pTagSystemMessage$2 = -16				; size = 4
_nIndex$3 = -12						; size = 4
_pSystemMessage$ = -8					; size = 4
_this$ = -4						; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBSystemMessage, COMDAT
; _this$ = ecx

; 2737 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2738 : 	//参数校验
; 2739 : 	ASSERT(wDataSize == sizeof(tag_GR_SystemMessage));

  0000c	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00010	3d 9a 00 00 00	 cmp	 eax, 154		; 0000009aH
  00015	74 19		 je	 SHORT $LN9@OnDBSystem
  00017	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0001d	83 c1 02	 add	 ecx, 2
  00020	51		 push	 ecx
  00021	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00026	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0002b	85 c0		 test	 eax, eax
  0002d	74 01		 je	 SHORT $LN9@OnDBSystem
  0002f	cc		 int	 3
$LN9@OnDBSystem:

; 2740 : 	if (wDataSize != sizeof(tag_GR_SystemMessage)) return false;

  00030	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00034	3d 9a 00 00 00	 cmp	 eax, 154		; 0000009aH
  00039	74 07		 je	 SHORT $LN5@OnDBSystem
  0003b	32 c0		 xor	 al, al
  0003d	e9 14 01 00 00	 jmp	 $LN1@OnDBSystem
$LN5@OnDBSystem:

; 2741 : 
; 2742 : 	//提取数据
; 2743 : 	tag_GR_SystemMessage * pSystemMessage = (tag_GR_SystemMessage *)pData;

  00042	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00045	89 45 f8	 mov	 DWORD PTR _pSystemMessage$[ebp], eax

; 2744 : 	if (pSystemMessage == NULL) return false;

  00048	83 7d f8 00	 cmp	 DWORD PTR _pSystemMessage$[ebp], 0
  0004c	75 07		 jne	 SHORT $LN6@OnDBSystem
  0004e	32 c0		 xor	 al, al
  00050	e9 01 01 00 00	 jmp	 $LN1@OnDBSystem
$LN6@OnDBSystem:

; 2745 : 
; 2746 : 	for (INT_PTR nIndex = m_SystemMessageBuffer.GetCount() - 1; nIndex >= 0; nIndex--)

  00055	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00058	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  0005e	e8 00 00 00 00	 call	 ?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount
  00063	83 e8 01	 sub	 eax, 1
  00066	89 45 f4	 mov	 DWORD PTR _nIndex$3[ebp], eax
  00069	eb 09		 jmp	 SHORT $LN4@OnDBSystem
$LN2@OnDBSystem:
  0006b	8b 45 f4	 mov	 eax, DWORD PTR _nIndex$3[ebp]
  0006e	83 e8 01	 sub	 eax, 1
  00071	89 45 f4	 mov	 DWORD PTR _nIndex$3[ebp], eax
$LN4@OnDBSystem:
  00074	83 7d f4 00	 cmp	 DWORD PTR _nIndex$3[ebp], 0
  00078	7c 6e		 jl	 SHORT $LN3@OnDBSystem

; 2747 : 	{
; 2748 : 		tagSystemMessage *pTagSystemMessage = m_SystemMessageBuffer[nIndex];

  0007a	8b 45 f4	 mov	 eax, DWORD PTR _nIndex$3[ebp]
  0007d	50		 push	 eax
  0007e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00081	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  00087	e8 00 00 00 00	 call	 ??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::operator[]
  0008c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0008e	89 4d f0	 mov	 DWORD PTR _pTagSystemMessage$2[ebp], ecx

; 2749 : 		if (pTagSystemMessage && pTagSystemMessage->SystemMessage.dwMessageID == pSystemMessage->dwMessageID)

  00091	83 7d f0 00	 cmp	 DWORD PTR _pTagSystemMessage$2[ebp], 0
  00095	74 4f		 je	 SHORT $LN7@OnDBSystem
  00097	8b 45 f0	 mov	 eax, DWORD PTR _pTagSystemMessage$2[ebp]
  0009a	8b 4d f8	 mov	 ecx, DWORD PTR _pSystemMessage$[ebp]
  0009d	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000a0	3b 11		 cmp	 edx, DWORD PTR [ecx]
  000a2	75 42		 jne	 SHORT $LN7@OnDBSystem

; 2750 : 		{
; 2751 : 			CopyMemory(&pTagSystemMessage->SystemMessage, pSystemMessage, sizeof(tag_GR_SystemMessage));

  000a4	68 9a 00 00 00	 push	 154			; 0000009aH
  000a9	8b 45 f8	 mov	 eax, DWORD PTR _pSystemMessage$[ebp]
  000ac	50		 push	 eax
  000ad	8b 4d f0	 mov	 ecx, DWORD PTR _pTagSystemMessage$2[ebp]
  000b0	83 c1 04	 add	 ecx, 4
  000b3	51		 push	 ecx
  000b4	e8 00 00 00 00	 call	 _memcpy
  000b9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2752 : 			m_SystemMessageActive.Add(pTagSystemMessage);

  000bc	8d 45 f0	 lea	 eax, DWORD PTR _pTagSystemMessage$2[ebp]
  000bf	50		 push	 eax
  000c0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000c3	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  000c9	e8 00 00 00 00	 call	 ?Add@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABQAUtagSystemMessage@@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Add

; 2753 : 			m_SystemMessageBuffer.RemoveAt(nIndex);

  000ce	6a 01		 push	 1
  000d0	8b 45 f4	 mov	 eax, DWORD PTR _nIndex$3[ebp]
  000d3	50		 push	 eax
  000d4	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000d7	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  000dd	e8 00 00 00 00	 call	 ?RemoveAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAt

; 2754 : 
; 2755 : 			return true;

  000e2	b0 01		 mov	 al, 1
  000e4	eb 70		 jmp	 SHORT $LN1@OnDBSystem
$LN7@OnDBSystem:

; 2756 : 		}
; 2757 : 	}

  000e6	eb 83		 jmp	 SHORT $LN2@OnDBSystem
$LN3@OnDBSystem:

; 2758 : 
; 2759 : 	//定义变量
; 2760 : 	tagSystemMessage  *pSendMessage = new tagSystemMessage;

  000e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  000ed	83 c0 17	 add	 eax, 23			; 00000017H
  000f0	50		 push	 eax
  000f1	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000f6	68 9e 00 00 00	 push	 158			; 0000009eH
  000fb	e8 00 00 00 00	 call	 ??2@YAPAXIPBDH@Z	; operator new
  00100	83 c4 0c	 add	 esp, 12			; 0000000cH
  00103	89 45 a8	 mov	 DWORD PTR $T1[ebp], eax
  00106	8b 4d a8	 mov	 ecx, DWORD PTR $T1[ebp]
  00109	89 4d ec	 mov	 DWORD PTR _pSendMessage$[ebp], ecx

; 2761 : 	ZeroMemory(pSendMessage, sizeof(tagSystemMessage));

  0010c	68 9e 00 00 00	 push	 158			; 0000009eH
  00111	6a 00		 push	 0
  00113	8b 45 ec	 mov	 eax, DWORD PTR _pSendMessage$[ebp]
  00116	50		 push	 eax
  00117	e8 00 00 00 00	 call	 _memset
  0011c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2762 : 
; 2763 : 	//设置变量
; 2764 : 	pSendMessage->dwLastTime = (DWORD)pSystemMessage->tStartTime;

  0011f	8b 45 f8	 mov	 eax, DWORD PTR _pSystemMessage$[ebp]
  00122	8b 48 0a	 mov	 ecx, DWORD PTR [eax+10]
  00125	8b 55 ec	 mov	 edx, DWORD PTR _pSendMessage$[ebp]
  00128	89 0a		 mov	 DWORD PTR [edx], ecx

; 2765 : 	CopyMemory(&pSendMessage->SystemMessage, pSystemMessage, sizeof(tag_GR_SystemMessage));

  0012a	68 9a 00 00 00	 push	 154			; 0000009aH
  0012f	8b 45 f8	 mov	 eax, DWORD PTR _pSystemMessage$[ebp]
  00132	50		 push	 eax
  00133	8b 4d ec	 mov	 ecx, DWORD PTR _pSendMessage$[ebp]
  00136	83 c1 04	 add	 ecx, 4
  00139	51		 push	 ecx
  0013a	e8 00 00 00 00	 call	 _memcpy
  0013f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2766 : 
; 2767 : 	//记录消息
; 2768 : 	m_SystemMessageActive.Add(pSendMessage);

  00142	8d 45 ec	 lea	 eax, DWORD PTR _pSendMessage$[ebp]
  00145	50		 push	 eax
  00146	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00149	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  0014f	e8 00 00 00 00	 call	 ?Add@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABQAUtagSystemMessage@@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Add

; 2769 : 
; 2770 : 	return true;

  00154	b0 01		 mov	 al, 1
$LN1@OnDBSystem:

; 2771 : }

  00156	5f		 pop	 edi
  00157	5e		 pop	 esi
  00158	5b		 pop	 ebx
  00159	8b e5		 mov	 esp, ebp
  0015b	5d		 pop	 ebp
  0015c	c2 0c 00	 ret	 12			; 0000000cH
?OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBSystemMessage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_wHeadSize$1 = -464					; size = 2
_wDataSize$2 = -460					; size = 2
_TrumpetEcho$3 = -456					; size = 132
_Trumpet$4 = -324					; size = 170
_wHeadSize$5 = -152					; size = 2
_wDataSize2$6 = -148					; size = 2
_TrumpetEcho$7 = -144					; size = 132
_pTrumpetResult$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBTrumpetResult, COMDAT
; _this$ = ecx

; 2652 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 10 02 00
	00		 sub	 esp, 528		; 00000210H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2653 : 	//参数校验
; 2654 : 	ASSERT(wDataSize==sizeof(DBO_GR_TrumpetResult));

  00019	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d 30 01 00 00	 cmp	 eax, 304		; 00000130H
  00022	74 19		 je	 SHORT $LN6@OnDBTrumpe
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN6@OnDBTrumpe
  0003c	cc		 int	 3
$LN6@OnDBTrumpe:

; 2655 : 	if(wDataSize!=sizeof(DBO_GR_TrumpetResult)) return false;

  0003d	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d 30 01 00 00	 cmp	 eax, 304		; 00000130H
  00046	74 07		 je	 SHORT $LN2@OnDBTrumpe
  00048	32 c0		 xor	 al, al
  0004a	e9 dd 01 00 00	 jmp	 $LN1@OnDBTrumpe
$LN2@OnDBTrumpe:

; 2656 : 
; 2657 : 	//提取数据
; 2658 : 	DBO_GR_TrumpetResult * pTrumpetResult = (DBO_GR_TrumpetResult *)pData;

  0004f	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pTrumpetResult$[ebp], eax

; 2659 : 	ASSERT(pTrumpetResult);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pTrumpetResult$[ebp], 0
  00059	75 18		 jne	 SHORT $LN7@OnDBTrumpe
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN7@OnDBTrumpe
  00072	cc		 int	 3
$LN7@OnDBTrumpe:

; 2660 : 
; 2661 : 
; 2662 : 
; 2663 : 	if (pTrumpetResult->lResult == 0)

  00073	8b 45 f4	 mov	 eax, DWORD PTR _pTrumpetResult$[ebp]
  00076	83 38 00	 cmp	 DWORD PTR [eax], 0
  00079	0f 85 22 01 00
	00		 jne	 $LN3@OnDBTrumpe

; 2664 : 	{
; 2665 : 		//喇叭反馈
; 2666 : 		CMD_GC_TrumpetEcho TrumpetEcho;
; 2667 : 		ZeroMemory(&TrumpetEcho,sizeof(TrumpetEcho));

  0007f	68 84 00 00 00	 push	 132			; 00000084H
  00084	6a 00		 push	 0
  00086	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _TrumpetEcho$7[ebp]
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 _memset
  00092	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2668 : 		TrumpetEcho.lErrorCode=CHAT_MSG_OK;

  00095	c7 85 70 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _TrumpetEcho$7[ebp], 0

; 2669 : 		lstrcpyn(TrumpetEcho.szDescribeString,pTrumpetResult->szNotifyContent,CountArray(TrumpetEcho.szDescribeString));

  0009f	68 80 00 00 00	 push	 128			; 00000080H
  000a4	8b 45 f4	 mov	 eax, DWORD PTR _pTrumpetResult$[ebp]
  000a7	05 b0 00 00 00	 add	 eax, 176		; 000000b0H
  000ac	50		 push	 eax
  000ad	8d 8d 74 ff ff
	ff		 lea	 ecx, DWORD PTR _TrumpetEcho$7[ebp+4]
  000b3	51		 push	 ecx
  000b4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2670 : 		WORD wDataSize2=CountStringBuffer(TrumpetEcho.szDescribeString);

  000ba	8d 85 74 ff ff
	ff		 lea	 eax, DWORD PTR _TrumpetEcho$7[ebp+4]
  000c0	50		 push	 eax
  000c1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000c7	83 c0 01	 add	 eax, 1
  000ca	66 89 85 6c ff
	ff ff		 mov	 WORD PTR _wDataSize2$6[ebp], ax

; 2671 : 		WORD wHeadSize=sizeof(TrumpetEcho)-sizeof(TrumpetEcho.szDescribeString);

  000d1	b8 04 00 00 00	 mov	 eax, 4
  000d6	66 89 85 68 ff
	ff ff		 mov	 WORD PTR _wHeadSize$5[ebp], ax

; 2672 : 		SendData(dwContextID,MDM_GC_USER,SUB_GC_TRUMPET_ECHO,&TrumpetEcho,wHeadSize+wDataSize2);

  000dd	0f b7 85 68 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$5[ebp]
  000e4	0f b7 8d 6c ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$6[ebp]
  000eb	03 c1		 add	 eax, ecx
  000ed	50		 push	 eax
  000ee	8d 95 70 ff ff
	ff		 lea	 edx, DWORD PTR _TrumpetEcho$7[ebp]
  000f4	52		 push	 edx
  000f5	68 31 01 00 00	 push	 305			; 00000131H
  000fa	6a 03		 push	 3
  000fc	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  000ff	50		 push	 eax
  00100	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00103	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 2673 : 
; 2674 : 		CMD_GC_Trumpet Trumpet;
; 2675 : 		ZeroMemory(&Trumpet, sizeof(Trumpet));

  00108	68 aa 00 00 00	 push	 170			; 000000aaH
  0010d	6a 00		 push	 0
  0010f	8d 85 bc fe ff
	ff		 lea	 eax, DWORD PTR _Trumpet$4[ebp]
  00115	50		 push	 eax
  00116	e8 00 00 00 00	 call	 _memset
  0011b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2676 : 		Trumpet.wPropertyID = pTrumpetResult->wPropertyID;

  0011e	8b 45 f4	 mov	 eax, DWORD PTR _pTrumpetResult$[ebp]
  00121	66 8b 48 04	 mov	 cx, WORD PTR [eax+4]
  00125	66 89 8d bc fe
	ff ff		 mov	 WORD PTR _Trumpet$4[ebp], cx

; 2677 : 		Trumpet.dwSendUserID = pTrumpetResult->dwSendUserID;

  0012c	8b 45 f4	 mov	 eax, DWORD PTR _pTrumpetResult$[ebp]
  0012f	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00132	89 8d be fe ff
	ff		 mov	 DWORD PTR _Trumpet$4[ebp+2], ecx

; 2678 : 		Trumpet.TrumpetColor = pTrumpetResult->TrumpetColor;

  00138	8b 45 f4	 mov	 eax, DWORD PTR _pTrumpetResult$[ebp]
  0013b	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0013e	89 8d c2 fe ff
	ff		 mov	 DWORD PTR _Trumpet$4[ebp+6], ecx

; 2679 : 		lstrcpyn(Trumpet.szSendNickName, pTrumpetResult->szSendNickName, CountArray(Trumpet.szSendNickName));

  00144	6a 20		 push	 32			; 00000020H
  00146	8b 45 f4	 mov	 eax, DWORD PTR _pTrumpetResult$[ebp]
  00149	83 c0 10	 add	 eax, 16			; 00000010H
  0014c	50		 push	 eax
  0014d	8d 8d c6 fe ff
	ff		 lea	 ecx, DWORD PTR _Trumpet$4[ebp+10]
  00153	51		 push	 ecx
  00154	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2680 : 		lstrcpyn(Trumpet.szTrumpetContent, pTrumpetResult->szTrumpetContent, CountArray(Trumpet.szTrumpetContent));

  0015a	68 80 00 00 00	 push	 128			; 00000080H
  0015f	8b 45 f4	 mov	 eax, DWORD PTR _pTrumpetResult$[ebp]
  00162	83 c0 30	 add	 eax, 48			; 00000030H
  00165	50		 push	 eax
  00166	8d 8d e6 fe ff
	ff		 lea	 ecx, DWORD PTR _Trumpet$4[ebp+42]
  0016c	51		 push	 ecx
  0016d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2681 : 
; 2682 : 		m_pITCPSocketService->SendData(MDM_CS_MANAGER_SERVICE,SUB_CS_C_PROPERTY_TRUMPET,&Trumpet,sizeof(Trumpet));

  00173	68 aa 00 00 00	 push	 170			; 000000aaH
  00178	8d 85 bc fe ff
	ff		 lea	 eax, DWORD PTR _Trumpet$4[ebp]
  0017e	50		 push	 eax
  0017f	6a 02		 push	 2
  00181	6a 05		 push	 5
  00183	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00186	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  0018c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0018f	8b 12		 mov	 edx, DWORD PTR [edx]
  00191	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  00197	8b 42 24	 mov	 eax, DWORD PTR [edx+36]
  0019a	ff d0		 call	 eax

; 2683 : 		
; 2684 : 	}
; 2685 : 	else

  0019c	e9 89 00 00 00	 jmp	 $LN4@OnDBTrumpe
$LN3@OnDBTrumpe:

; 2686 : 	{
; 2687 : 		//喇叭反馈
; 2688 : 		CMD_GC_TrumpetEcho TrumpetEcho;
; 2689 : 		ZeroMemory(&TrumpetEcho,sizeof(TrumpetEcho));

  001a1	68 84 00 00 00	 push	 132			; 00000084H
  001a6	6a 00		 push	 0
  001a8	8d 85 38 fe ff
	ff		 lea	 eax, DWORD PTR _TrumpetEcho$3[ebp]
  001ae	50		 push	 eax
  001af	e8 00 00 00 00	 call	 _memset
  001b4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2690 : 		TrumpetEcho.lErrorCode=CHAT_MSG_ERR;

  001b7	c7 85 38 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _TrumpetEcho$3[ebp], 1

; 2691 : 		lstrcpyn(TrumpetEcho.szDescribeString,pTrumpetResult->szNotifyContent,CountArray(TrumpetEcho.szDescribeString));

  001c1	68 80 00 00 00	 push	 128			; 00000080H
  001c6	8b 45 f4	 mov	 eax, DWORD PTR _pTrumpetResult$[ebp]
  001c9	05 b0 00 00 00	 add	 eax, 176		; 000000b0H
  001ce	50		 push	 eax
  001cf	8d 8d 3c fe ff
	ff		 lea	 ecx, DWORD PTR _TrumpetEcho$3[ebp+4]
  001d5	51		 push	 ecx
  001d6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2692 : 		WORD wDataSize=CountStringBuffer(TrumpetEcho.szDescribeString);

  001dc	8d 85 3c fe ff
	ff		 lea	 eax, DWORD PTR _TrumpetEcho$3[ebp+4]
  001e2	50		 push	 eax
  001e3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001e9	83 c0 01	 add	 eax, 1
  001ec	66 89 85 34 fe
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 2693 : 		WORD wHeadSize=sizeof(TrumpetEcho)-sizeof(TrumpetEcho.szDescribeString);

  001f3	b8 04 00 00 00	 mov	 eax, 4
  001f8	66 89 85 30 fe
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 2694 : 		SendData(dwContextID,MDM_GC_USER,SUB_GC_TRUMPET_ECHO,&TrumpetEcho,wHeadSize+wDataSize);

  001ff	0f b7 85 30 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  00206	0f b7 8d 34 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  0020d	03 c1		 add	 eax, ecx
  0020f	50		 push	 eax
  00210	8d 95 38 fe ff
	ff		 lea	 edx, DWORD PTR _TrumpetEcho$3[ebp]
  00216	52		 push	 edx
  00217	68 31 01 00 00	 push	 305			; 00000131H
  0021c	6a 03		 push	 3
  0021e	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  00221	50		 push	 eax
  00222	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00225	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN4@OnDBTrumpe:

; 2695 : 	}
; 2696 : 
; 2697 : 
; 2698 : 
; 2699 : 	return true;

  0022a	b0 01		 mov	 al, 1
$LN1@OnDBTrumpe:

; 2700 : }

  0022c	5f		 pop	 edi
  0022d	5e		 pop	 esi
  0022e	5b		 pop	 ebx
  0022f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00232	33 cd		 xor	 ecx, ebp
  00234	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00239	8b e5		 mov	 esp, ebp
  0023b	5d		 pop	 ebp
  0023c	c2 0c 00	 ret	 12			; 0000000cH
?OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBTrumpetResult
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_wHeadSize$1 = -336					; size = 2
_wDataSize$2 = -332					; size = 2
_SearchUserEcho$3 = -328				; size = 132
_cbUserCount$ = -193					; size = 1
_SearchUserResult$ = -192				; size = 166
_pUserInfo$4 = -24					; size = 4
_pLocalUserItem$5 = -20					; size = 4
_pServerUserItem$ = -16					; size = 4
_pSearchUserResult$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBSearchUserResult, COMDAT
; _this$ = ecx

; 2412 : {	

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 90 01 00
	00		 sub	 esp, 400		; 00000190H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2413 : 	//参数校验
; 2414 : 	ASSERT(wDataSize<=sizeof(DBO_GR_SearchUserResult));

  00019	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d a6 00 00 00	 cmp	 eax, 166		; 000000a6H
  00022	76 19		 jbe	 SHORT $LN8@OnDBSearch
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN8@OnDBSearch
  0003c	cc		 int	 3
$LN8@OnDBSearch:

; 2415 : 	if(wDataSize>sizeof(DBO_GR_SearchUserResult)) return false;

  0003d	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d a6 00 00 00	 cmp	 eax, 166		; 000000a6H
  00046	76 07		 jbe	 SHORT $LN2@OnDBSearch
  00048	32 c0		 xor	 al, al
  0004a	e9 7a 02 00 00	 jmp	 $LN1@OnDBSearch
$LN2@OnDBSearch:

; 2416 : 
; 2417 : 	//提取数据
; 2418 : 	DBO_GR_SearchUserResult * pSearchUserResult = (DBO_GR_SearchUserResult *)pData;

  0004f	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pSearchUserResult$[ebp], eax

; 2419 : 	ASSERT(pSearchUserResult);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pSearchUserResult$[ebp], 0
  00059	75 18		 jne	 SHORT $LN9@OnDBSearch
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN9@OnDBSearch
  00072	cc		 int	 3
$LN9@OnDBSearch:

; 2420 : 
; 2421 : 	//填充数据
; 2422 : 	CServerUserItem * pServerUserItem=m_ServerUserManager.SearchUserItem(pSearchUserResult->FriendInfo.dwUserID);

  00073	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  00076	8b 48 01	 mov	 ecx, DWORD PTR [eax+1]
  00079	51		 push	 ecx
  0007a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0007d	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00080	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00083	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00086	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00089	ff d2		 call	 edx
  0008b	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 2423 : 	if(pServerUserItem==NULL)

  0008e	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00092	75 74		 jne	 SHORT $LN3@OnDBSearch

; 2424 : 	{
; 2425 : 		pSearchUserResult->FriendInfo.cbMainStatus=FRIEND_US_OFFLINE;

  00094	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  00097	c6 40 7c 00	 mov	 BYTE PTR [eax+124], 0

; 2426 : 		pSearchUserResult->FriendInfo.cbGameStatus=US_NULL;

  0009b	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  0009e	c6 40 7d 00	 mov	 BYTE PTR [eax+125], 0

; 2427 : 		pSearchUserResult->FriendInfo.wKindID=INVALID_KIND;

  000a2	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  000a7	8b 4d f4	 mov	 ecx, DWORD PTR _pSearchUserResult$[ebp]
  000aa	66 89 41 7e	 mov	 WORD PTR [ecx+126], ax

; 2428 : 		pSearchUserResult->FriendInfo.wServerID=INVALID_SERVER;

  000ae	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  000b3	8b 4d f4	 mov	 ecx, DWORD PTR _pSearchUserResult$[ebp]
  000b6	66 89 81 80 00
	00 00		 mov	 WORD PTR [ecx+128], ax

; 2429 : 		pSearchUserResult->FriendInfo.wTableID=INVALID_TABLE;

  000bd	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  000c2	8b 4d f4	 mov	 ecx, DWORD PTR _pSearchUserResult$[ebp]
  000c5	66 89 81 82 00
	00 00		 mov	 WORD PTR [ecx+130], ax

; 2430 : 		pSearchUserResult->FriendInfo.wChairID=INVALID_CHAIR;

  000cc	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  000d1	8b 4d f4	 mov	 ecx, DWORD PTR _pSearchUserResult$[ebp]
  000d4	66 89 81 84 00
	00 00		 mov	 WORD PTR [ecx+132], ax

; 2431 : 		ZeroMemory(pSearchUserResult->FriendInfo.szServerName,CountArray(pSearchUserResult->FriendInfo.szServerName));

  000db	6a 20		 push	 32			; 00000020H
  000dd	6a 00		 push	 0
  000df	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  000e2	05 86 00 00 00	 add	 eax, 134		; 00000086H
  000e7	50		 push	 eax
  000e8	e8 00 00 00 00	 call	 _memset
  000ed	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2432 : 		ZeroMemory(pSearchUserResult->FriendInfo.szPhoneMode,CountArray(pSearchUserResult->FriendInfo.szPhoneMode));

  000f0	6a 15		 push	 21			; 00000015H
  000f2	6a 00		 push	 0
  000f4	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  000f7	83 c0 66	 add	 eax, 102		; 00000066H
  000fa	50		 push	 eax
  000fb	e8 00 00 00 00	 call	 _memset
  00100	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2433 : 	}
; 2434 : 	else

  00103	e9 bc 00 00 00	 jmp	 $LN4@OnDBSearch
$LN3@OnDBSearch:

; 2435 : 	{
; 2436 : 		CLocalUserItem * pLocalUserItem = (CLocalUserItem *)pServerUserItem;

  00108	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  0010b	89 45 ec	 mov	 DWORD PTR _pLocalUserItem$5[ebp], eax

; 2437 : 		tagFriendUserInfo * pUserInfo = pLocalUserItem->GetUserInfo();

  0010e	8b 45 ec	 mov	 eax, DWORD PTR _pLocalUserItem$5[ebp]
  00111	8b 10		 mov	 edx, DWORD PTR [eax]
  00113	8b 4d ec	 mov	 ecx, DWORD PTR _pLocalUserItem$5[ebp]
  00116	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00119	ff d0		 call	 eax
  0011b	89 45 e8	 mov	 DWORD PTR _pUserInfo$4[ebp], eax

; 2438 : 		pSearchUserResult->FriendInfo.cbMainStatus=pServerUserItem->GetMainStatus();

  0011e	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  00121	8b 10		 mov	 edx, DWORD PTR [eax]
  00123	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00126	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00129	ff d0		 call	 eax
  0012b	8b 4d f4	 mov	 ecx, DWORD PTR _pSearchUserResult$[ebp]
  0012e	88 41 7c	 mov	 BYTE PTR [ecx+124], al

; 2439 : 		pSearchUserResult->FriendInfo.cbGameStatus=pServerUserItem->GetGameStatus();

  00131	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  00134	8b 10		 mov	 edx, DWORD PTR [eax]
  00136	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00139	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  0013c	ff d0		 call	 eax
  0013e	8b 4d f4	 mov	 ecx, DWORD PTR _pSearchUserResult$[ebp]
  00141	88 41 7d	 mov	 BYTE PTR [ecx+125], al

; 2440 : 		pSearchUserResult->FriendInfo.wKindID=pUserInfo->wKindID;

  00144	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  00147	8b 4d e8	 mov	 ecx, DWORD PTR _pUserInfo$4[ebp]
  0014a	66 8b 91 6e 01
	00 00		 mov	 dx, WORD PTR [ecx+366]
  00151	66 89 50 7e	 mov	 WORD PTR [eax+126], dx

; 2441 : 		pSearchUserResult->FriendInfo.wServerID=pUserInfo->wServerID;

  00155	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  00158	8b 4d e8	 mov	 ecx, DWORD PTR _pUserInfo$4[ebp]
  0015b	66 8b 91 70 01
	00 00		 mov	 dx, WORD PTR [ecx+368]
  00162	66 89 90 80 00
	00 00		 mov	 WORD PTR [eax+128], dx

; 2442 : 		pSearchUserResult->FriendInfo.wTableID=pUserInfo->wTableID;

  00169	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  0016c	8b 4d e8	 mov	 ecx, DWORD PTR _pUserInfo$4[ebp]
  0016f	66 8b 91 72 01
	00 00		 mov	 dx, WORD PTR [ecx+370]
  00176	66 89 90 82 00
	00 00		 mov	 WORD PTR [eax+130], dx

; 2443 : 		pSearchUserResult->FriendInfo.wChairID=pUserInfo->wChairID;

  0017d	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  00180	8b 4d e8	 mov	 ecx, DWORD PTR _pUserInfo$4[ebp]
  00183	66 8b 91 74 01
	00 00		 mov	 dx, WORD PTR [ecx+372]
  0018a	66 89 90 84 00
	00 00		 mov	 WORD PTR [eax+132], dx

; 2444 : 		lstrcpyn(pSearchUserResult->FriendInfo.szServerName,pUserInfo->szServerName,CountArray(pSearchUserResult->FriendInfo.szServerName));

  00191	6a 20		 push	 32			; 00000020H
  00193	8b 45 e8	 mov	 eax, DWORD PTR _pUserInfo$4[ebp]
  00196	05 76 01 00 00	 add	 eax, 374		; 00000176H
  0019b	50		 push	 eax
  0019c	8b 4d f4	 mov	 ecx, DWORD PTR _pSearchUserResult$[ebp]
  0019f	81 c1 86 00 00
	00		 add	 ecx, 134		; 00000086H
  001a5	51		 push	 ecx
  001a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2445 : 		lstrcpyn(pSearchUserResult->FriendInfo.szPhoneMode,pUserInfo->szPhoneMode,CountArray(pSearchUserResult->FriendInfo.szPhoneMode));

  001ac	6a 15		 push	 21			; 00000015H
  001ae	8b 45 e8	 mov	 eax, DWORD PTR _pUserInfo$4[ebp]
  001b1	05 96 01 00 00	 add	 eax, 406		; 00000196H
  001b6	50		 push	 eax
  001b7	8b 4d f4	 mov	 ecx, DWORD PTR _pSearchUserResult$[ebp]
  001ba	83 c1 66	 add	 ecx, 102		; 00000066H
  001bd	51		 push	 ecx
  001be	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12
$LN4@OnDBSearch:

; 2446 : 	}
; 2447 : 
; 2448 : 	//变量定义	
; 2449 : 	CMD_GC_SearchByGameIDResult SearchUserResult;
; 2450 : 	ZeroMemory(&SearchUserResult,sizeof(SearchUserResult));

  001c4	68 a6 00 00 00	 push	 166			; 000000a6H
  001c9	6a 00		 push	 0
  001cb	8d 85 40 ff ff
	ff		 lea	 eax, DWORD PTR _SearchUserResult$[ebp]
  001d1	50		 push	 eax
  001d2	e8 00 00 00 00	 call	 _memset
  001d7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2451 : 	SearchUserResult.cbUserCount =pSearchUserResult->cbUserCount;

  001da	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  001dd	8a 08		 mov	 cl, BYTE PTR [eax]
  001df	88 8d 40 ff ff
	ff		 mov	 BYTE PTR _SearchUserResult$[ebp], cl

; 2452 : 	BYTE cbUserCount=pSearchUserResult->cbUserCount;

  001e5	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  001e8	8a 08		 mov	 cl, BYTE PTR [eax]
  001ea	88 8d 3f ff ff
	ff		 mov	 BYTE PTR _cbUserCount$[ebp], cl

; 2453 : 	if(cbUserCount>0)

  001f0	0f b6 85 3f ff
	ff ff		 movzx	 eax, BYTE PTR _cbUserCount$[ebp]
  001f7	85 c0		 test	 eax, eax
  001f9	7e 47		 jle	 SHORT $LN5@OnDBSearch

; 2454 : 	{
; 2455 : 		CopyMemory(&(SearchUserResult.FriendInfo),&(pSearchUserResult->FriendInfo),sizeof(tagClientFriendInfo)*(pSearchUserResult->cbUserCount));

  001fb	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  001fe	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00201	69 d1 a5 00 00
	00		 imul	 edx, ecx, 165
  00207	52		 push	 edx
  00208	8b 45 f4	 mov	 eax, DWORD PTR _pSearchUserResult$[ebp]
  0020b	83 c0 01	 add	 eax, 1
  0020e	50		 push	 eax
  0020f	8d 8d 41 ff ff
	ff		 lea	 ecx, DWORD PTR _SearchUserResult$[ebp+1]
  00215	51		 push	 ecx
  00216	e8 00 00 00 00	 call	 _memcpy
  0021b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2456 : 
; 2457 : 		SendData(dwContextID,MDM_GC_USER,SUB_GC_SEARCH_USER_RESULT,&SearchUserResult,sizeof(SearchUserResult));

  0021e	68 a6 00 00 00	 push	 166			; 000000a6H
  00223	8d 85 40 ff ff
	ff		 lea	 eax, DWORD PTR _SearchUserResult$[ebp]
  00229	50		 push	 eax
  0022a	68 cb 00 00 00	 push	 203			; 000000cbH
  0022f	6a 03		 push	 3
  00231	8b 4d 08	 mov	 ecx, DWORD PTR _dwContextID$[ebp]
  00234	51		 push	 ecx
  00235	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00238	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 2458 : 	}
; 2459 : 	else

  0023d	e9 85 00 00 00	 jmp	 $LN6@OnDBSearch
$LN5@OnDBSearch:

; 2460 : 	{
; 2461 : 		//回应反馈
; 2462 : 		CMD_GC_SearchByGameIDEcho SearchUserEcho;
; 2463 : 		ZeroMemory(&SearchUserEcho,sizeof(SearchUserEcho));

  00242	68 84 00 00 00	 push	 132			; 00000084H
  00247	6a 00		 push	 0
  00249	8d 85 b8 fe ff
	ff		 lea	 eax, DWORD PTR _SearchUserEcho$3[ebp]
  0024f	50		 push	 eax
  00250	e8 00 00 00 00	 call	 _memset
  00255	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2464 : 		SearchUserEcho.lErrorCode=CHAT_MSG_ERR;

  00258	c7 85 b8 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _SearchUserEcho$3[ebp], 1

; 2465 : 		lstrcpyn(SearchUserEcho.szDescribeString,_T("查询不到用户"),CountArray(SearchUserEcho.szDescribeString));

  00262	68 80 00 00 00	 push	 128			; 00000080H
  00267	68 00 00 00 00	 push	 OFFSET ??_C@_0N@MPINKGKI@?$LC?i?Q?$KP?$LC?$LL?$LF?$LN?S?C?$LL?$KH@
  0026c	8d 85 bc fe ff
	ff		 lea	 eax, DWORD PTR _SearchUserEcho$3[ebp+4]
  00272	50		 push	 eax
  00273	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2466 : 		WORD wDataSize=CountStringBuffer(SearchUserEcho.szDescribeString);

  00279	8d 85 bc fe ff
	ff		 lea	 eax, DWORD PTR _SearchUserEcho$3[ebp+4]
  0027f	50		 push	 eax
  00280	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00286	83 c0 01	 add	 eax, 1
  00289	66 89 85 b4 fe
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 2467 : 		WORD wHeadSize=sizeof(SearchUserEcho)-sizeof(SearchUserEcho.szDescribeString);

  00290	b8 04 00 00 00	 mov	 eax, 4
  00295	66 89 85 b0 fe
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 2468 : 		SendData(dwContextID,MDM_GC_USER,SUB_GC_SEARCH_USER_ECHO,&SearchUserEcho,wHeadSize+wDataSize);

  0029c	0f b7 85 b0 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  002a3	0f b7 8d b4 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  002aa	03 c1		 add	 eax, ecx
  002ac	50		 push	 eax
  002ad	8d 95 b8 fe ff
	ff		 lea	 edx, DWORD PTR _SearchUserEcho$3[ebp]
  002b3	52		 push	 edx
  002b4	68 2f 01 00 00	 push	 303			; 0000012fH
  002b9	6a 03		 push	 3
  002bb	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  002be	50		 push	 eax
  002bf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002c2	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN6@OnDBSearch:

; 2469 : 	}
; 2470 : 	return  true;

  002c7	b0 01		 mov	 al, 1
$LN1@OnDBSearch:

; 2471 : }

  002c9	5f		 pop	 edi
  002ca	5e		 pop	 esi
  002cb	5b		 pop	 ebx
  002cc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002cf	33 cd		 xor	 ecx, ebp
  002d1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002d6	8b e5		 mov	 esp, ebp
  002d8	5d		 pop	 ebp
  002d9	c2 0c 00	 ret	 12			; 0000000cH
?OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBSearchUserResult
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_pUserOperateResult$ = -8				; size = 4
_this$ = -4						; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBUserOperateResult, COMDAT
; _this$ = ecx

; 2704 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2705 : 	//参数校验
; 2706 : 	ASSERT(wDataSize<=sizeof(DBO_GR_OperateResult));

  0000c	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00010	3d 8c 00 00 00	 cmp	 eax, 140		; 0000008cH
  00015	76 19		 jbe	 SHORT $LN6@OnDBUserOp
  00017	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0001d	83 c1 02	 add	 ecx, 2
  00020	51		 push	 ecx
  00021	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00026	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0002b	85 c0		 test	 eax, eax
  0002d	74 01		 je	 SHORT $LN6@OnDBUserOp
  0002f	cc		 int	 3
$LN6@OnDBUserOp:

; 2707 : 	if(wDataSize>sizeof(DBO_GR_OperateResult)) return false;

  00030	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00034	3d 8c 00 00 00	 cmp	 eax, 140		; 0000008cH
  00039	76 04		 jbe	 SHORT $LN2@OnDBUserOp
  0003b	32 c0		 xor	 al, al
  0003d	eb 70		 jmp	 SHORT $LN1@OnDBUserOp
$LN2@OnDBUserOp:

; 2708 : 
; 2709 : 	//提取数据
; 2710 : 	DBO_GR_OperateResult * pUserOperateResult = (DBO_GR_OperateResult *)pData;

  0003f	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00042	89 45 f8	 mov	 DWORD PTR _pUserOperateResult$[ebp], eax

; 2711 : 	ASSERT(pUserOperateResult);

  00045	83 7d f8 00	 cmp	 DWORD PTR _pUserOperateResult$[ebp], 0
  00049	75 18		 jne	 SHORT $LN7@OnDBUserOp
  0004b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00050	83 c0 07	 add	 eax, 7
  00053	50		 push	 eax
  00054	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00059	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0005e	85 c0		 test	 eax, eax
  00060	74 01		 je	 SHORT $LN7@OnDBUserOp
  00062	cc		 int	 3
$LN7@OnDBUserOp:

; 2712 : 
; 2713 : 	//获取用户
; 2714 : 	if(pUserOperateResult->bModifySucesss==true)

  00063	8b 45 f8	 mov	 eax, DWORD PTR _pUserOperateResult$[ebp]
  00066	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00069	83 f9 01	 cmp	 ecx, 1
  0006c	75 1d		 jne	 SHORT $LN3@OnDBUserOp

; 2715 : 	{
; 2716 : 		//发送成功
; 2717 : 		SendOperateSuccess(pUserOperateResult->szDescribeString,pUserOperateResult->wOperateCode,dwContextID);

  0006e	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  00071	50		 push	 eax
  00072	8b 4d f8	 mov	 ecx, DWORD PTR _pUserOperateResult$[ebp]
  00075	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  00079	52		 push	 edx
  0007a	8b 45 f8	 mov	 eax, DWORD PTR _pUserOperateResult$[ebp]
  0007d	83 c0 0a	 add	 eax, 10			; 0000000aH
  00080	50		 push	 eax
  00081	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00084	e8 00 00 00 00	 call	 ?SendOperateSuccess@CAttemperEngineSink@@IAE_NPBDJK@Z ; CAttemperEngineSink::SendOperateSuccess

; 2718 : 	}
; 2719 : 	else

  00089	eb 22		 jmp	 SHORT $LN4@OnDBUserOp
$LN3@OnDBUserOp:

; 2720 : 	{
; 2721 : 		//发送失败
; 2722 : 		SendOperateFailure(pUserOperateResult->szDescribeString,pUserOperateResult->dwErrorCode,pUserOperateResult->wOperateCode,dwContextID);

  0008b	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  0008e	50		 push	 eax
  0008f	8b 4d f8	 mov	 ecx, DWORD PTR _pUserOperateResult$[ebp]
  00092	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  00096	52		 push	 edx
  00097	8b 45 f8	 mov	 eax, DWORD PTR _pUserOperateResult$[ebp]
  0009a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0009d	51		 push	 ecx
  0009e	8b 55 f8	 mov	 edx, DWORD PTR _pUserOperateResult$[ebp]
  000a1	83 c2 0a	 add	 edx, 10			; 0000000aH
  000a4	52		 push	 edx
  000a5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000a8	e8 00 00 00 00	 call	 ?SendOperateFailure@CAttemperEngineSink@@IAE_NPBDJJK@Z ; CAttemperEngineSink::SendOperateFailure
$LN4@OnDBUserOp:

; 2723 : 	}
; 2724 : 
; 2725 : 	return true;

  000ad	b0 01		 mov	 al, 1
$LN1@OnDBUserOp:

; 2726 : }

  000af	5f		 pop	 edi
  000b0	5e		 pop	 esi
  000b1	5b		 pop	 ebx
  000b2	8b e5		 mov	 esp, ebp
  000b4	5d		 pop	 ebp
  000b5	c2 0c 00	 ret	 12			; 0000000cH
?OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBUserOperateResult
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_RespondNotify$1 = -1844				; size = 128
_wSize$2 = -1716					; size = 2
_UserFriendInfo$3 = -1712				; size = 827
_ServerFriendInfo$4 = -884				; size = 7
_pUserFriendGroup$5 = -876				; size = 4
_pServerLocalInfo$6 = -872				; size = 4
_wSize$7 = -868						; size = 2
_UserFriendInfo$8 = -864				; size = 827
_ServerFriendInfo$9 = -36				; size = 7
_pUserFriendGroup$10 = -28				; size = 4
_pRequestLocalInfo$11 = -24				; size = 4
_pRequestUserItem$ = -20				; size = 4
_pServerUserItem$ = -16					; size = 4
_pAddFriend$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBUserAddFriend, COMDAT
; _this$ = ecx

; 2475 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 34 08 00
	00		 sub	 esp, 2100		; 00000834H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2476 : 	//参数校验
; 2477 : 	ASSERT(wDataSize==sizeof(DBO_GR_AddFriend));

  00019	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	83 f8 10	 cmp	 eax, 16			; 00000010H
  00020	74 19		 je	 SHORT $LN17@OnDBUserAd
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00028	83 c1 02	 add	 ecx, 2
  0002b	51		 push	 ecx
  0002c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00031	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00036	85 c0		 test	 eax, eax
  00038	74 01		 je	 SHORT $LN17@OnDBUserAd
  0003a	cc		 int	 3
$LN17@OnDBUserAd:

; 2478 : 	if(wDataSize!=sizeof(DBO_GR_AddFriend)) return false;

  0003b	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0003f	83 f8 10	 cmp	 eax, 16			; 00000010H
  00042	74 07		 je	 SHORT $LN2@OnDBUserAd
  00044	32 c0		 xor	 al, al
  00046	e9 e6 07 00 00	 jmp	 $LN1@OnDBUserAd
$LN2@OnDBUserAd:

; 2479 : 
; 2480 : 	//提取数据
; 2481 : 	DBO_GR_AddFriend * pAddFriend = (DBO_GR_AddFriend *)pData;

  0004b	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  0004e	89 45 f4	 mov	 DWORD PTR _pAddFriend$[ebp], eax

; 2482 : 	ASSERT(pAddFriend);

  00051	83 7d f4 00	 cmp	 DWORD PTR _pAddFriend$[ebp], 0
  00055	75 18		 jne	 SHORT $LN18@OnDBUserAd
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0005c	83 c0 07	 add	 eax, 7
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00065	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006a	85 c0		 test	 eax, eax
  0006c	74 01		 je	 SHORT $LN18@OnDBUserAd
  0006e	cc		 int	 3
$LN18@OnDBUserAd:

; 2483 : 
; 2484 : 	//查找用户
; 2485 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pAddFriend->dwUserID);

  0006f	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  00072	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00075	51		 push	 ecx
  00076	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00079	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0007c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0007f	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00082	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00085	ff d2		 call	 edx
  00087	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 2486 : 	CServerUserItem * pRequestUserItem = m_ServerUserManager.SearchUserItem(pAddFriend->dwRequestUserID);

  0008a	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  0008d	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00090	51		 push	 ecx
  00091	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00094	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00097	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0009a	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0009d	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  000a0	ff d2		 call	 edx
  000a2	89 45 ec	 mov	 DWORD PTR _pRequestUserItem$[ebp], eax

; 2487 : 	if(pServerUserItem==NULL || pServerUserItem->GetUserItemKind()!=enLocalKind) return false;

  000a5	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000a9	74 0d		 je	 SHORT $LN4@OnDBUserAd
  000ab	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  000ae	e8 00 00 00 00	 call	 ?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ; CServerUserItem::GetUserItemKind
  000b3	83 f8 01	 cmp	 eax, 1
  000b6	74 07		 je	 SHORT $LN3@OnDBUserAd
$LN4@OnDBUserAd:
  000b8	32 c0		 xor	 al, al
  000ba	e9 72 07 00 00	 jmp	 $LN1@OnDBUserAd
$LN3@OnDBUserAd:

; 2488 : 
; 2489 : 	//处理用户
; 2490 : 	if(pServerUserItem!=NULL)

  000bf	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000c3	0f 84 22 03 00
	00		 je	 $LN5@OnDBUserAd

; 2491 : 	{
; 2492 : 		if(pAddFriend->bLoadUserInfo==false && pRequestUserItem && pRequestUserItem->GetUserItemKind()==enLocalKind)

  000c9	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  000cc	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  000cf	85 c9		 test	 ecx, ecx
  000d1	0f 85 14 03 00
	00		 jne	 $LN5@OnDBUserAd
  000d7	83 7d ec 00	 cmp	 DWORD PTR _pRequestUserItem$[ebp], 0
  000db	0f 84 0a 03 00
	00		 je	 $LN5@OnDBUserAd
  000e1	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  000e4	e8 00 00 00 00	 call	 ?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ; CServerUserItem::GetUserItemKind
  000e9	83 f8 01	 cmp	 eax, 1
  000ec	0f 85 f9 02 00
	00		 jne	 $LN5@OnDBUserAd

; 2493 : 		{
; 2494 : 			//变量定义
; 2495 : 			CLocalUserItem * pRequestLocalInfo = (CLocalUserItem *)pRequestUserItem;

  000f2	8b 45 ec	 mov	 eax, DWORD PTR _pRequestUserItem$[ebp]
  000f5	89 45 e8	 mov	 DWORD PTR _pRequestLocalInfo$11[ebp], eax

; 2496 : 
; 2497 : 			//获取好友
; 2498 : 			CUserFriendGroup * pUserFriendGroup = m_FriendGroupManager.SearchGroupItem(pAddFriend->dwUserID);

  000f8	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  000fb	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000fe	51		 push	 ecx
  000ff	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00102	83 c1 68	 add	 ecx, 104		; 00000068H
  00105	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00108	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  0010b	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0010e	ff d2		 call	 edx
  00110	89 45 e4	 mov	 DWORD PTR _pUserFriendGroup$10[ebp], eax

; 2499 : 			if(pUserFriendGroup==NULL) 

  00113	83 7d e4 00	 cmp	 DWORD PTR _pUserFriendGroup$10[ebp], 0
  00117	75 10		 jne	 SHORT $LN7@OnDBUserAd

; 2500 : 			{
; 2501 : 				pUserFriendGroup = m_FriendGroupManager.ActiveFriendGroup(MIN_FRIEND_CONTENT);

  00119	6a 14		 push	 20			; 00000014H
  0011b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0011e	83 c1 68	 add	 ecx, 104		; 00000068H
  00121	e8 00 00 00 00	 call	 ?ActiveFriendGroup@CFriendGroupManager@@QAEPAVCUserFriendGroup@@G@Z ; CFriendGroupManager::ActiveFriendGroup
  00126	89 45 e4	 mov	 DWORD PTR _pUserFriendGroup$10[ebp], eax
$LN7@OnDBUserAd:

; 2502 : 			}
; 2503 : 
; 2504 : 			//变量定义
; 2505 : 			tagServerFriendInfo ServerFriendInfo; 
; 2506 : 			ZeroMemory(&ServerFriendInfo,sizeof(ServerFriendInfo));

  00129	6a 07		 push	 7
  0012b	6a 00		 push	 0
  0012d	8d 45 dc	 lea	 eax, DWORD PTR _ServerFriendInfo$9[ebp]
  00130	50		 push	 eax
  00131	e8 00 00 00 00	 call	 _memset
  00136	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2507 : 
; 2508 : 			//设置变量
; 2509 : 			ServerFriendInfo.dwUserID=pAddFriend->dwRequestUserID;

  00139	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  0013c	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0013f	89 4d dc	 mov	 DWORD PTR _ServerFriendInfo$9[ebp], ecx

; 2510 : 			ServerFriendInfo.cbGroupID=pAddFriend->cbGroupID;

  00142	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  00145	8a 48 0c	 mov	 cl, BYTE PTR [eax+12]
  00148	88 4d e2	 mov	 BYTE PTR _ServerFriendInfo$9[ebp+6], cl

; 2511 : 			ServerFriendInfo.cbMainStatus=FRIEND_US_OFFLINE;

  0014b	c6 45 e0 00	 mov	 BYTE PTR _ServerFriendInfo$9[ebp+4], 0

; 2512 : 			ServerFriendInfo.cbGameStatus=US_OFFLINE;

  0014f	c6 45 e1 06	 mov	 BYTE PTR _ServerFriendInfo$9[ebp+5], 6

; 2513 : 
; 2514 : 			//获取用户
; 2515 : 			if(pRequestUserItem!=NULL)

  00153	83 7d ec 00	 cmp	 DWORD PTR _pRequestUserItem$[ebp], 0
  00157	74 20		 je	 SHORT $LN8@OnDBUserAd

; 2516 : 			{
; 2517 : 				ServerFriendInfo.cbMainStatus=pRequestUserItem->GetMainStatus();

  00159	8b 45 ec	 mov	 eax, DWORD PTR _pRequestUserItem$[ebp]
  0015c	8b 10		 mov	 edx, DWORD PTR [eax]
  0015e	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  00161	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00164	ff d0		 call	 eax
  00166	88 45 e0	 mov	 BYTE PTR _ServerFriendInfo$9[ebp+4], al

; 2518 : 				ServerFriendInfo.cbGameStatus=pRequestUserItem->GetGameStatus();

  00169	8b 45 ec	 mov	 eax, DWORD PTR _pRequestUserItem$[ebp]
  0016c	8b 10		 mov	 edx, DWORD PTR [eax]
  0016e	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  00171	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  00174	ff d0		 call	 eax
  00176	88 45 e1	 mov	 BYTE PTR _ServerFriendInfo$9[ebp+5], al
$LN8@OnDBUserAd:

; 2519 : 			}		
; 2520 : 
; 2521 : 			//添加好友
; 2522 : 			pUserFriendGroup->AppendFriendInfo(ServerFriendInfo);

  00179	8d 45 dc	 lea	 eax, DWORD PTR _ServerFriendInfo$9[ebp]
  0017c	50		 push	 eax
  0017d	8b 4d e4	 mov	 ecx, DWORD PTR _pUserFriendGroup$10[ebp]
  00180	e8 00 00 00 00	 call	 ?AppendFriendInfo@CUserFriendGroup@@QAE_NAAUtagServerFriendInfo@@@Z ; CUserFriendGroup::AppendFriendInfo

; 2523 : 
; 2524 : 			//变量定义
; 2525 : 			CMD_GC_UserFriendInfo UserFriendInfo;
; 2526 : 
; 2527 : 			ZeroMemory(&UserFriendInfo.FriendInfo,sizeof(tagClientFriendInfo)*MAX_FRIEND_TRANSFER);

  00185	68 39 03 00 00	 push	 825			; 00000339H
  0018a	6a 00		 push	 0
  0018c	8d 85 a2 fc ff
	ff		 lea	 eax, DWORD PTR _UserFriendInfo$8[ebp+2]
  00192	50		 push	 eax
  00193	e8 00 00 00 00	 call	 _memset
  00198	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2528 : 
; 2529 : 			//构造结构
; 2530 : 			UserFriendInfo.wFriendCount = 1;

  0019b	b8 01 00 00 00	 mov	 eax, 1
  001a0	66 89 85 a0 fc
	ff ff		 mov	 WORD PTR _UserFriendInfo$8[ebp], ax

; 2531 : 
; 2532 : 			//基本信息
; 2533 : 			UserFriendInfo.FriendInfo[0].dwUserID=pRequestLocalInfo->GetUserID();

  001a7	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  001aa	8b 10		 mov	 edx, DWORD PTR [eax]
  001ac	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  001af	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  001b2	ff d0		 call	 eax
  001b4	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  001b9	6b d1 00	 imul	 edx, ecx, 0
  001bc	89 84 15 a2 fc
	ff ff		 mov	 DWORD PTR _UserFriendInfo$8[ebp+edx+2], eax

; 2534 : 			UserFriendInfo.FriendInfo[0].dwGameID= pRequestLocalInfo->GetGameID();

  001c3	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  001c6	8b 10		 mov	 edx, DWORD PTR [eax]
  001c8	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  001cb	8b 42 30	 mov	 eax, DWORD PTR [edx+48]
  001ce	ff d0		 call	 eax
  001d0	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  001d5	6b d1 00	 imul	 edx, ecx, 0
  001d8	89 84 15 a6 fc
	ff ff		 mov	 DWORD PTR _UserFriendInfo$8[ebp+edx+6], eax

; 2535 : 			UserFriendInfo.FriendInfo[0].cbGroupID =pAddFriend->cbGroupID;

  001df	b8 a5 00 00 00	 mov	 eax, 165		; 000000a5H
  001e4	6b c8 00	 imul	 ecx, eax, 0
  001e7	8b 55 f4	 mov	 edx, DWORD PTR _pAddFriend$[ebp]
  001ea	8a 42 0c	 mov	 al, BYTE PTR [edx+12]
  001ed	88 84 0d 1c fd
	ff ff		 mov	 BYTE PTR _UserFriendInfo$8[ebp+ecx+124], al

; 2536 : 			UserFriendInfo.FriendInfo[0].dwFaceID =pRequestLocalInfo->GetUserInfo()->dwFaceID;

  001f4	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  001f7	8b 10		 mov	 edx, DWORD PTR [eax]
  001f9	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  001fc	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  001ff	ff d0		 call	 eax
  00201	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00206	6b d1 00	 imul	 edx, ecx, 0
  00209	8b 40 49	 mov	 eax, DWORD PTR [eax+73]
  0020c	89 84 15 ca fc
	ff ff		 mov	 DWORD PTR _UserFriendInfo$8[ebp+edx+42], eax

; 2537 : 			UserFriendInfo.FriendInfo[0].cbGender =pRequestLocalInfo->GetUserInfo()->cbGender;

  00213	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00216	8b 10		 mov	 edx, DWORD PTR [eax]
  00218	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  0021b	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0021e	ff d0		 call	 eax
  00220	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00225	6b d1 00	 imul	 edx, ecx, 0
  00228	8a 40 51	 mov	 al, BYTE PTR [eax+81]
  0022b	88 84 15 d2 fc
	ff ff		 mov	 BYTE PTR _UserFriendInfo$8[ebp+edx+50], al

; 2538 : 			UserFriendInfo.FriendInfo[0].dwCustomID =pRequestLocalInfo->GetUserInfo()->dwCustomID;

  00232	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00235	8b 10		 mov	 edx, DWORD PTR [eax]
  00237	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  0023a	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0023d	ff d0		 call	 eax
  0023f	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00244	6b d1 00	 imul	 edx, ecx, 0
  00247	8b 40 4d	 mov	 eax, DWORD PTR [eax+77]
  0024a	89 84 15 ce fc
	ff ff		 mov	 DWORD PTR _UserFriendInfo$8[ebp+edx+46], eax

; 2539 : 			UserFriendInfo.FriendInfo[0].wMemberOrder =pRequestLocalInfo->GetUserInfo()->wMemberOrder;

  00251	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00254	8b 10		 mov	 edx, DWORD PTR [eax]
  00256	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  00259	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0025c	ff d0		 call	 eax
  0025e	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00263	6b d1 00	 imul	 edx, ecx, 0
  00266	66 8b 40 52	 mov	 ax, WORD PTR [eax+82]
  0026a	66 89 84 15 d3
	fc ff ff	 mov	 WORD PTR _UserFriendInfo$8[ebp+edx+51], ax

; 2540 : 			UserFriendInfo.FriendInfo[0].wGrowLevel =pRequestLocalInfo->GetUserInfo()->wGrowLevel;

  00272	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00275	8b 10		 mov	 edx, DWORD PTR [eax]
  00277	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  0027a	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0027d	ff d0		 call	 eax
  0027f	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00284	6b d1 00	 imul	 edx, ecx, 0
  00287	66 8b 40 54	 mov	 ax, WORD PTR [eax+84]
  0028b	66 89 84 15 d5
	fc ff ff	 mov	 WORD PTR _UserFriendInfo$8[ebp+edx+53], ax

; 2541 : 			lstrcpyn(UserFriendInfo.FriendInfo[0].szNickName,pRequestLocalInfo->GetNickName(),CountArray(UserFriendInfo.FriendInfo[0].szNickName));

  00293	6a 20		 push	 32			; 00000020H
  00295	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00298	8b 10		 mov	 edx, DWORD PTR [eax]
  0029a	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  0029d	8b 42 34	 mov	 eax, DWORD PTR [edx+52]
  002a0	ff d0		 call	 eax
  002a2	50		 push	 eax
  002a3	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  002a8	6b d1 00	 imul	 edx, ecx, 0
  002ab	8d 84 15 aa fc
	ff ff		 lea	 eax, DWORD PTR _UserFriendInfo$8[ebp+edx+10]
  002b2	50		 push	 eax
  002b3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2542 : 			lstrcpyn(UserFriendInfo.FriendInfo[0].szUnderWrite,pRequestLocalInfo->GetUserInfo()->szUnderWrite,CountArray(UserFriendInfo.FriendInfo[0].szUnderWrite));

  002b9	6a 20		 push	 32			; 00000020H
  002bb	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  002be	8b 10		 mov	 edx, DWORD PTR [eax]
  002c0	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  002c3	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  002c6	ff d0		 call	 eax
  002c8	83 c0 56	 add	 eax, 86			; 00000056H
  002cb	50		 push	 eax
  002cc	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  002d1	6b d1 00	 imul	 edx, ecx, 0
  002d4	8d 84 15 d7 fc
	ff ff		 lea	 eax, DWORD PTR _UserFriendInfo$8[ebp+edx+55]
  002db	50		 push	 eax
  002dc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2543 : 			lstrcpyn(UserFriendInfo.FriendInfo[0].szCompellation,pRequestLocalInfo->GetUserInfo()->szCompellation,CountArray(UserFriendInfo.FriendInfo[0].szCompellation));

  002e2	6a 10		 push	 16			; 00000010H
  002e4	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  002e7	8b 10		 mov	 edx, DWORD PTR [eax]
  002e9	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  002ec	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  002ef	ff d0		 call	 eax
  002f1	83 c0 76	 add	 eax, 118		; 00000076H
  002f4	50		 push	 eax
  002f5	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  002fa	6b d1 00	 imul	 edx, ecx, 0
  002fd	8d 84 15 f7 fc
	ff ff		 lea	 eax, DWORD PTR _UserFriendInfo$8[ebp+edx+87]
  00304	50		 push	 eax
  00305	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2544 : 			lstrcpyn(UserFriendInfo.FriendInfo[0].szPhoneMode,pRequestLocalInfo->GetUserInfo()->szPhoneMode,CountArray(UserFriendInfo.FriendInfo[0].szPhoneMode));

  0030b	6a 15		 push	 21			; 00000015H
  0030d	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00310	8b 10		 mov	 edx, DWORD PTR [eax]
  00312	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  00315	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00318	ff d0		 call	 eax
  0031a	05 96 01 00 00	 add	 eax, 406		; 00000196H
  0031f	50		 push	 eax
  00320	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00325	6b d1 00	 imul	 edx, ecx, 0
  00328	8d 84 15 07 fd
	ff ff		 lea	 eax, DWORD PTR _UserFriendInfo$8[ebp+edx+103]
  0032f	50		 push	 eax
  00330	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2545 : 
; 2546 : 			//在线信息
; 2547 : 			UserFriendInfo.FriendInfo[0].cbMainStatus=pRequestLocalInfo->GetMainStatus();

  00336	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00339	8b 10		 mov	 edx, DWORD PTR [eax]
  0033b	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  0033e	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00341	ff d0		 call	 eax
  00343	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00348	6b d1 00	 imul	 edx, ecx, 0
  0034b	88 84 15 1d fd
	ff ff		 mov	 BYTE PTR _UserFriendInfo$8[ebp+edx+125], al

; 2548 : 			UserFriendInfo.FriendInfo[0].cbGameStatus=pRequestLocalInfo->GetGameStatus();

  00352	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00355	8b 10		 mov	 edx, DWORD PTR [eax]
  00357	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  0035a	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  0035d	ff d0		 call	 eax
  0035f	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00364	6b d1 00	 imul	 edx, ecx, 0
  00367	88 84 15 1e fd
	ff ff		 mov	 BYTE PTR _UserFriendInfo$8[ebp+edx+126], al

; 2549 : 			UserFriendInfo.FriendInfo[0].wServerID=pRequestLocalInfo->GetServerID();

  0036e	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  00371	8b 10		 mov	 edx, DWORD PTR [eax]
  00373	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  00376	8b 42 18	 mov	 eax, DWORD PTR [edx+24]
  00379	ff d0		 call	 eax
  0037b	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00380	6b d1 00	 imul	 edx, ecx, 0
  00383	66 89 84 15 21
	fd ff ff	 mov	 WORD PTR _UserFriendInfo$8[ebp+edx+129], ax

; 2550 : 			UserFriendInfo.FriendInfo[0].wTableID = pRequestLocalInfo->GetTableID();

  0038b	8b 45 e8	 mov	 eax, DWORD PTR _pRequestLocalInfo$11[ebp]
  0038e	8b 10		 mov	 edx, DWORD PTR [eax]
  00390	8b 4d e8	 mov	 ecx, DWORD PTR _pRequestLocalInfo$11[ebp]
  00393	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00396	ff d0		 call	 eax
  00398	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  0039d	6b d1 00	 imul	 edx, ecx, 0
  003a0	66 89 84 15 23
	fd ff ff	 mov	 WORD PTR _UserFriendInfo$8[ebp+edx+131], ax

; 2551 : 
; 2552 : 
; 2553 : 			//发送数据
; 2554 : 			WORD wSize = sizeof(UserFriendInfo)-sizeof(UserFriendInfo.FriendInfo)+sizeof(tagClientFriendInfo)*UserFriendInfo.wFriendCount;

  003a8	0f b7 85 a0 fc
	ff ff		 movzx	 eax, WORD PTR _UserFriendInfo$8[ebp]
  003af	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  003b5	83 c1 02	 add	 ecx, 2
  003b8	66 89 8d 9c fc
	ff ff		 mov	 WORD PTR _wSize$7[ebp], cx

; 2555 : 			SendData(((CLocalUserItem *)pServerUserItem)->GetSocketID(),MDM_GC_LOGON,SUB_S_USER_FRIEND,&UserFriendInfo,wSize);

  003bf	0f b7 85 9c fc
	ff ff		 movzx	 eax, WORD PTR _wSize$7[ebp]
  003c6	50		 push	 eax
  003c7	8d 8d a0 fc ff
	ff		 lea	 ecx, DWORD PTR _UserFriendInfo$8[ebp]
  003cd	51		 push	 ecx
  003ce	68 2f 01 00 00	 push	 303			; 0000012fH
  003d3	6a 01		 push	 1
  003d5	8b 55 f0	 mov	 edx, DWORD PTR _pServerUserItem$[ebp]
  003d8	8b 02		 mov	 eax, DWORD PTR [edx]
  003da	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  003dd	8b 50 38	 mov	 edx, DWORD PTR [eax+56]
  003e0	ff d2		 call	 edx
  003e2	50		 push	 eax
  003e3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003e6	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN5@OnDBUserAd:

; 2556 : 
; 2557 : 		}		
; 2558 : 	}
; 2559 : 
; 2560 : 	//处理用户
; 2561 : 	if(pRequestUserItem!=NULL)

  003eb	83 7d ec 00	 cmp	 DWORD PTR _pRequestUserItem$[ebp], 0
  003ef	0f 84 3a 04 00
	00		 je	 $LN9@OnDBUserAd

; 2562 : 	{
; 2563 : 		if(pRequestUserItem->GetUserItemKind()==enLocalKind)

  003f5	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  003f8	e8 00 00 00 00	 call	 ?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ; CServerUserItem::GetUserItemKind
  003fd	83 f8 01	 cmp	 eax, 1
  00400	0f 85 29 04 00
	00		 jne	 $LN9@OnDBUserAd

; 2564 : 		{
; 2565 : 			//变量定义
; 2566 : 			CLocalUserItem * pServerLocalInfo = (CLocalUserItem *)pServerUserItem;

  00406	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  00409	89 85 98 fc ff
	ff		 mov	 DWORD PTR _pServerLocalInfo$6[ebp], eax

; 2567 : 
; 2568 : 			//获取好友
; 2569 : 			CUserFriendGroup * pUserFriendGroup = m_FriendGroupManager.SearchGroupItem(pAddFriend->dwRequestUserID);

  0040f	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  00412	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00415	51		 push	 ecx
  00416	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00419	83 c1 68	 add	 ecx, 104		; 00000068H
  0041c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0041f	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  00422	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00425	ff d2		 call	 edx
  00427	89 85 94 fc ff
	ff		 mov	 DWORD PTR _pUserFriendGroup$5[ebp], eax

; 2570 : 			if(pUserFriendGroup==NULL) 

  0042d	83 bd 94 fc ff
	ff 00		 cmp	 DWORD PTR _pUserFriendGroup$5[ebp], 0
  00434	75 13		 jne	 SHORT $LN11@OnDBUserAd

; 2571 : 			{
; 2572 : 				pUserFriendGroup = m_FriendGroupManager.ActiveFriendGroup(MIN_FRIEND_CONTENT);

  00436	6a 14		 push	 20			; 00000014H
  00438	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0043b	83 c1 68	 add	 ecx, 104		; 00000068H
  0043e	e8 00 00 00 00	 call	 ?ActiveFriendGroup@CFriendGroupManager@@QAEPAVCUserFriendGroup@@G@Z ; CFriendGroupManager::ActiveFriendGroup
  00443	89 85 94 fc ff
	ff		 mov	 DWORD PTR _pUserFriendGroup$5[ebp], eax
$LN11@OnDBUserAd:

; 2573 : 			}
; 2574 : 
; 2575 : 			//变量定义
; 2576 : 			tagServerFriendInfo ServerFriendInfo; 
; 2577 : 			ZeroMemory(&ServerFriendInfo,sizeof(ServerFriendInfo));

  00449	6a 07		 push	 7
  0044b	6a 00		 push	 0
  0044d	8d 85 8c fc ff
	ff		 lea	 eax, DWORD PTR _ServerFriendInfo$4[ebp]
  00453	50		 push	 eax
  00454	e8 00 00 00 00	 call	 _memset
  00459	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2578 : 
; 2579 : 			//设置变量
; 2580 : 			ServerFriendInfo.dwUserID=pAddFriend->dwUserID;

  0045c	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  0045f	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00462	89 8d 8c fc ff
	ff		 mov	 DWORD PTR _ServerFriendInfo$4[ebp], ecx

; 2581 : 			ServerFriendInfo.cbGroupID=pAddFriend->cbRequestGroupID;

  00468	8b 45 f4	 mov	 eax, DWORD PTR _pAddFriend$[ebp]
  0046b	8a 48 0d	 mov	 cl, BYTE PTR [eax+13]
  0046e	88 8d 92 fc ff
	ff		 mov	 BYTE PTR _ServerFriendInfo$4[ebp+6], cl

; 2582 : 			ServerFriendInfo.cbMainStatus=FRIEND_US_OFFLINE;

  00474	c6 85 90 fc ff
	ff 00		 mov	 BYTE PTR _ServerFriendInfo$4[ebp+4], 0

; 2583 : 			ServerFriendInfo.cbGameStatus=US_OFFLINE;

  0047b	c6 85 91 fc ff
	ff 06		 mov	 BYTE PTR _ServerFriendInfo$4[ebp+5], 6

; 2584 : 
; 2585 : 			//获取用户
; 2586 : 			if(pServerUserItem!=NULL)

  00482	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00486	74 26		 je	 SHORT $LN12@OnDBUserAd

; 2587 : 			{
; 2588 : 				ServerFriendInfo.cbMainStatus=pServerUserItem->GetMainStatus();

  00488	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  0048b	8b 10		 mov	 edx, DWORD PTR [eax]
  0048d	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00490	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00493	ff d0		 call	 eax
  00495	88 85 90 fc ff
	ff		 mov	 BYTE PTR _ServerFriendInfo$4[ebp+4], al

; 2589 : 				ServerFriendInfo.cbGameStatus=pServerUserItem->GetGameStatus();

  0049b	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  0049e	8b 10		 mov	 edx, DWORD PTR [eax]
  004a0	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  004a3	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  004a6	ff d0		 call	 eax
  004a8	88 85 91 fc ff
	ff		 mov	 BYTE PTR _ServerFriendInfo$4[ebp+5], al
$LN12@OnDBUserAd:

; 2590 : 			}		
; 2591 : 
; 2592 : 			//添加好友
; 2593 : 			pUserFriendGroup->AppendFriendInfo(ServerFriendInfo);

  004ae	8d 85 8c fc ff
	ff		 lea	 eax, DWORD PTR _ServerFriendInfo$4[ebp]
  004b4	50		 push	 eax
  004b5	8b 8d 94 fc ff
	ff		 mov	 ecx, DWORD PTR _pUserFriendGroup$5[ebp]
  004bb	e8 00 00 00 00	 call	 ?AppendFriendInfo@CUserFriendGroup@@QAE_NAAUtagServerFriendInfo@@@Z ; CUserFriendGroup::AppendFriendInfo

; 2594 : 
; 2595 : 
; 2596 : 			if(pRequestUserItem->GetMainStatus()!=FRIEND_US_OFFLINE)

  004c0	8b 45 ec	 mov	 eax, DWORD PTR _pRequestUserItem$[ebp]
  004c3	8b 10		 mov	 edx, DWORD PTR [eax]
  004c5	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  004c8	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  004cb	ff d0		 call	 eax
  004cd	0f b6 c8	 movzx	 ecx, al
  004d0	85 c9		 test	 ecx, ecx
  004d2	0f 84 c0 02 00
	00		 je	 $LN13@OnDBUserAd

; 2597 : 			{
; 2598 : 				//变量定义
; 2599 : 				CMD_GC_UserFriendInfo UserFriendInfo;
; 2600 : 
; 2601 : 				ZeroMemory(&UserFriendInfo.FriendInfo,sizeof(tagClientFriendInfo)*MAX_FRIEND_TRANSFER);

  004d8	68 39 03 00 00	 push	 825			; 00000339H
  004dd	6a 00		 push	 0
  004df	8d 85 52 f9 ff
	ff		 lea	 eax, DWORD PTR _UserFriendInfo$3[ebp+2]
  004e5	50		 push	 eax
  004e6	e8 00 00 00 00	 call	 _memset
  004eb	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2602 : 
; 2603 : 				//构造结构
; 2604 : 				UserFriendInfo.wFriendCount = 1;

  004ee	b8 01 00 00 00	 mov	 eax, 1
  004f3	66 89 85 50 f9
	ff ff		 mov	 WORD PTR _UserFriendInfo$3[ebp], ax

; 2605 : 
; 2606 : 				//基本信息
; 2607 : 				UserFriendInfo.FriendInfo[0].dwUserID=pServerLocalInfo->GetUserID();

  004fa	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  00500	8b 10		 mov	 edx, DWORD PTR [eax]
  00502	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  00508	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0050b	ff d0		 call	 eax
  0050d	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00512	6b d1 00	 imul	 edx, ecx, 0
  00515	89 84 15 52 f9
	ff ff		 mov	 DWORD PTR _UserFriendInfo$3[ebp+edx+2], eax

; 2608 : 				UserFriendInfo.FriendInfo[0].dwGameID= pServerLocalInfo->GetGameID();

  0051c	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  00522	8b 10		 mov	 edx, DWORD PTR [eax]
  00524	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  0052a	8b 42 30	 mov	 eax, DWORD PTR [edx+48]
  0052d	ff d0		 call	 eax
  0052f	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00534	6b d1 00	 imul	 edx, ecx, 0
  00537	89 84 15 56 f9
	ff ff		 mov	 DWORD PTR _UserFriendInfo$3[ebp+edx+6], eax

; 2609 : 				UserFriendInfo.FriendInfo[0].cbGroupID =pAddFriend->cbRequestGroupID;

  0053e	b8 a5 00 00 00	 mov	 eax, 165		; 000000a5H
  00543	6b c8 00	 imul	 ecx, eax, 0
  00546	8b 55 f4	 mov	 edx, DWORD PTR _pAddFriend$[ebp]
  00549	8a 42 0d	 mov	 al, BYTE PTR [edx+13]
  0054c	88 84 0d cc f9
	ff ff		 mov	 BYTE PTR _UserFriendInfo$3[ebp+ecx+124], al

; 2610 : 				UserFriendInfo.FriendInfo[0].dwFaceID =pServerLocalInfo->GetUserInfo()->dwFaceID;

  00553	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  00559	8b 10		 mov	 edx, DWORD PTR [eax]
  0055b	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  00561	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00564	ff d0		 call	 eax
  00566	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  0056b	6b d1 00	 imul	 edx, ecx, 0
  0056e	8b 40 49	 mov	 eax, DWORD PTR [eax+73]
  00571	89 84 15 7a f9
	ff ff		 mov	 DWORD PTR _UserFriendInfo$3[ebp+edx+42], eax

; 2611 : 				UserFriendInfo.FriendInfo[0].dwCustomID =pServerLocalInfo->GetUserInfo()->dwCustomID;

  00578	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  0057e	8b 10		 mov	 edx, DWORD PTR [eax]
  00580	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  00586	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00589	ff d0		 call	 eax
  0058b	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00590	6b d1 00	 imul	 edx, ecx, 0
  00593	8b 40 4d	 mov	 eax, DWORD PTR [eax+77]
  00596	89 84 15 7e f9
	ff ff		 mov	 DWORD PTR _UserFriendInfo$3[ebp+edx+46], eax

; 2612 : 				UserFriendInfo.FriendInfo[0].cbGender =pServerLocalInfo->GetUserInfo()->cbGender;

  0059d	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  005a3	8b 10		 mov	 edx, DWORD PTR [eax]
  005a5	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  005ab	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  005ae	ff d0		 call	 eax
  005b0	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  005b5	6b d1 00	 imul	 edx, ecx, 0
  005b8	8a 40 51	 mov	 al, BYTE PTR [eax+81]
  005bb	88 84 15 82 f9
	ff ff		 mov	 BYTE PTR _UserFriendInfo$3[ebp+edx+50], al

; 2613 : 				UserFriendInfo.FriendInfo[0].wMemberOrder =pServerLocalInfo->GetUserInfo()->wMemberOrder;

  005c2	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  005c8	8b 10		 mov	 edx, DWORD PTR [eax]
  005ca	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  005d0	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  005d3	ff d0		 call	 eax
  005d5	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  005da	6b d1 00	 imul	 edx, ecx, 0
  005dd	66 8b 40 52	 mov	 ax, WORD PTR [eax+82]
  005e1	66 89 84 15 83
	f9 ff ff	 mov	 WORD PTR _UserFriendInfo$3[ebp+edx+51], ax

; 2614 : 				UserFriendInfo.FriendInfo[0].wGrowLevel =pServerLocalInfo->GetUserInfo()->wGrowLevel;

  005e9	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  005ef	8b 10		 mov	 edx, DWORD PTR [eax]
  005f1	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  005f7	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  005fa	ff d0		 call	 eax
  005fc	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00601	6b d1 00	 imul	 edx, ecx, 0
  00604	66 8b 40 54	 mov	 ax, WORD PTR [eax+84]
  00608	66 89 84 15 85
	f9 ff ff	 mov	 WORD PTR _UserFriendInfo$3[ebp+edx+53], ax

; 2615 : 				lstrcpyn(UserFriendInfo.FriendInfo[0].szNickName,pServerLocalInfo->GetNickName(),CountArray(UserFriendInfo.FriendInfo[0].szNickName));

  00610	6a 20		 push	 32			; 00000020H
  00612	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  00618	8b 10		 mov	 edx, DWORD PTR [eax]
  0061a	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  00620	8b 42 34	 mov	 eax, DWORD PTR [edx+52]
  00623	ff d0		 call	 eax
  00625	50		 push	 eax
  00626	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  0062b	6b d1 00	 imul	 edx, ecx, 0
  0062e	8d 84 15 5a f9
	ff ff		 lea	 eax, DWORD PTR _UserFriendInfo$3[ebp+edx+10]
  00635	50		 push	 eax
  00636	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2616 : 				lstrcpyn(UserFriendInfo.FriendInfo[0].szUnderWrite,pServerLocalInfo->GetUserInfo()->szUnderWrite,CountArray(UserFriendInfo.FriendInfo[0].szUnderWrite));

  0063c	6a 20		 push	 32			; 00000020H
  0063e	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  00644	8b 10		 mov	 edx, DWORD PTR [eax]
  00646	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  0064c	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0064f	ff d0		 call	 eax
  00651	83 c0 56	 add	 eax, 86			; 00000056H
  00654	50		 push	 eax
  00655	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  0065a	6b d1 00	 imul	 edx, ecx, 0
  0065d	8d 84 15 87 f9
	ff ff		 lea	 eax, DWORD PTR _UserFriendInfo$3[ebp+edx+55]
  00664	50		 push	 eax
  00665	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2617 : 				lstrcpyn(UserFriendInfo.FriendInfo[0].szCompellation,pServerLocalInfo->GetUserInfo()->szCompellation,CountArray(UserFriendInfo.FriendInfo[0].szCompellation));

  0066b	6a 10		 push	 16			; 00000010H
  0066d	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  00673	8b 10		 mov	 edx, DWORD PTR [eax]
  00675	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  0067b	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0067e	ff d0		 call	 eax
  00680	83 c0 76	 add	 eax, 118		; 00000076H
  00683	50		 push	 eax
  00684	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00689	6b d1 00	 imul	 edx, ecx, 0
  0068c	8d 84 15 a7 f9
	ff ff		 lea	 eax, DWORD PTR _UserFriendInfo$3[ebp+edx+87]
  00693	50		 push	 eax
  00694	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2618 : 				lstrcpyn(UserFriendInfo.FriendInfo[0].szPhoneMode,pServerLocalInfo->GetUserInfo()->szPhoneMode,CountArray(UserFriendInfo.FriendInfo[0].szPhoneMode));

  0069a	6a 15		 push	 21			; 00000015H
  0069c	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  006a2	8b 10		 mov	 edx, DWORD PTR [eax]
  006a4	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  006aa	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  006ad	ff d0		 call	 eax
  006af	05 96 01 00 00	 add	 eax, 406		; 00000196H
  006b4	50		 push	 eax
  006b5	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  006ba	6b d1 00	 imul	 edx, ecx, 0
  006bd	8d 84 15 b7 f9
	ff ff		 lea	 eax, DWORD PTR _UserFriendInfo$3[ebp+edx+103]
  006c4	50		 push	 eax
  006c5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2619 : 
; 2620 : 				//在线信息
; 2621 : 				UserFriendInfo.FriendInfo[0].cbMainStatus=pServerLocalInfo->GetMainStatus();

  006cb	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  006d1	8b 10		 mov	 edx, DWORD PTR [eax]
  006d3	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  006d9	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  006dc	ff d0		 call	 eax
  006de	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  006e3	6b d1 00	 imul	 edx, ecx, 0
  006e6	88 84 15 cd f9
	ff ff		 mov	 BYTE PTR _UserFriendInfo$3[ebp+edx+125], al

; 2622 : 				UserFriendInfo.FriendInfo[0].cbGameStatus=pServerLocalInfo->GetGameStatus();

  006ed	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  006f3	8b 10		 mov	 edx, DWORD PTR [eax]
  006f5	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  006fb	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  006fe	ff d0		 call	 eax
  00700	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00705	6b d1 00	 imul	 edx, ecx, 0
  00708	88 84 15 ce f9
	ff ff		 mov	 BYTE PTR _UserFriendInfo$3[ebp+edx+126], al

; 2623 : 				UserFriendInfo.FriendInfo[0].wServerID=pServerLocalInfo->GetServerID();

  0070f	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  00715	8b 10		 mov	 edx, DWORD PTR [eax]
  00717	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  0071d	8b 42 18	 mov	 eax, DWORD PTR [edx+24]
  00720	ff d0		 call	 eax
  00722	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00727	6b d1 00	 imul	 edx, ecx, 0
  0072a	66 89 84 15 d1
	f9 ff ff	 mov	 WORD PTR _UserFriendInfo$3[ebp+edx+129], ax

; 2624 : 				UserFriendInfo.FriendInfo[0].wTableID = pServerLocalInfo->GetTableID();

  00732	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  00738	8b 10		 mov	 edx, DWORD PTR [eax]
  0073a	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  00740	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00743	ff d0		 call	 eax
  00745	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  0074a	6b d1 00	 imul	 edx, ecx, 0
  0074d	66 89 84 15 d3
	f9 ff ff	 mov	 WORD PTR _UserFriendInfo$3[ebp+edx+131], ax

; 2625 : 
; 2626 : 				//发送数据
; 2627 : 				WORD wSize = sizeof(UserFriendInfo)-sizeof(UserFriendInfo.FriendInfo)+sizeof(tagClientFriendInfo)*UserFriendInfo.wFriendCount;

  00755	0f b7 85 50 f9
	ff ff		 movzx	 eax, WORD PTR _UserFriendInfo$3[ebp]
  0075c	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  00762	83 c1 02	 add	 ecx, 2
  00765	66 89 8d 4c f9
	ff ff		 mov	 WORD PTR _wSize$2[ebp], cx

; 2628 : 				SendData(((CLocalUserItem *)pRequestUserItem)->GetSocketID(),MDM_GC_LOGON,SUB_S_USER_FRIEND,&UserFriendInfo,wSize);

  0076c	0f b7 85 4c f9
	ff ff		 movzx	 eax, WORD PTR _wSize$2[ebp]
  00773	50		 push	 eax
  00774	8d 8d 50 f9 ff
	ff		 lea	 ecx, DWORD PTR _UserFriendInfo$3[ebp]
  0077a	51		 push	 ecx
  0077b	68 2f 01 00 00	 push	 303			; 0000012fH
  00780	6a 01		 push	 1
  00782	8b 55 ec	 mov	 edx, DWORD PTR _pRequestUserItem$[ebp]
  00785	8b 02		 mov	 eax, DWORD PTR [edx]
  00787	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  0078a	8b 50 38	 mov	 edx, DWORD PTR [eax+56]
  0078d	ff d2		 call	 edx
  0078f	50		 push	 eax
  00790	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00793	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN13@OnDBUserAd:

; 2629 : 
; 2630 : 			}	
; 2631 : 
; 2632 : 			//消息提醒
; 2633 : 			CMD_GC_RespondNotify RespondNotify;
; 2634 : 			_sntprintf(RespondNotify.szNotifyContent,CountArray(RespondNotify.szNotifyContent),TEXT("%s 同意了您的好友申请！"),pServerLocalInfo->GetNickName());

  00798	8b 85 98 fc ff
	ff		 mov	 eax, DWORD PTR _pServerLocalInfo$6[ebp]
  0079e	8b 10		 mov	 edx, DWORD PTR [eax]
  007a0	8b 8d 98 fc ff
	ff		 mov	 ecx, DWORD PTR _pServerLocalInfo$6[ebp]
  007a6	8b 42 34	 mov	 eax, DWORD PTR [edx+52]
  007a9	ff d0		 call	 eax
  007ab	50		 push	 eax
  007ac	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@IHOMHEOO@?$CFs?5?M?$KM?R?b?A?K?D?z?$LF?D?$LK?C?S?Q?I?j?G?k?$KD?$KB@
  007b1	68 80 00 00 00	 push	 128			; 00000080H
  007b6	8d 8d cc f8 ff
	ff		 lea	 ecx, DWORD PTR _RespondNotify$1[ebp]
  007bc	51		 push	 ecx
  007bd	e8 00 00 00 00	 call	 __snprintf
  007c2	83 c4 10	 add	 esp, 16			; 00000010H

; 2635 : 
; 2636 : 			if(pRequestUserItem->GetMainStatus()==FRIEND_US_OFFLINE)

  007c5	8b 45 ec	 mov	 eax, DWORD PTR _pRequestUserItem$[ebp]
  007c8	8b 10		 mov	 edx, DWORD PTR [eax]
  007ca	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  007cd	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  007d0	ff d0		 call	 eax
  007d2	0f b6 c8	 movzx	 ecx, al
  007d5	85 c9		 test	 ecx, ecx
  007d7	75 2d		 jne	 SHORT $LN14@OnDBUserAd

; 2637 : 			{
; 2638 : 				SaveOfflineMessage(pRequestUserItem->GetUserID(),SUB_GC_RESPOND_NOTIFY,&RespondNotify,sizeof(RespondNotify),dwContextID);

  007d9	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  007dc	50		 push	 eax
  007dd	68 80 00 00 00	 push	 128			; 00000080H
  007e2	8d 8d cc f8 ff
	ff		 lea	 ecx, DWORD PTR _RespondNotify$1[ebp]
  007e8	51		 push	 ecx
  007e9	68 ca 00 00 00	 push	 202			; 000000caH
  007ee	8b 55 ec	 mov	 edx, DWORD PTR _pRequestUserItem$[ebp]
  007f1	8b 02		 mov	 eax, DWORD PTR [edx]
  007f3	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  007f6	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  007f9	ff d2		 call	 edx
  007fb	50		 push	 eax
  007fc	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007ff	e8 00 00 00 00	 call	 ?SaveOfflineMessage@CAttemperEngineSink@@IAE_NKGPAXGK@Z ; CAttemperEngineSink::SaveOfflineMessage

; 2639 : 			}
; 2640 : 			else

  00804	eb 29		 jmp	 SHORT $LN9@OnDBUserAd
$LN14@OnDBUserAd:

; 2641 : 			{
; 2642 : 				//发送数据
; 2643 : 				SendData(((CLocalUserItem *)pRequestUserItem)->GetSocketID(),MDM_GC_USER,SUB_GC_RESPOND_NOTIFY,&RespondNotify,sizeof(RespondNotify));

  00806	68 80 00 00 00	 push	 128			; 00000080H
  0080b	8d 85 cc f8 ff
	ff		 lea	 eax, DWORD PTR _RespondNotify$1[ebp]
  00811	50		 push	 eax
  00812	68 ca 00 00 00	 push	 202			; 000000caH
  00817	6a 03		 push	 3
  00819	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  0081c	8b 11		 mov	 edx, DWORD PTR [ecx]
  0081e	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  00821	8b 42 38	 mov	 eax, DWORD PTR [edx+56]
  00824	ff d0		 call	 eax
  00826	50		 push	 eax
  00827	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0082a	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN9@OnDBUserAd:

; 2644 : 			}
; 2645 : 		}		
; 2646 : 	}
; 2647 : 
; 2648 : 	return true;

  0082f	b0 01		 mov	 al, 1
$LN1@OnDBUserAd:

; 2649 : }

  00831	5f		 pop	 edi
  00832	5e		 pop	 esi
  00833	5b		 pop	 ebx
  00834	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00837	33 cd		 xor	 ecx, ebp
  00839	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0083e	8b e5		 mov	 esp, ebp
  00840	5d		 pop	 ebp
  00841	c2 0c 00	 ret	 12			; 0000000cH
?OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBUserAddFriend
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_DeleteFriendNotify$ = -36				; size = 4
_DeleteFriendNotify$1 = -32				; size = 4
_pFriendUserItem$2 = -28				; size = 4
_pDestFriendGroup$3 = -24				; size = 4
_pUserFriendGroup$4 = -20				; size = 4
_pFriendGroup$5 = -16					; size = 4
_pServerUserItem$ = -12					; size = 4
_pDeleteFriend$ = -8					; size = 4
_this$ = -4						; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBLoadDeleteFriend, COMDAT
; _this$ = ecx

; 2342 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 64	 sub	 esp, 100		; 00000064H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2343 : 	//参数校验
; 2344 : 	ASSERT(wDataSize<=sizeof(DBO_GR_DeleteFriend));

  0000c	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00010	83 f8 10	 cmp	 eax, 16			; 00000010H
  00013	76 19		 jbe	 SHORT $LN10@OnDBLoadDe
  00015	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0001b	83 c1 02	 add	 ecx, 2
  0001e	51		 push	 ecx
  0001f	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00024	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00029	85 c0		 test	 eax, eax
  0002b	74 01		 je	 SHORT $LN10@OnDBLoadDe
  0002d	cc		 int	 3
$LN10@OnDBLoadDe:

; 2345 : 	if(wDataSize>sizeof(DBO_GR_DeleteFriend)) return false;

  0002e	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00032	83 f8 10	 cmp	 eax, 16			; 00000010H
  00035	76 07		 jbe	 SHORT $LN2@OnDBLoadDe
  00037	32 c0		 xor	 al, al
  00039	e9 88 01 00 00	 jmp	 $LN1@OnDBLoadDe
$LN2@OnDBLoadDe:

; 2346 : 
; 2347 : 	//提取数据
; 2348 : 	DBO_GR_DeleteFriend * pDeleteFriend = (DBO_GR_DeleteFriend *)pData;

  0003e	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00041	89 45 f8	 mov	 DWORD PTR _pDeleteFriend$[ebp], eax

; 2349 : 	ASSERT(pDeleteFriend);

  00044	83 7d f8 00	 cmp	 DWORD PTR _pDeleteFriend$[ebp], 0
  00048	75 18		 jne	 SHORT $LN11@OnDBLoadDe
  0004a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0004f	83 c0 07	 add	 eax, 7
  00052	50		 push	 eax
  00053	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00058	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0005d	85 c0		 test	 eax, eax
  0005f	74 01		 je	 SHORT $LN11@OnDBLoadDe
  00061	cc		 int	 3
$LN11@OnDBLoadDe:

; 2350 : 
; 2351 : 	//获取用户
; 2352 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pDeleteFriend->dwUserID);

  00062	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  00065	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00068	51		 push	 ecx
  00069	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0006c	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0006f	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00072	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00075	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00078	ff d2		 call	 edx
  0007a	89 45 f4	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 2353 : 	if(pServerUserItem!=NULL)

  0007d	83 7d f4 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00081	0f 84 1b 01 00
	00		 je	 $LN3@OnDBLoadDe

; 2354 : 	{
; 2355 : 		CUserFriendGroup * pFriendGroup = m_FriendGroupManager.SearchGroupItem(pDeleteFriend->dwUserID);

  00087	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  0008a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0008d	51		 push	 ecx
  0008e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00091	83 c1 68	 add	 ecx, 104		; 00000068H
  00094	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00097	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  0009a	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0009d	ff d2		 call	 edx
  0009f	89 45 f0	 mov	 DWORD PTR _pFriendGroup$5[ebp], eax

; 2356 : 		if(pFriendGroup!=NULL) 

  000a2	83 7d f0 00	 cmp	 DWORD PTR _pFriendGroup$5[ebp], 0
  000a6	74 1e		 je	 SHORT $LN4@OnDBLoadDe

; 2357 : 		{
; 2358 : 			//移除好友
; 2359 : 			pFriendGroup->RemoveFriendInfo(pDeleteFriend->dwFriendUserID);

  000a8	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  000ab	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  000ae	51		 push	 ecx
  000af	8b 4d f0	 mov	 ecx, DWORD PTR _pFriendGroup$5[ebp]
  000b2	e8 00 00 00 00	 call	 ?RemoveFriendInfo@CUserFriendGroup@@QAE_NK@Z ; CUserFriendGroup::RemoveFriendInfo

; 2360 : 			pFriendGroup->RemoveFriendInfo(pDeleteFriend->dwUserID);

  000b7	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  000ba	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000bd	51		 push	 ecx
  000be	8b 4d f0	 mov	 ecx, DWORD PTR _pFriendGroup$5[ebp]
  000c1	e8 00 00 00 00	 call	 ?RemoveFriendInfo@CUserFriendGroup@@QAE_NK@Z ; CUserFriendGroup::RemoveFriendInfo
$LN4@OnDBLoadDe:

; 2361 : 
; 2362 : 		}
; 2363 : 
; 2364 : 		//获取好友
; 2365 : 		CUserFriendGroup * pUserFriendGroup = m_FriendGroupManager.SearchGroupItem(pDeleteFriend->dwUserID);

  000c6	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  000c9	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000cc	51		 push	 ecx
  000cd	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000d0	83 c1 68	 add	 ecx, 104		; 00000068H
  000d3	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000d6	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  000d9	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  000dc	ff d2		 call	 edx
  000de	89 45 ec	 mov	 DWORD PTR _pUserFriendGroup$4[ebp], eax

; 2366 : 		if(pUserFriendGroup==NULL) 

  000e1	83 7d ec 00	 cmp	 DWORD PTR _pUserFriendGroup$4[ebp], 0
  000e5	75 10		 jne	 SHORT $LN5@OnDBLoadDe

; 2367 : 		{
; 2368 : 			pUserFriendGroup = m_FriendGroupManager.ActiveFriendGroup(MIN_FRIEND_CONTENT);

  000e7	6a 14		 push	 20			; 00000014H
  000e9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000ec	83 c1 68	 add	 ecx, 104		; 00000068H
  000ef	e8 00 00 00 00	 call	 ?ActiveFriendGroup@CFriendGroupManager@@QAEPAVCUserFriendGroup@@G@Z ; CFriendGroupManager::ActiveFriendGroup
  000f4	89 45 ec	 mov	 DWORD PTR _pUserFriendGroup$4[ebp], eax
$LN5@OnDBLoadDe:

; 2369 : 		}
; 2370 : 
; 2371 : 		if(pUserFriendGroup!=NULL)

  000f7	83 7d ec 00	 cmp	 DWORD PTR _pUserFriendGroup$4[ebp], 0
  000fb	0f 84 a1 00 00
	00		 je	 $LN3@OnDBLoadDe

; 2372 : 		{
; 2373 : 			//获取好友分组
; 2374 : 			CUserFriendGroup * pDestFriendGroup = m_FriendGroupManager.SearchGroupItem(pDeleteFriend->dwFriendUserID);

  00101	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  00104	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00107	51		 push	 ecx
  00108	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0010b	83 c1 68	 add	 ecx, 104		; 00000068H
  0010e	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00111	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  00114	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00117	ff d2		 call	 edx
  00119	89 45 e8	 mov	 DWORD PTR _pDestFriendGroup$3[ebp], eax

; 2375 : 			if(pDestFriendGroup!=NULL) 

  0011c	83 7d e8 00	 cmp	 DWORD PTR _pDestFriendGroup$3[ebp], 0
  00120	74 1e		 je	 SHORT $LN7@OnDBLoadDe

; 2376 : 			{
; 2377 : 				//移除好友
; 2378 : 				pUserFriendGroup->RemoveFriendInfo(pDeleteFriend->dwFriendUserID);

  00122	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  00125	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00128	51		 push	 ecx
  00129	8b 4d ec	 mov	 ecx, DWORD PTR _pUserFriendGroup$4[ebp]
  0012c	e8 00 00 00 00	 call	 ?RemoveFriendInfo@CUserFriendGroup@@QAE_NK@Z ; CUserFriendGroup::RemoveFriendInfo

; 2379 : 				pDestFriendGroup->RemoveFriendInfo(pDeleteFriend->dwUserID);

  00131	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  00134	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00137	51		 push	 ecx
  00138	8b 4d e8	 mov	 ecx, DWORD PTR _pDestFriendGroup$3[ebp]
  0013b	e8 00 00 00 00	 call	 ?RemoveFriendInfo@CUserFriendGroup@@QAE_NK@Z ; CUserFriendGroup::RemoveFriendInfo
$LN7@OnDBLoadDe:

; 2380 : 
; 2381 : 			}
; 2382 : 
; 2383 : 
; 2384 : 
; 2385 : 			CServerUserItem * pFriendUserItem = m_ServerUserManager.SearchUserItem(pDeleteFriend->dwFriendUserID);

  00140	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  00143	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00146	51		 push	 ecx
  00147	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0014a	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0014d	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00150	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00153	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00156	ff d2		 call	 edx
  00158	89 45 e4	 mov	 DWORD PTR _pFriendUserItem$2[ebp], eax

; 2386 : 			if(pFriendUserItem!=NULL&&pFriendUserItem->GetMainStatus()==FRIEND_US_ONLINE)

  0015b	83 7d e4 00	 cmp	 DWORD PTR _pFriendUserItem$2[ebp], 0
  0015f	74 41		 je	 SHORT $LN3@OnDBLoadDe
  00161	8b 45 e4	 mov	 eax, DWORD PTR _pFriendUserItem$2[ebp]
  00164	8b 10		 mov	 edx, DWORD PTR [eax]
  00166	8b 4d e4	 mov	 ecx, DWORD PTR _pFriendUserItem$2[ebp]
  00169	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  0016c	ff d0		 call	 eax
  0016e	0f b6 c8	 movzx	 ecx, al
  00171	83 f9 01	 cmp	 ecx, 1
  00174	75 2c		 jne	 SHORT $LN3@OnDBLoadDe

; 2387 : 			{
; 2388 : 				//构造结构
; 2389 : 				CMD_GC_DeleteFriendNotify DeleteFriendNotify;
; 2390 : 				DeleteFriendNotify.dwFriendUserID=pDeleteFriend->dwUserID;

  00176	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  00179	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0017c	89 4d e0	 mov	 DWORD PTR _DeleteFriendNotify$1[ebp], ecx

; 2391 : 
; 2392 : 				//发送数据
; 2393 : 				SendData(((CLocalUserItem *)pFriendUserItem)->GetSocketID(),MDM_GC_USER,SUB_GC_DELETE_FRIEND_NOTIFY,&DeleteFriendNotify,sizeof(DeleteFriendNotify));

  0017f	6a 04		 push	 4
  00181	8d 45 e0	 lea	 eax, DWORD PTR _DeleteFriendNotify$1[ebp]
  00184	50		 push	 eax
  00185	68 ce 00 00 00	 push	 206			; 000000ceH
  0018a	6a 03		 push	 3
  0018c	8b 4d e4	 mov	 ecx, DWORD PTR _pFriendUserItem$2[ebp]
  0018f	8b 11		 mov	 edx, DWORD PTR [ecx]
  00191	8b 4d e4	 mov	 ecx, DWORD PTR _pFriendUserItem$2[ebp]
  00194	8b 42 38	 mov	 eax, DWORD PTR [edx+56]
  00197	ff d0		 call	 eax
  00199	50		 push	 eax
  0019a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0019d	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN3@OnDBLoadDe:

; 2394 : 			}
; 2395 : 					
; 2396 : 		}
; 2397 : 	}
; 2398 : 
; 2399 : 		//构造结构
; 2400 : 		CMD_GC_DeleteFriendNotify DeleteFriendNotify;
; 2401 : 		DeleteFriendNotify.dwFriendUserID=pDeleteFriend->dwFriendUserID;

  001a2	8b 45 f8	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  001a5	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  001a8	89 4d dc	 mov	 DWORD PTR _DeleteFriendNotify$[ebp], ecx

; 2402 : 
; 2403 : 		//发送数据
; 2404 : 		SendData(dwContextID,MDM_GC_USER,SUB_GC_DELETE_FRIEND_NOTIFY,&DeleteFriendNotify,sizeof(DeleteFriendNotify));

  001ab	6a 04		 push	 4
  001ad	8d 45 dc	 lea	 eax, DWORD PTR _DeleteFriendNotify$[ebp]
  001b0	50		 push	 eax
  001b1	68 ce 00 00 00	 push	 206			; 000000ceH
  001b6	6a 03		 push	 3
  001b8	8b 4d 08	 mov	 ecx, DWORD PTR _dwContextID$[ebp]
  001bb	51		 push	 ecx
  001bc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  001bf	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 2405 : 
; 2406 : 		return true;

  001c4	b0 01		 mov	 al, 1
$LN1@OnDBLoadDe:

; 2407 : 
; 2408 : }

  001c6	5f		 pop	 edi
  001c7	5e		 pop	 esi
  001c8	5b		 pop	 ebx
  001c9	8b e5		 mov	 esp, ebp
  001cb	5d		 pop	 ebp
  001cc	c2 0c 00	 ret	 12			; 0000000cH
?OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBLoadDeleteFriend
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_cbChar2$1 = -2422					; size = 1
_cbChar1$2 = -2421					; size = 1
_i$3 = -2420						; size = 4
_nCustomRuleSize$4 = -2416				; size = 4
_cbOfflineData$ = -2412					; size = 2400
_pUserUserOfflineMessage$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBLoadUserOfflineMessage, COMDAT
; _this$ = ecx

; 2295 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b8 0a 00
	00		 sub	 esp, 2744		; 00000ab8H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2296 : 	//参数校验
; 2297 : 	ASSERT(wDataSize<=sizeof(DBO_GR_UserOfflineMessage));

  00019	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d 64 09 00 00	 cmp	 eax, 2404		; 00000964H
  00022	76 19		 jbe	 SHORT $LN12@OnDBLoadUs
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN12@OnDBLoadUs
  0003c	cc		 int	 3
$LN12@OnDBLoadUs:

; 2298 : 	if(wDataSize>sizeof(DBO_GR_UserOfflineMessage)) return false;

  0003d	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d 64 09 00 00	 cmp	 eax, 2404		; 00000964H
  00046	76 07		 jbe	 SHORT $LN5@OnDBLoadUs
  00048	32 c0		 xor	 al, al
  0004a	e9 7a 02 00 00	 jmp	 $LN1@OnDBLoadUs
$LN5@OnDBLoadUs:

; 2299 : 
; 2300 : 	//提取数据
; 2301 : 	DBO_GR_UserOfflineMessage * pUserUserOfflineMessage = (DBO_GR_UserOfflineMessage *)pData;

  0004f	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pUserUserOfflineMessage$[ebp], eax

; 2302 : 	ASSERT(pUserUserOfflineMessage);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pUserUserOfflineMessage$[ebp], 0
  00059	75 18		 jne	 SHORT $LN13@OnDBLoadUs
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN13@OnDBLoadUs
  00072	cc		 int	 3
$LN13@OnDBLoadUs:

; 2303 : 
; 2304 : 	//变量定义
; 2305 : 	BYTE cbOfflineData[CountArray(pUserUserOfflineMessage->szOfflineData)];
; 2306 : 	ZeroMemory(cbOfflineData,sizeof(cbOfflineData));

  00073	68 60 09 00 00	 push	 2400			; 00000960H
  00078	6a 00		 push	 0
  0007a	8d 85 94 f6 ff
	ff		 lea	 eax, DWORD PTR _cbOfflineData$[ebp]
  00080	50		 push	 eax
  00081	e8 00 00 00 00	 call	 _memset
  00086	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2307 : 
; 2308 : 	//解析数据	
; 2309 : 	if (pUserUserOfflineMessage->szOfflineData[0]!=0)

  00089	b8 01 00 00 00	 mov	 eax, 1
  0008e	6b c8 00	 imul	 ecx, eax, 0
  00091	8b 55 f4	 mov	 edx, DWORD PTR _pUserUserOfflineMessage$[ebp]
  00094	0f be 44 0a 04	 movsx	 eax, BYTE PTR [edx+ecx+4]
  00099	85 c0		 test	 eax, eax
  0009b	0f 84 02 02 00
	00		 je	 $LN6@OnDBLoadUs

; 2310 : 	{
; 2311 : 		//获取长度
; 2312 : 		INT nCustomRuleSize=lstrlen(pUserUserOfflineMessage->szOfflineData)/2;

  000a1	8b 45 f4	 mov	 eax, DWORD PTR _pUserUserOfflineMessage$[ebp]
  000a4	83 c0 04	 add	 eax, 4
  000a7	50		 push	 eax
  000a8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000ae	99		 cdq
  000af	2b c2		 sub	 eax, edx
  000b1	d1 f8		 sar	 eax, 1
  000b3	89 85 90 f6 ff
	ff		 mov	 DWORD PTR _nCustomRuleSize$4[ebp], eax

; 2313 : 
; 2314 : 		//转换字符
; 2315 : 		for (INT i=0;i<nCustomRuleSize;i++)

  000b9	c7 85 8c f6 ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$3[ebp], 0
  000c3	eb 0f		 jmp	 SHORT $LN4@OnDBLoadUs
$LN2@OnDBLoadUs:
  000c5	8b 85 8c f6 ff
	ff		 mov	 eax, DWORD PTR _i$3[ebp]
  000cb	83 c0 01	 add	 eax, 1
  000ce	89 85 8c f6 ff
	ff		 mov	 DWORD PTR _i$3[ebp], eax
$LN4@OnDBLoadUs:
  000d4	8b 85 8c f6 ff
	ff		 mov	 eax, DWORD PTR _i$3[ebp]
  000da	3b 85 90 f6 ff
	ff		 cmp	 eax, DWORD PTR _nCustomRuleSize$4[ebp]
  000e0	0f 8d bd 01 00
	00		 jge	 $LN6@OnDBLoadUs

; 2316 : 		{
; 2317 : 			//获取字符
; 2318 : 			TCHAR cbChar1=pUserUserOfflineMessage->szOfflineData[i*2];

  000e6	8b 85 8c f6 ff
	ff		 mov	 eax, DWORD PTR _i$3[ebp]
  000ec	8b 4d f4	 mov	 ecx, DWORD PTR _pUserUserOfflineMessage$[ebp]
  000ef	8a 54 41 04	 mov	 dl, BYTE PTR [ecx+eax*2+4]
  000f3	88 95 8b f6 ff
	ff		 mov	 BYTE PTR _cbChar1$2[ebp], dl

; 2319 : 			TCHAR cbChar2=pUserUserOfflineMessage->szOfflineData[i*2+1];

  000f9	8b 85 8c f6 ff
	ff		 mov	 eax, DWORD PTR _i$3[ebp]
  000ff	8b 4d f4	 mov	 ecx, DWORD PTR _pUserUserOfflineMessage$[ebp]
  00102	8a 54 41 05	 mov	 dl, BYTE PTR [ecx+eax*2+5]
  00106	88 95 8a f6 ff
	ff		 mov	 BYTE PTR _cbChar2$1[ebp], dl

; 2320 : 
; 2321 : 			//效验字符
; 2322 : 			ASSERT((cbChar1>=TEXT('0'))&&(cbChar1<=TEXT('9'))||(cbChar1>=TEXT('A'))&&(cbChar1<=TEXT('F')));

  0010c	0f be 85 8b f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar1$2[ebp]
  00113	83 f8 30	 cmp	 eax, 48			; 00000030H
  00116	7c 0c		 jl	 SHORT $LN14@OnDBLoadUs
  00118	0f be 8d 8b f6
	ff ff		 movsx	 ecx, BYTE PTR _cbChar1$2[ebp]
  0011f	83 f9 39	 cmp	 ecx, 57			; 00000039H
  00122	7e 31		 jle	 SHORT $LN16@OnDBLoadUs
$LN14@OnDBLoadUs:
  00124	0f be 95 8b f6
	ff ff		 movsx	 edx, BYTE PTR _cbChar1$2[ebp]
  0012b	83 fa 41	 cmp	 edx, 65			; 00000041H
  0012e	7c 0c		 jl	 SHORT $LN15@OnDBLoadUs
  00130	0f be 85 8b f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar1$2[ebp]
  00137	83 f8 46	 cmp	 eax, 70			; 00000046H
  0013a	7e 19		 jle	 SHORT $LN16@OnDBLoadUs
$LN15@OnDBLoadUs:
  0013c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00142	83 c1 1b	 add	 ecx, 27			; 0000001bH
  00145	51		 push	 ecx
  00146	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0014b	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00150	85 c0		 test	 eax, eax
  00152	74 01		 je	 SHORT $LN16@OnDBLoadUs
  00154	cc		 int	 3
$LN16@OnDBLoadUs:

; 2323 : 			ASSERT((cbChar2>=TEXT('0'))&&(cbChar2<=TEXT('9'))||(cbChar2>=TEXT('A'))&&(cbChar2<=TEXT('F')));

  00155	0f be 85 8a f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar2$1[ebp]
  0015c	83 f8 30	 cmp	 eax, 48			; 00000030H
  0015f	7c 0c		 jl	 SHORT $LN17@OnDBLoadUs
  00161	0f be 8d 8a f6
	ff ff		 movsx	 ecx, BYTE PTR _cbChar2$1[ebp]
  00168	83 f9 39	 cmp	 ecx, 57			; 00000039H
  0016b	7e 31		 jle	 SHORT $LN19@OnDBLoadUs
$LN17@OnDBLoadUs:
  0016d	0f be 95 8a f6
	ff ff		 movsx	 edx, BYTE PTR _cbChar2$1[ebp]
  00174	83 fa 41	 cmp	 edx, 65			; 00000041H
  00177	7c 0c		 jl	 SHORT $LN18@OnDBLoadUs
  00179	0f be 85 8a f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar2$1[ebp]
  00180	83 f8 46	 cmp	 eax, 70			; 00000046H
  00183	7e 19		 jle	 SHORT $LN19@OnDBLoadUs
$LN18@OnDBLoadUs:
  00185	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0018b	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0018e	51		 push	 ecx
  0018f	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00194	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00199	85 c0		 test	 eax, eax
  0019b	74 01		 je	 SHORT $LN19@OnDBLoadUs
  0019d	cc		 int	 3
$LN19@OnDBLoadUs:

; 2324 : 
; 2325 : 			//生成结果
; 2326 : 			if ((cbChar2>=TEXT('0'))&&(cbChar2<=TEXT('9'))) cbOfflineData[i]+=(cbChar2-TEXT('0'));

  0019e	0f be 85 8a f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar2$1[ebp]
  001a5	83 f8 30	 cmp	 eax, 48			; 00000030H
  001a8	7c 32		 jl	 SHORT $LN7@OnDBLoadUs
  001aa	0f be 85 8a f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar2$1[ebp]
  001b1	83 f8 39	 cmp	 eax, 57			; 00000039H
  001b4	7f 26		 jg	 SHORT $LN7@OnDBLoadUs
  001b6	0f be 85 8a f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar2$1[ebp]
  001bd	8b 8d 8c f6 ff
	ff		 mov	 ecx, DWORD PTR _i$3[ebp]
  001c3	0f b6 94 0d 94
	f6 ff ff	 movzx	 edx, BYTE PTR _cbOfflineData$[ebp+ecx]
  001cb	8d 44 02 d0	 lea	 eax, DWORD PTR [edx+eax-48]
  001cf	8b 8d 8c f6 ff
	ff		 mov	 ecx, DWORD PTR _i$3[ebp]
  001d5	88 84 0d 94 f6
	ff ff		 mov	 BYTE PTR _cbOfflineData$[ebp+ecx], al
$LN7@OnDBLoadUs:

; 2327 : 			if ((cbChar2>=TEXT('A'))&&(cbChar2<=TEXT('F'))) cbOfflineData[i]+=(cbChar2-TEXT('A')+0x0A);

  001dc	0f be 85 8a f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar2$1[ebp]
  001e3	83 f8 41	 cmp	 eax, 65			; 00000041H
  001e6	7c 32		 jl	 SHORT $LN8@OnDBLoadUs
  001e8	0f be 85 8a f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar2$1[ebp]
  001ef	83 f8 46	 cmp	 eax, 70			; 00000046H
  001f2	7f 26		 jg	 SHORT $LN8@OnDBLoadUs
  001f4	0f be 85 8a f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar2$1[ebp]
  001fb	8b 8d 8c f6 ff
	ff		 mov	 ecx, DWORD PTR _i$3[ebp]
  00201	0f b6 94 0d 94
	f6 ff ff	 movzx	 edx, BYTE PTR _cbOfflineData$[ebp+ecx]
  00209	8d 44 02 c9	 lea	 eax, DWORD PTR [edx+eax-55]
  0020d	8b 8d 8c f6 ff
	ff		 mov	 ecx, DWORD PTR _i$3[ebp]
  00213	88 84 0d 94 f6
	ff ff		 mov	 BYTE PTR _cbOfflineData$[ebp+ecx], al
$LN8@OnDBLoadUs:

; 2328 : 
; 2329 : 			//生成结果
; 2330 : 			if ((cbChar1>=TEXT('0'))&&(cbChar1<=TEXT('9'))) cbOfflineData[i]+=(cbChar1-TEXT('0'))*0x10;

  0021a	0f be 85 8b f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar1$2[ebp]
  00221	83 f8 30	 cmp	 eax, 48			; 00000030H
  00224	7c 36		 jl	 SHORT $LN9@OnDBLoadUs
  00226	0f be 85 8b f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar1$2[ebp]
  0022d	83 f8 39	 cmp	 eax, 57			; 00000039H
  00230	7f 2a		 jg	 SHORT $LN9@OnDBLoadUs
  00232	0f be 85 8b f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar1$2[ebp]
  00239	83 e8 30	 sub	 eax, 48			; 00000030H
  0023c	c1 e0 04	 shl	 eax, 4
  0023f	8b 8d 8c f6 ff
	ff		 mov	 ecx, DWORD PTR _i$3[ebp]
  00245	0f b6 94 0d 94
	f6 ff ff	 movzx	 edx, BYTE PTR _cbOfflineData$[ebp+ecx]
  0024d	03 d0		 add	 edx, eax
  0024f	8b 85 8c f6 ff
	ff		 mov	 eax, DWORD PTR _i$3[ebp]
  00255	88 94 05 94 f6
	ff ff		 mov	 BYTE PTR _cbOfflineData$[ebp+eax], dl
$LN9@OnDBLoadUs:

; 2331 : 			if ((cbChar1>=TEXT('A'))&&(cbChar1<=TEXT('F'))) cbOfflineData[i]+=(cbChar1-TEXT('A')+0x0A)*0x10;

  0025c	0f be 85 8b f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar1$2[ebp]
  00263	83 f8 41	 cmp	 eax, 65			; 00000041H
  00266	7c 36		 jl	 SHORT $LN10@OnDBLoadUs
  00268	0f be 85 8b f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar1$2[ebp]
  0026f	83 f8 46	 cmp	 eax, 70			; 00000046H
  00272	7f 2a		 jg	 SHORT $LN10@OnDBLoadUs
  00274	0f be 85 8b f6
	ff ff		 movsx	 eax, BYTE PTR _cbChar1$2[ebp]
  0027b	83 e8 37	 sub	 eax, 55			; 00000037H
  0027e	c1 e0 04	 shl	 eax, 4
  00281	8b 8d 8c f6 ff
	ff		 mov	 ecx, DWORD PTR _i$3[ebp]
  00287	0f b6 94 0d 94
	f6 ff ff	 movzx	 edx, BYTE PTR _cbOfflineData$[ebp+ecx]
  0028f	03 d0		 add	 edx, eax
  00291	8b 85 8c f6 ff
	ff		 mov	 eax, DWORD PTR _i$3[ebp]
  00297	88 94 05 94 f6
	ff ff		 mov	 BYTE PTR _cbOfflineData$[ebp+eax], dl
$LN10@OnDBLoadUs:

; 2332 : 		}

  0029e	e9 22 fe ff ff	 jmp	 $LN2@OnDBLoadUs
$LN6@OnDBLoadUs:

; 2333 : 	}
; 2334 : 
; 2335 : 	//发送消息
; 2336 : 	SendData(dwContextID,MDM_GC_USER,pUserUserOfflineMessage->wMessageType,&cbOfflineData,pUserUserOfflineMessage->wDataSize);

  002a3	8b 45 f4	 mov	 eax, DWORD PTR _pUserUserOfflineMessage$[ebp]
  002a6	0f b7 48 02	 movzx	 ecx, WORD PTR [eax+2]
  002aa	51		 push	 ecx
  002ab	8d 95 94 f6 ff
	ff		 lea	 edx, DWORD PTR _cbOfflineData$[ebp]
  002b1	52		 push	 edx
  002b2	8b 45 f4	 mov	 eax, DWORD PTR _pUserUserOfflineMessage$[ebp]
  002b5	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  002b8	51		 push	 ecx
  002b9	6a 03		 push	 3
  002bb	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  002be	52		 push	 edx
  002bf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002c2	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 2337 : 
; 2338 : 	return true;

  002c7	b0 01		 mov	 al, 1
$LN1@OnDBLoadUs:

; 2339 : }

  002c9	5f		 pop	 edi
  002ca	5e		 pop	 esi
  002cb	5b		 pop	 ebx
  002cc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002cf	33 cd		 xor	 ecx, ebp
  002d1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002d6	8b e5		 mov	 esp, ebp
  002d8	5d		 pop	 ebp
  002d9	c2 0c 00	 ret	 12			; 0000000cH
?OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBLoadUserOfflineMessage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_wBufferSize$1 = -32816					; size = 2
_wBufferSize$2 = -32812					; size = 2
_wBufferSize$3 = -32808					; size = 2
_wBufferSize$4 = -32804					; size = 2
_wBufferSize$5 = -32800					; size = 2
_wBufferSize$6 = -32796					; size = 2
_SendPacket$7 = -32792					; size = 8
_pUserIndividual$8 = -32784				; size = 4
_nIndex$9 = -32780					; size = 4
_wPacketSize$ = -32776					; size = 2
_wDataIndex$ = -32772					; size = 2
_cbDataBuffer$ = -32768					; size = 16376
_cbSendBuffer$ = -16392					; size = 16376
_pUserSimpleIndividual$ = -16				; size = 4
_pDBOUserSimpleIndividual$ = -12			; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBLoadUserSimpleIndividual, COMDAT
; _this$ = ecx

; 2187 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b8 30 82 00 00	 mov	 eax, 33328		; 00008230H
  00008	e8 00 00 00 00	 call	 __chkstk
  0000d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00012	33 c5		 xor	 eax, ebp
  00014	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2188 : 	//参数校验
; 2189 : 	ASSERT(wDataSize<=sizeof(DBO_GR_UserIndividual));

  0001d	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00021	3d 18 92 03 00	 cmp	 eax, 234008		; 00039218H
  00026	76 19		 jbe	 SHORT $LN15@OnDBLoadUs
  00028	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0002e	83 c1 02	 add	 ecx, 2
  00031	51		 push	 ecx
  00032	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00037	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0003c	85 c0		 test	 eax, eax
  0003e	74 01		 je	 SHORT $LN15@OnDBLoadUs
  00040	cc		 int	 3
$LN15@OnDBLoadUs:

; 2190 : 	if(wDataSize>sizeof(DBO_GR_UserIndividual)) return false;

  00041	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00045	3d 18 92 03 00	 cmp	 eax, 234008		; 00039218H
  0004a	76 07		 jbe	 SHORT $LN5@OnDBLoadUs
  0004c	32 c0		 xor	 al, al
  0004e	e9 7c 03 00 00	 jmp	 $LN1@OnDBLoadUs
$LN5@OnDBLoadUs:

; 2191 : 
; 2192 : 	//提取数据
; 2193 : 	DBO_GR_UserIndividual * pDBOUserSimpleIndividual = (DBO_GR_UserIndividual *)pData;

  00053	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00056	89 45 f4	 mov	 DWORD PTR _pDBOUserSimpleIndividual$[ebp], eax

; 2194 : 	ASSERT(pDBOUserSimpleIndividual);

  00059	83 7d f4 00	 cmp	 DWORD PTR _pDBOUserSimpleIndividual$[ebp], 0
  0005d	75 18		 jne	 SHORT $LN16@OnDBLoadUs
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00064	83 c0 07	 add	 eax, 7
  00067	50		 push	 eax
  00068	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0006d	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00072	85 c0		 test	 eax, eax
  00074	74 01		 je	 SHORT $LN16@OnDBLoadUs
  00076	cc		 int	 3
$LN16@OnDBLoadUs:

; 2195 : 
; 2196 : 	//变量定义
; 2197 : 	tagUserIndividual * pUserSimpleIndividual=NULL;

  00077	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _pUserSimpleIndividual$[ebp], 0

; 2198 : 	BYTE cbSendBuffer[SOCKET_TCP_PACKET];
; 2199 : 	BYTE cbDataBuffer[SOCKET_TCP_PACKET];
; 2200 : 	WORD wDataIndex=0,wPacketSize=0;

  0007e	33 c0		 xor	 eax, eax
  00080	66 89 85 fc 7f
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], ax
  00087	33 c0		 xor	 eax, eax
  00089	66 89 85 f8 7f
	ff ff		 mov	 WORD PTR _wPacketSize$[ebp], ax

; 2201 : 
; 2202 : 	//循环发送
; 2203 : 	for(int nIndex=0;nIndex<pDBOUserSimpleIndividual->wUserCount;++nIndex)

  00090	c7 85 f4 7f ff
	ff 00 00 00 00	 mov	 DWORD PTR _nIndex$9[ebp], 0
  0009a	eb 0f		 jmp	 SHORT $LN4@OnDBLoadUs
$LN2@OnDBLoadUs:
  0009c	8b 85 f4 7f ff
	ff		 mov	 eax, DWORD PTR _nIndex$9[ebp]
  000a2	83 c0 01	 add	 eax, 1
  000a5	89 85 f4 7f ff
	ff		 mov	 DWORD PTR _nIndex$9[ebp], eax
$LN4@OnDBLoadUs:
  000ab	8b 45 f4	 mov	 eax, DWORD PTR _pDBOUserSimpleIndividual$[ebp]
  000ae	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  000b2	39 8d f4 7f ff
	ff		 cmp	 DWORD PTR _nIndex$9[ebp], ecx
  000b8	0f 8d e2 02 00
	00		 jge	 $LN3@OnDBLoadUs

; 2204 : 	{
; 2205 : 		//设置变量
; 2206 : 		pUserSimpleIndividual = &pDBOUserSimpleIndividual->UserIndividual[nIndex];

  000be	69 85 f4 7f ff
	ff ea 00 00 00	 imul	 eax, DWORD PTR _nIndex$9[ebp], 234
  000c8	8b 4d f4	 mov	 ecx, DWORD PTR _pDBOUserSimpleIndividual$[ebp]
  000cb	8d 54 01 06	 lea	 edx, DWORD PTR [ecx+eax+6]
  000cf	89 55 f0	 mov	 DWORD PTR _pUserSimpleIndividual$[ebp], edx

; 2207 : 
; 2208 : 		//变量定义		
; 2209 : 		CMD_GC_UserIndividual * pUserIndividual=(CMD_GC_UserIndividual *)&cbDataBuffer;

  000d2	8d 85 00 80 ff
	ff		 lea	 eax, DWORD PTR _cbDataBuffer$[ebp]
  000d8	89 85 f0 7f ff
	ff		 mov	 DWORD PTR _pUserIndividual$8[ebp], eax

; 2210 : 		CSendPacketHelper SendPacket(pUserIndividual+1,sizeof(cbDataBuffer)-sizeof(CMD_GC_UserIndividual));

  000de	68 f4 3f 00 00	 push	 16372			; 00003ff4H
  000e3	8b 85 f0 7f ff
	ff		 mov	 eax, DWORD PTR _pUserIndividual$8[ebp]
  000e9	83 c0 04	 add	 eax, 4
  000ec	50		 push	 eax
  000ed	8d 8d e8 7f ff
	ff		 lea	 ecx, DWORD PTR _SendPacket$7[ebp]
  000f3	e8 00 00 00 00	 call	 ??0CSendPacketHelper@@QAE@PAXG@Z ; CSendPacketHelper::CSendPacketHelper

; 2211 : 
; 2212 : 		//构造结构
; 2213 : 		pUserIndividual->dwUserID = pUserSimpleIndividual->dwUserID;

  000f8	8b 85 f0 7f ff
	ff		 mov	 eax, DWORD PTR _pUserIndividual$8[ebp]
  000fe	8b 4d f0	 mov	 ecx, DWORD PTR _pUserSimpleIndividual$[ebp]
  00101	8b 11		 mov	 edx, DWORD PTR [ecx]
  00103	89 10		 mov	 DWORD PTR [eax], edx

; 2214 : 
; 2215 : 		//设置变量
; 2216 : 		wPacketSize = sizeof(CMD_GC_UserIndividual);

  00105	b8 04 00 00 00	 mov	 eax, 4
  0010a	66 89 85 f8 7f
	ff ff		 mov	 WORD PTR _wPacketSize$[ebp], ax

; 2217 : 
; 2218 : 		//QQ号码
; 2219 : 		if (pUserSimpleIndividual->szQQ[0]!=0)

  00111	b8 01 00 00 00	 mov	 eax, 1
  00116	6b c8 00	 imul	 ecx, eax, 0
  00119	8b 55 f0	 mov	 edx, DWORD PTR _pUserSimpleIndividual$[ebp]
  0011c	0f be 44 0a 04	 movsx	 eax, BYTE PTR [edx+ecx+4]
  00121	85 c0		 test	 eax, eax
  00123	74 33		 je	 SHORT $LN6@OnDBLoadUs

; 2220 : 		{
; 2221 : 			WORD wBufferSize=CountStringBuffer(pUserSimpleIndividual->szQQ);

  00125	8b 45 f0	 mov	 eax, DWORD PTR _pUserSimpleIndividual$[ebp]
  00128	83 c0 04	 add	 eax, 4
  0012b	50		 push	 eax
  0012c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00132	83 c0 01	 add	 eax, 1
  00135	66 89 85 e4 7f
	ff ff		 mov	 WORD PTR _wBufferSize$6[ebp], ax

; 2222 : 			SendPacket.AddPacket(pUserSimpleIndividual->szQQ,wBufferSize,DTP_GP_UI_QQ);

  0013c	6a 01		 push	 1
  0013e	0f b7 85 e4 7f
	ff ff		 movzx	 eax, WORD PTR _wBufferSize$6[ebp]
  00145	50		 push	 eax
  00146	8b 4d f0	 mov	 ecx, DWORD PTR _pUserSimpleIndividual$[ebp]
  00149	83 c1 04	 add	 ecx, 4
  0014c	51		 push	 ecx
  0014d	8d 8d e8 7f ff
	ff		 lea	 ecx, DWORD PTR _SendPacket$7[ebp]
  00153	e8 00 00 00 00	 call	 ?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z ; CSendPacketHelper::AddPacket
$LN6@OnDBLoadUs:

; 2223 : 		}
; 2224 : 
; 2225 : 		//Email
; 2226 : 		if (pUserSimpleIndividual->szEMail[0]!=0)

  00158	b8 01 00 00 00	 mov	 eax, 1
  0015d	6b c8 00	 imul	 ecx, eax, 0
  00160	8b 55 f0	 mov	 edx, DWORD PTR _pUserSimpleIndividual$[ebp]
  00163	0f be 44 0a 14	 movsx	 eax, BYTE PTR [edx+ecx+20]
  00168	85 c0		 test	 eax, eax
  0016a	74 33		 je	 SHORT $LN7@OnDBLoadUs

; 2227 : 		{
; 2228 : 			WORD wBufferSize=CountStringBuffer(pUserSimpleIndividual->szEMail);

  0016c	8b 45 f0	 mov	 eax, DWORD PTR _pUserSimpleIndividual$[ebp]
  0016f	83 c0 14	 add	 eax, 20			; 00000014H
  00172	50		 push	 eax
  00173	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00179	83 c0 01	 add	 eax, 1
  0017c	66 89 85 e0 7f
	ff ff		 mov	 WORD PTR _wBufferSize$5[ebp], ax

; 2229 : 			SendPacket.AddPacket(pUserSimpleIndividual->szEMail,wBufferSize,DTP_GP_UI_EMAIL);

  00183	6a 02		 push	 2
  00185	0f b7 85 e0 7f
	ff ff		 movzx	 eax, WORD PTR _wBufferSize$5[ebp]
  0018c	50		 push	 eax
  0018d	8b 4d f0	 mov	 ecx, DWORD PTR _pUserSimpleIndividual$[ebp]
  00190	83 c1 14	 add	 ecx, 20			; 00000014H
  00193	51		 push	 ecx
  00194	8d 8d e8 7f ff
	ff		 lea	 ecx, DWORD PTR _SendPacket$7[ebp]
  0019a	e8 00 00 00 00	 call	 ?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z ; CSendPacketHelper::AddPacket
$LN7@OnDBLoadUs:

; 2230 : 		}
; 2231 : 
; 2232 : 		//固定电话
; 2233 : 		if (pUserSimpleIndividual->szSeatPhone[0]!=0)

  0019f	b8 01 00 00 00	 mov	 eax, 1
  001a4	6b c8 00	 imul	 ecx, eax, 0
  001a7	8b 55 f0	 mov	 edx, DWORD PTR _pUserSimpleIndividual$[ebp]
  001aa	0f be 44 0a 35	 movsx	 eax, BYTE PTR [edx+ecx+53]
  001af	85 c0		 test	 eax, eax
  001b1	74 33		 je	 SHORT $LN8@OnDBLoadUs

; 2234 : 		{
; 2235 : 			WORD wBufferSize=CountStringBuffer(pUserSimpleIndividual->szSeatPhone);

  001b3	8b 45 f0	 mov	 eax, DWORD PTR _pUserSimpleIndividual$[ebp]
  001b6	83 c0 35	 add	 eax, 53			; 00000035H
  001b9	50		 push	 eax
  001ba	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001c0	83 c0 01	 add	 eax, 1
  001c3	66 89 85 dc 7f
	ff ff		 mov	 WORD PTR _wBufferSize$4[ebp], ax

; 2236 : 			SendPacket.AddPacket(pUserSimpleIndividual->szSeatPhone,wBufferSize,DTP_GP_UI_SEATPHOHE);

  001ca	6a 03		 push	 3
  001cc	0f b7 85 dc 7f
	ff ff		 movzx	 eax, WORD PTR _wBufferSize$4[ebp]
  001d3	50		 push	 eax
  001d4	8b 4d f0	 mov	 ecx, DWORD PTR _pUserSimpleIndividual$[ebp]
  001d7	83 c1 35	 add	 ecx, 53			; 00000035H
  001da	51		 push	 ecx
  001db	8d 8d e8 7f ff
	ff		 lea	 ecx, DWORD PTR _SendPacket$7[ebp]
  001e1	e8 00 00 00 00	 call	 ?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z ; CSendPacketHelper::AddPacket
$LN8@OnDBLoadUs:

; 2237 : 		}
; 2238 : 
; 2239 : 
; 2240 : 		//手机号码
; 2241 : 		if (pUserSimpleIndividual->szMobilePhone[0]!=0)

  001e6	b8 01 00 00 00	 mov	 eax, 1
  001eb	6b c8 00	 imul	 ecx, eax, 0
  001ee	8b 55 f0	 mov	 edx, DWORD PTR _pUserSimpleIndividual$[ebp]
  001f1	0f be 44 0a 56	 movsx	 eax, BYTE PTR [edx+ecx+86]
  001f6	85 c0		 test	 eax, eax
  001f8	74 33		 je	 SHORT $LN9@OnDBLoadUs

; 2242 : 		{
; 2243 : 			WORD wBufferSize=CountStringBuffer(pUserSimpleIndividual->szMobilePhone);

  001fa	8b 45 f0	 mov	 eax, DWORD PTR _pUserSimpleIndividual$[ebp]
  001fd	83 c0 56	 add	 eax, 86			; 00000056H
  00200	50		 push	 eax
  00201	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00207	83 c0 01	 add	 eax, 1
  0020a	66 89 85 d8 7f
	ff ff		 mov	 WORD PTR _wBufferSize$3[ebp], ax

; 2244 : 			SendPacket.AddPacket(pUserSimpleIndividual->szMobilePhone,wBufferSize,DTP_GP_UI_MOBILEPHONE);			

  00211	6a 04		 push	 4
  00213	0f b7 85 d8 7f
	ff ff		 movzx	 eax, WORD PTR _wBufferSize$3[ebp]
  0021a	50		 push	 eax
  0021b	8b 4d f0	 mov	 ecx, DWORD PTR _pUserSimpleIndividual$[ebp]
  0021e	83 c1 56	 add	 ecx, 86			; 00000056H
  00221	51		 push	 ecx
  00222	8d 8d e8 7f ff
	ff		 lea	 ecx, DWORD PTR _SendPacket$7[ebp]
  00228	e8 00 00 00 00	 call	 ?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z ; CSendPacketHelper::AddPacket
$LN9@OnDBLoadUs:

; 2245 : 		}
; 2246 : 
; 2247 : 		//联系地址
; 2248 : 		if (pUserSimpleIndividual->szDwellingPlace[0]!=0)

  0022d	b8 01 00 00 00	 mov	 eax, 1
  00232	6b c8 00	 imul	 ecx, eax, 0
  00235	8b 55 f0	 mov	 edx, DWORD PTR _pUserSimpleIndividual$[ebp]
  00238	0f be 44 0a 62	 movsx	 eax, BYTE PTR [edx+ecx+98]
  0023d	85 c0		 test	 eax, eax
  0023f	74 33		 je	 SHORT $LN10@OnDBLoadUs

; 2249 : 		{
; 2250 : 			WORD wBufferSize=CountStringBuffer(pUserSimpleIndividual->szDwellingPlace);

  00241	8b 45 f0	 mov	 eax, DWORD PTR _pUserSimpleIndividual$[ebp]
  00244	83 c0 62	 add	 eax, 98			; 00000062H
  00247	50		 push	 eax
  00248	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0024e	83 c0 01	 add	 eax, 1
  00251	66 89 85 d4 7f
	ff ff		 mov	 WORD PTR _wBufferSize$2[ebp], ax

; 2251 : 			SendPacket.AddPacket(pUserSimpleIndividual->szDwellingPlace,wBufferSize,DTP_GP_UI_DWELLINGPLACE);

  00258	6a 05		 push	 5
  0025a	0f b7 85 d4 7f
	ff ff		 movzx	 eax, WORD PTR _wBufferSize$2[ebp]
  00261	50		 push	 eax
  00262	8b 4d f0	 mov	 ecx, DWORD PTR _pUserSimpleIndividual$[ebp]
  00265	83 c1 62	 add	 ecx, 98			; 00000062H
  00268	51		 push	 ecx
  00269	8d 8d e8 7f ff
	ff		 lea	 ecx, DWORD PTR _SendPacket$7[ebp]
  0026f	e8 00 00 00 00	 call	 ?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z ; CSendPacketHelper::AddPacket
$LN10@OnDBLoadUs:

; 2252 : 		}
; 2253 : 
; 2254 : 		//邮政编码
; 2255 : 		if (pUserSimpleIndividual->szPostalCode[0]!=0)

  00274	b8 01 00 00 00	 mov	 eax, 1
  00279	6b c8 00	 imul	 ecx, eax, 0
  0027c	8b 55 f0	 mov	 edx, DWORD PTR _pUserSimpleIndividual$[ebp]
  0027f	0f be 84 0a e2
	00 00 00	 movsx	 eax, BYTE PTR [edx+ecx+226]
  00287	85 c0		 test	 eax, eax
  00289	74 38		 je	 SHORT $LN11@OnDBLoadUs

; 2256 : 		{
; 2257 : 			WORD wBufferSize=CountStringBuffer(pUserSimpleIndividual->szPostalCode);

  0028b	8b 45 f0	 mov	 eax, DWORD PTR _pUserSimpleIndividual$[ebp]
  0028e	05 e2 00 00 00	 add	 eax, 226		; 000000e2H
  00293	50		 push	 eax
  00294	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0029a	83 c0 01	 add	 eax, 1
  0029d	66 89 85 d0 7f
	ff ff		 mov	 WORD PTR _wBufferSize$1[ebp], ax

; 2258 : 			SendPacket.AddPacket(pUserSimpleIndividual->szPostalCode,wBufferSize,DTP_GP_UI_POSTALCODE);

  002a4	6a 06		 push	 6
  002a6	0f b7 85 d0 7f
	ff ff		 movzx	 eax, WORD PTR _wBufferSize$1[ebp]
  002ad	50		 push	 eax
  002ae	8b 4d f0	 mov	 ecx, DWORD PTR _pUserSimpleIndividual$[ebp]
  002b1	81 c1 e2 00 00
	00		 add	 ecx, 226		; 000000e2H
  002b7	51		 push	 ecx
  002b8	8d 8d e8 7f ff
	ff		 lea	 ecx, DWORD PTR _SendPacket$7[ebp]
  002be	e8 00 00 00 00	 call	 ?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z ; CSendPacketHelper::AddPacket
$LN11@OnDBLoadUs:

; 2259 : 		}
; 2260 : 
; 2261 : 		//设置变量
; 2262 : 		wPacketSize += SendPacket.GetDataSize();

  002c3	8d 8d e8 7f ff
	ff		 lea	 ecx, DWORD PTR _SendPacket$7[ebp]
  002c9	e8 00 00 00 00	 call	 ?GetDataSize@CSendPacketHelper@@QAEGXZ ; CSendPacketHelper::GetDataSize
  002ce	0f b7 c0	 movzx	 eax, ax
  002d1	0f b7 8d f8 7f
	ff ff		 movzx	 ecx, WORD PTR _wPacketSize$[ebp]
  002d8	03 c8		 add	 ecx, eax
  002da	66 89 8d f8 7f
	ff ff		 mov	 WORD PTR _wPacketSize$[ebp], cx

; 2263 : 
; 2264 : 		//发送判断
; 2265 : 		if(wDataIndex+wPacketSize+sizeof(WORD)>CountArray(cbSendBuffer))

  002e1	0f b7 85 fc 7f
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  002e8	0f b7 8d f8 7f
	ff ff		 movzx	 ecx, WORD PTR _wPacketSize$[ebp]
  002ef	8d 54 08 02	 lea	 edx, DWORD PTR [eax+ecx+2]
  002f3	81 fa f8 3f 00
	00		 cmp	 edx, 16376		; 00003ff8H
  002f9	76 41		 jbe	 SHORT $LN12@OnDBLoadUs

; 2266 : 		{			
; 2267 : 			//发送消息
; 2268 : 			SendData(dwContextID,MDM_GC_LOGON,SUB_S_USER_SINDIVIDUAL,cbSendBuffer,wDataIndex);

  002fb	0f b7 85 fc 7f
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  00302	50		 push	 eax
  00303	8d 8d f8 bf ff
	ff		 lea	 ecx, DWORD PTR _cbSendBuffer$[ebp]
  00309	51		 push	 ecx
  0030a	68 31 01 00 00	 push	 305			; 00000131H
  0030f	6a 01		 push	 1
  00311	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  00314	52		 push	 edx
  00315	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00318	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 2269 : 
; 2270 : 			//设置变量
; 2271 : 			ZeroMemory(cbSendBuffer,sizeof(cbSendBuffer));

  0031d	68 f8 3f 00 00	 push	 16376			; 00003ff8H
  00322	6a 00		 push	 0
  00324	8d 85 f8 bf ff
	ff		 lea	 eax, DWORD PTR _cbSendBuffer$[ebp]
  0032a	50		 push	 eax
  0032b	e8 00 00 00 00	 call	 _memset
  00330	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2272 : 			wDataIndex = 0;

  00333	33 c0		 xor	 eax, eax
  00335	66 89 85 fc 7f
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], ax
$LN12@OnDBLoadUs:

; 2273 : 		}
; 2274 : 
; 2275 : 		//拷贝数据
; 2276 : 		CopyMemory(&cbSendBuffer[wDataIndex],&wPacketSize,sizeof(WORD));

  0033c	6a 02		 push	 2
  0033e	8d 85 f8 7f ff
	ff		 lea	 eax, DWORD PTR _wPacketSize$[ebp]
  00344	50		 push	 eax
  00345	0f b7 8d fc 7f
	ff ff		 movzx	 ecx, WORD PTR _wDataIndex$[ebp]
  0034c	8d 94 0d f8 bf
	ff ff		 lea	 edx, DWORD PTR _cbSendBuffer$[ebp+ecx]
  00353	52		 push	 edx
  00354	e8 00 00 00 00	 call	 _memcpy
  00359	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2277 : 		CopyMemory(&cbSendBuffer[wDataIndex+sizeof(WORD)],cbDataBuffer,wPacketSize);

  0035c	0f b7 85 f8 7f
	ff ff		 movzx	 eax, WORD PTR _wPacketSize$[ebp]
  00363	50		 push	 eax
  00364	8d 8d 00 80 ff
	ff		 lea	 ecx, DWORD PTR _cbDataBuffer$[ebp]
  0036a	51		 push	 ecx
  0036b	0f b7 95 fc 7f
	ff ff		 movzx	 edx, WORD PTR _wDataIndex$[ebp]
  00372	8d 84 15 fa bf
	ff ff		 lea	 eax, DWORD PTR _cbSendBuffer$[ebp+edx+2]
  00379	50		 push	 eax
  0037a	e8 00 00 00 00	 call	 _memcpy
  0037f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2278 : 
; 2279 : 		//设置变量
; 2280 : 		wDataIndex += sizeof(WORD)+wPacketSize;

  00382	0f b7 85 f8 7f
	ff ff		 movzx	 eax, WORD PTR _wPacketSize$[ebp]
  00389	0f b7 8d fc 7f
	ff ff		 movzx	 ecx, WORD PTR _wDataIndex$[ebp]
  00390	8d 54 01 02	 lea	 edx, DWORD PTR [ecx+eax+2]
  00394	66 89 95 fc 7f
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], dx

; 2281 : 	}

  0039b	e9 fc fc ff ff	 jmp	 $LN2@OnDBLoadUs
$LN3@OnDBLoadUs:

; 2282 : 
; 2283 : 	//剩余发送
; 2284 : 	if(wDataIndex>0)

  003a0	0f b7 85 fc 7f
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  003a7	85 c0		 test	 eax, eax
  003a9	7e 22		 jle	 SHORT $LN13@OnDBLoadUs

; 2285 : 	{
; 2286 : 		//发送消息
; 2287 : 		SendData(dwContextID,MDM_GC_LOGON,SUB_S_USER_SINDIVIDUAL,cbSendBuffer,wDataIndex);			

  003ab	0f b7 85 fc 7f
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  003b2	50		 push	 eax
  003b3	8d 8d f8 bf ff
	ff		 lea	 ecx, DWORD PTR _cbSendBuffer$[ebp]
  003b9	51		 push	 ecx
  003ba	68 31 01 00 00	 push	 305			; 00000131H
  003bf	6a 01		 push	 1
  003c1	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  003c4	52		 push	 edx
  003c5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003c8	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN13@OnDBLoadUs:

; 2288 : 	}
; 2289 : 
; 2290 : 	return true;

  003cd	b0 01		 mov	 al, 1
$LN1@OnDBLoadUs:

; 2291 : }

  003cf	5f		 pop	 edi
  003d0	5e		 pop	 esi
  003d1	5b		 pop	 ebx
  003d2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003d5	33 cd		 xor	 ecx, ebp
  003d7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003dc	8b e5		 mov	 esp, ebp
  003de	5d		 pop	 ebp
  003df	c2 0c 00	 ret	 12			; 0000000cH
?OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBLoadUserSimpleIndividual
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_pSendUserRemarksInfo$1 = -16444			; size = 4
_nIndex$2 = -16440					; size = 4
_wPacketSize$ = -16436					; size = 2
_wDataIndex$ = -16432					; size = 2
_cbDataBuffer$ = -16428					; size = 36
_cbSendBuffer$ = -16392					; size = 16376
_pUserRemarksInfo$ = -16				; size = 4
_pDBOUserRemarksInfo$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBLoadUserRemarksInfo, COMDAT
; _this$ = ecx

; 2125 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b8 3c 42 00 00	 mov	 eax, 16956		; 0000423cH
  00008	e8 00 00 00 00	 call	 __chkstk
  0000d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00012	33 c5		 xor	 eax, ebp
  00014	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2126 : 	//参数校验
; 2127 : 	ASSERT(wDataSize<=sizeof(DBO_GR_UserRemarksInfo));

  0001d	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00021	3d a8 8c 00 00	 cmp	 eax, 36008		; 00008ca8H
  00026	76 19		 jbe	 SHORT $LN9@OnDBLoadUs
  00028	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0002e	83 c1 02	 add	 ecx, 2
  00031	51		 push	 ecx
  00032	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00037	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0003c	85 c0		 test	 eax, eax
  0003e	74 01		 je	 SHORT $LN9@OnDBLoadUs
  00040	cc		 int	 3
$LN9@OnDBLoadUs:

; 2128 : 	if(wDataSize>sizeof(DBO_GR_UserRemarksInfo)) return false;

  00041	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00045	3d a8 8c 00 00	 cmp	 eax, 36008		; 00008ca8H
  0004a	76 07		 jbe	 SHORT $LN5@OnDBLoadUs
  0004c	32 c0		 xor	 al, al
  0004e	e9 b6 01 00 00	 jmp	 $LN1@OnDBLoadUs
$LN5@OnDBLoadUs:

; 2129 : 
; 2130 : 	//提取数据
; 2131 : 	DBO_GR_UserRemarksInfo * pDBOUserRemarksInfo = (DBO_GR_UserRemarksInfo *)pData;

  00053	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00056	89 45 f4	 mov	 DWORD PTR _pDBOUserRemarksInfo$[ebp], eax

; 2132 : 	ASSERT(pDBOUserRemarksInfo);

  00059	83 7d f4 00	 cmp	 DWORD PTR _pDBOUserRemarksInfo$[ebp], 0
  0005d	75 18		 jne	 SHORT $LN10@OnDBLoadUs
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00064	83 c0 07	 add	 eax, 7
  00067	50		 push	 eax
  00068	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0006d	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00072	85 c0		 test	 eax, eax
  00074	74 01		 je	 SHORT $LN10@OnDBLoadUs
  00076	cc		 int	 3
$LN10@OnDBLoadUs:

; 2133 : 
; 2134 : 	//变量定义
; 2135 : 	tagUserRemarksInfo * pUserRemarksInfo=NULL;

  00077	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _pUserRemarksInfo$[ebp], 0

; 2136 : 	BYTE cbSendBuffer[SOCKET_TCP_PACKET];
; 2137 : 	BYTE cbDataBuffer[sizeof(tagUserRemarksInfo)];
; 2138 : 	WORD wDataIndex=0,wPacketSize=0;

  0007e	33 c0		 xor	 eax, eax
  00080	66 89 85 d0 bf
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], ax
  00087	33 c0		 xor	 eax, eax
  00089	66 89 85 cc bf
	ff ff		 mov	 WORD PTR _wPacketSize$[ebp], ax

; 2139 : 
; 2140 : 	//循环发送
; 2141 : 	for(int nIndex=0;nIndex<pDBOUserRemarksInfo->wFriendCount;++nIndex)

  00090	c7 85 c8 bf ff
	ff 00 00 00 00	 mov	 DWORD PTR _nIndex$2[ebp], 0
  0009a	eb 0f		 jmp	 SHORT $LN4@OnDBLoadUs
$LN2@OnDBLoadUs:
  0009c	8b 85 c8 bf ff
	ff		 mov	 eax, DWORD PTR _nIndex$2[ebp]
  000a2	83 c0 01	 add	 eax, 1
  000a5	89 85 c8 bf ff
	ff		 mov	 DWORD PTR _nIndex$2[ebp], eax
$LN4@OnDBLoadUs:
  000ab	8b 45 f4	 mov	 eax, DWORD PTR _pDBOUserRemarksInfo$[ebp]
  000ae	0f b7 48 04	 movzx	 ecx, WORD PTR [eax+4]
  000b2	39 8d c8 bf ff
	ff		 cmp	 DWORD PTR _nIndex$2[ebp], ecx
  000b8	0f 8d 1c 01 00
	00		 jge	 $LN3@OnDBLoadUs

; 2142 : 	{
; 2143 : 		//设置变量
; 2144 : 		pUserRemarksInfo = &pDBOUserRemarksInfo->RemarksInfo[nIndex];

  000be	6b 85 c8 bf ff
	ff 24		 imul	 eax, DWORD PTR _nIndex$2[ebp], 36
  000c5	8b 4d f4	 mov	 ecx, DWORD PTR _pDBOUserRemarksInfo$[ebp]
  000c8	8d 54 01 06	 lea	 edx, DWORD PTR [ecx+eax+6]
  000cc	89 55 f0	 mov	 DWORD PTR _pUserRemarksInfo$[ebp], edx

; 2145 : 
; 2146 : 		//变量定义		
; 2147 : 		tagUserRemarksInfo * pSendUserRemarksInfo=(tagUserRemarksInfo *)&cbDataBuffer;

  000cf	8d 85 d4 bf ff
	ff		 lea	 eax, DWORD PTR _cbDataBuffer$[ebp]
  000d5	89 85 c4 bf ff
	ff		 mov	 DWORD PTR _pSendUserRemarksInfo$1[ebp], eax

; 2148 : 
; 2149 : 		//设置变量
; 2150 : 		pSendUserRemarksInfo->dwFriendUserID=pUserRemarksInfo->dwFriendUserID;

  000db	8b 85 c4 bf ff
	ff		 mov	 eax, DWORD PTR _pSendUserRemarksInfo$1[ebp]
  000e1	8b 4d f0	 mov	 ecx, DWORD PTR _pUserRemarksInfo$[ebp]
  000e4	8b 11		 mov	 edx, DWORD PTR [ecx]
  000e6	89 10		 mov	 DWORD PTR [eax], edx

; 2151 : 		lstrcpyn(pSendUserRemarksInfo->szRemarksInfo,pUserRemarksInfo->szRemarksInfo,CountArray(pSendUserRemarksInfo->szRemarksInfo));

  000e8	6a 20		 push	 32			; 00000020H
  000ea	8b 45 f0	 mov	 eax, DWORD PTR _pUserRemarksInfo$[ebp]
  000ed	83 c0 04	 add	 eax, 4
  000f0	50		 push	 eax
  000f1	8b 8d c4 bf ff
	ff		 mov	 ecx, DWORD PTR _pSendUserRemarksInfo$1[ebp]
  000f7	83 c1 04	 add	 ecx, 4
  000fa	51		 push	 ecx
  000fb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2152 : 
; 2153 : 		//设置变量
; 2154 : 		wPacketSize = sizeof(tagUserRemarksInfo)-sizeof(pSendUserRemarksInfo->szRemarksInfo)+CountStringBuffer(pSendUserRemarksInfo->szRemarksInfo);

  00101	8b 85 c4 bf ff
	ff		 mov	 eax, DWORD PTR _pSendUserRemarksInfo$1[ebp]
  00107	83 c0 04	 add	 eax, 4
  0010a	50		 push	 eax
  0010b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00111	83 c0 05	 add	 eax, 5
  00114	66 89 85 cc bf
	ff ff		 mov	 WORD PTR _wPacketSize$[ebp], ax

; 2155 : 
; 2156 : 		//发送判断
; 2157 : 		if(wDataIndex+wPacketSize+sizeof(BYTE)>CountArray(cbSendBuffer))

  0011b	0f b7 85 d0 bf
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  00122	0f b7 8d cc bf
	ff ff		 movzx	 ecx, WORD PTR _wPacketSize$[ebp]
  00129	8d 54 08 01	 lea	 edx, DWORD PTR [eax+ecx+1]
  0012d	81 fa f8 3f 00
	00		 cmp	 edx, 16376		; 00003ff8H
  00133	76 41		 jbe	 SHORT $LN6@OnDBLoadUs

; 2158 : 		{			
; 2159 : 			//发送消息
; 2160 : 			SendData(dwContextID,MDM_GC_LOGON,SUB_S_USER_REMARKS,cbSendBuffer,wDataIndex);

  00135	0f b7 85 d0 bf
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  0013c	50		 push	 eax
  0013d	8d 8d f8 bf ff
	ff		 lea	 ecx, DWORD PTR _cbSendBuffer$[ebp]
  00143	51		 push	 ecx
  00144	68 30 01 00 00	 push	 304			; 00000130H
  00149	6a 01		 push	 1
  0014b	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  0014e	52		 push	 edx
  0014f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00152	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 2161 : 
; 2162 : 			//设置变量
; 2163 : 			ZeroMemory(cbSendBuffer,sizeof(cbSendBuffer));

  00157	68 f8 3f 00 00	 push	 16376			; 00003ff8H
  0015c	6a 00		 push	 0
  0015e	8d 85 f8 bf ff
	ff		 lea	 eax, DWORD PTR _cbSendBuffer$[ebp]
  00164	50		 push	 eax
  00165	e8 00 00 00 00	 call	 _memset
  0016a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2164 : 			wDataIndex = 0;

  0016d	33 c0		 xor	 eax, eax
  0016f	66 89 85 d0 bf
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], ax
$LN6@OnDBLoadUs:

; 2165 : 		}
; 2166 : 
; 2167 : 		//拷贝数据
; 2168 : 		CopyMemory(&cbSendBuffer[wDataIndex],&wPacketSize,sizeof(BYTE));

  00176	6a 01		 push	 1
  00178	8d 85 cc bf ff
	ff		 lea	 eax, DWORD PTR _wPacketSize$[ebp]
  0017e	50		 push	 eax
  0017f	0f b7 8d d0 bf
	ff ff		 movzx	 ecx, WORD PTR _wDataIndex$[ebp]
  00186	8d 94 0d f8 bf
	ff ff		 lea	 edx, DWORD PTR _cbSendBuffer$[ebp+ecx]
  0018d	52		 push	 edx
  0018e	e8 00 00 00 00	 call	 _memcpy
  00193	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2169 : 		CopyMemory(&cbSendBuffer[wDataIndex+sizeof(BYTE)],cbDataBuffer,wPacketSize);

  00196	0f b7 85 cc bf
	ff ff		 movzx	 eax, WORD PTR _wPacketSize$[ebp]
  0019d	50		 push	 eax
  0019e	8d 8d d4 bf ff
	ff		 lea	 ecx, DWORD PTR _cbDataBuffer$[ebp]
  001a4	51		 push	 ecx
  001a5	0f b7 95 d0 bf
	ff ff		 movzx	 edx, WORD PTR _wDataIndex$[ebp]
  001ac	8d 84 15 f9 bf
	ff ff		 lea	 eax, DWORD PTR _cbSendBuffer$[ebp+edx+1]
  001b3	50		 push	 eax
  001b4	e8 00 00 00 00	 call	 _memcpy
  001b9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2170 : 
; 2171 : 		//设置变量
; 2172 : 		wDataIndex += sizeof(BYTE)+wPacketSize;

  001bc	0f b7 85 cc bf
	ff ff		 movzx	 eax, WORD PTR _wPacketSize$[ebp]
  001c3	0f b7 8d d0 bf
	ff ff		 movzx	 ecx, WORD PTR _wDataIndex$[ebp]
  001ca	8d 54 01 01	 lea	 edx, DWORD PTR [ecx+eax+1]
  001ce	66 89 95 d0 bf
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], dx

; 2173 : 	}

  001d5	e9 c2 fe ff ff	 jmp	 $LN2@OnDBLoadUs
$LN3@OnDBLoadUs:

; 2174 : 
; 2175 : 	//剩余发送
; 2176 : 	if(wDataIndex>0)

  001da	0f b7 85 d0 bf
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  001e1	85 c0		 test	 eax, eax
  001e3	7e 22		 jle	 SHORT $LN7@OnDBLoadUs

; 2177 : 	{
; 2178 : 		//发送消息
; 2179 : 		SendData(dwContextID,MDM_GC_LOGON,SUB_S_USER_REMARKS,cbSendBuffer,wDataIndex);			

  001e5	0f b7 85 d0 bf
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  001ec	50		 push	 eax
  001ed	8d 8d f8 bf ff
	ff		 lea	 ecx, DWORD PTR _cbSendBuffer$[ebp]
  001f3	51		 push	 ecx
  001f4	68 30 01 00 00	 push	 304			; 00000130H
  001f9	6a 01		 push	 1
  001fb	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  001fe	52		 push	 edx
  001ff	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00202	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN7@OnDBLoadUs:

; 2180 : 	}
; 2181 : 
; 2182 : 	return true;

  00207	b0 01		 mov	 al, 1
$LN1@OnDBLoadUs:

; 2183 : }

  00209	5f		 pop	 edi
  0020a	5e		 pop	 esi
  0020b	5b		 pop	 ebx
  0020c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0020f	33 cd		 xor	 ecx, ebp
  00211	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00216	8b e5		 mov	 esp, ebp
  00218	5d		 pop	 ebp
  00219	c2 0c 00	 ret	 12			; 0000000cH
?OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBLoadUserRemarksInfo
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_wIndex$1 = -880					; size = 2
_pUserFriendGroup$ = -876				; size = 4
_ServerFriendInfo$ = -872				; size = 7
_wPacketDataSize$2 = -864				; size = 2
_IPCUserFriendInfo$ = -860				; size = 827
_wFriendCount$ = -32					; size = 2
_pUserInfo$3 = -28					; size = 4
_pLocalUserItem$4 = -24					; size = 4
_pServerUserItem$5 = -20				; size = 4
_wIndex$6 = -16						; size = 2
_pUserFriendInfo$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBLoadUserFriend, COMDAT
; _this$ = ecx

; 2005 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 03 00
	00		 sub	 esp, 1008		; 000003f0H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 2006 : 	//参数校验
; 2007 : 	ASSERT(wDataSize<=sizeof(DBO_GR_UserFriendInfo));

  00019	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d 94 84 02 00	 cmp	 eax, 165012		; 00028494H
  00022	76 19		 jbe	 SHORT $LN18@OnDBLoadUs
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN18@OnDBLoadUs
  0003c	cc		 int	 3
$LN18@OnDBLoadUs:

; 2008 : 	if(wDataSize>sizeof(DBO_GR_UserFriendInfo)) return false;

  0003d	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d 94 84 02 00	 cmp	 eax, 165012		; 00028494H
  00046	76 07		 jbe	 SHORT $LN10@OnDBLoadUs
  00048	32 c0		 xor	 al, al
  0004a	e9 e8 04 00 00	 jmp	 $LN1@OnDBLoadUs
$LN10@OnDBLoadUs:

; 2009 : 
; 2010 : 	//提取数据
; 2011 : 	DBO_GR_UserFriendInfo * pUserFriendInfo = (DBO_GR_UserFriendInfo *)pData;

  0004f	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pUserFriendInfo$[ebp], eax

; 2012 : 	ASSERT(pUserFriendInfo);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pUserFriendInfo$[ebp], 0
  00059	75 18		 jne	 SHORT $LN19@OnDBLoadUs
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN19@OnDBLoadUs
  00072	cc		 int	 3
$LN19@OnDBLoadUs:

; 2013 : 
; 2014 : 	//在线信息
; 2015 : 	for(WORD wIndex=0;wIndex<pUserFriendInfo->wFriendCount;++wIndex)

  00073	33 c0		 xor	 eax, eax
  00075	66 89 45 f0	 mov	 WORD PTR _wIndex$6[ebp], ax
  00079	eb 0c		 jmp	 SHORT $LN4@OnDBLoadUs
$LN2@OnDBLoadUs:
  0007b	66 8b 45 f0	 mov	 ax, WORD PTR _wIndex$6[ebp]
  0007f	66 83 c0 01	 add	 ax, 1
  00083	66 89 45 f0	 mov	 WORD PTR _wIndex$6[ebp], ax
$LN4@OnDBLoadUs:
  00087	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  0008b	8b 4d f4	 mov	 ecx, DWORD PTR _pUserFriendInfo$[ebp]
  0008e	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  00092	3b c2		 cmp	 eax, edx
  00094	0f 8d 28 02 00
	00		 jge	 $LN3@OnDBLoadUs

; 2016 : 	{
; 2017 : 		//查找用户
; 2018 : 		CServerUserItem * pServerUserItem=m_ServerUserManager.SearchUserItem(pUserFriendInfo->FriendInfo[wIndex].dwUserID);

  0009a	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  0009e	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  000a4	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  000a7	8b 44 0a 0a	 mov	 eax, DWORD PTR [edx+ecx+10]
  000ab	50		 push	 eax
  000ac	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000af	83 c1 1c	 add	 ecx, 28			; 0000001cH
  000b2	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b5	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  000b8	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  000bb	ff d2		 call	 edx
  000bd	89 45 ec	 mov	 DWORD PTR _pServerUserItem$5[ebp], eax

; 2019 : 		if(pServerUserItem==NULL)

  000c0	83 7d ec 00	 cmp	 DWORD PTR _pServerUserItem$5[ebp], 0
  000c4	0f 85 d6 00 00
	00		 jne	 $LN11@OnDBLoadUs

; 2020 : 		{
; 2021 : 			//设置状态
; 2022 : 			pUserFriendInfo->FriendInfo[wIndex].cbMainStatus=FRIEND_US_OFFLINE;

  000ca	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  000ce	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  000d4	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  000d7	c6 84 0a 85 00
	00 00 00	 mov	 BYTE PTR [edx+ecx+133], 0

; 2023 : 			pUserFriendInfo->FriendInfo[wIndex].cbGameStatus=US_NULL;

  000df	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  000e3	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  000e9	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  000ec	c6 84 0a 86 00
	00 00 00	 mov	 BYTE PTR [edx+ecx+134], 0

; 2024 : 			pUserFriendInfo->FriendInfo[wIndex].wKindID=INVALID_KIND;

  000f4	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  000f8	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  000fe	ba ff ff 00 00	 mov	 edx, 65535		; 0000ffffH
  00103	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  00106	66 89 94 08 87
	00 00 00	 mov	 WORD PTR [eax+ecx+135], dx

; 2025 : 			pUserFriendInfo->FriendInfo[wIndex].wServerID=INVALID_SERVER;

  0010e	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  00112	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  00118	ba ff ff 00 00	 mov	 edx, 65535		; 0000ffffH
  0011d	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  00120	66 89 94 08 89
	00 00 00	 mov	 WORD PTR [eax+ecx+137], dx

; 2026 : 			pUserFriendInfo->FriendInfo[wIndex].wTableID=INVALID_TABLE;

  00128	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  0012c	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  00132	ba ff ff 00 00	 mov	 edx, 65535		; 0000ffffH
  00137	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  0013a	66 89 94 08 8b
	00 00 00	 mov	 WORD PTR [eax+ecx+139], dx

; 2027 : 			pUserFriendInfo->FriendInfo[wIndex].wChairID=INVALID_CHAIR;

  00142	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  00146	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  0014c	ba ff ff 00 00	 mov	 edx, 65535		; 0000ffffH
  00151	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  00154	66 89 94 08 8d
	00 00 00	 mov	 WORD PTR [eax+ecx+141], dx

; 2028 : 			ZeroMemory(pUserFriendInfo->FriendInfo[wIndex].szServerName,CountArray(pUserFriendInfo->FriendInfo[wIndex].szServerName));

  0015c	6a 20		 push	 32			; 00000020H
  0015e	6a 00		 push	 0
  00160	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  00164	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  0016a	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  0016d	8d 84 0a 8f 00
	00 00		 lea	 eax, DWORD PTR [edx+ecx+143]
  00174	50		 push	 eax
  00175	e8 00 00 00 00	 call	 _memset
  0017a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2029 : 			ZeroMemory(pUserFriendInfo->FriendInfo[wIndex].szPhoneMode,CountArray(pUserFriendInfo->FriendInfo[wIndex].szPhoneMode));

  0017d	6a 15		 push	 21			; 00000015H
  0017f	6a 00		 push	 0
  00181	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  00185	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  0018b	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  0018e	8d 44 0a 6f	 lea	 eax, DWORD PTR [edx+ecx+111]
  00192	50		 push	 eax
  00193	e8 00 00 00 00	 call	 _memset
  00198	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2030 : 			continue;

  0019b	e9 db fe ff ff	 jmp	 $LN2@OnDBLoadUs
$LN11@OnDBLoadUs:

; 2031 : 		}
; 2032 : 
; 2033 : 		CLocalUserItem * pLocalUserItem = (CLocalUserItem *)pServerUserItem;

  001a0	8b 45 ec	 mov	 eax, DWORD PTR _pServerUserItem$5[ebp]
  001a3	89 45 e8	 mov	 DWORD PTR _pLocalUserItem$4[ebp], eax

; 2034 : 		tagFriendUserInfo * pUserInfo = pLocalUserItem->GetUserInfo();

  001a6	8b 45 e8	 mov	 eax, DWORD PTR _pLocalUserItem$4[ebp]
  001a9	8b 10		 mov	 edx, DWORD PTR [eax]
  001ab	8b 4d e8	 mov	 ecx, DWORD PTR _pLocalUserItem$4[ebp]
  001ae	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  001b1	ff d0		 call	 eax
  001b3	89 45 e4	 mov	 DWORD PTR _pUserInfo$3[ebp], eax

; 2035 : 
; 2036 : 		//设置变量
; 2037 : 		pUserFriendInfo->FriendInfo[wIndex].cbMainStatus=pServerUserItem->GetMainStatus();

  001b6	8b 45 ec	 mov	 eax, DWORD PTR _pServerUserItem$5[ebp]
  001b9	8b 10		 mov	 edx, DWORD PTR [eax]
  001bb	8b 4d ec	 mov	 ecx, DWORD PTR _pServerUserItem$5[ebp]
  001be	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  001c1	ff d0		 call	 eax
  001c3	0f b7 4d f0	 movzx	 ecx, WORD PTR _wIndex$6[ebp]
  001c7	69 d1 a5 00 00
	00		 imul	 edx, ecx, 165
  001cd	8b 4d f4	 mov	 ecx, DWORD PTR _pUserFriendInfo$[ebp]
  001d0	88 84 11 85 00
	00 00		 mov	 BYTE PTR [ecx+edx+133], al

; 2038 : 		pUserFriendInfo->FriendInfo[wIndex].cbGameStatus=pServerUserItem->GetGameStatus();

  001d7	8b 45 ec	 mov	 eax, DWORD PTR _pServerUserItem$5[ebp]
  001da	8b 10		 mov	 edx, DWORD PTR [eax]
  001dc	8b 4d ec	 mov	 ecx, DWORD PTR _pServerUserItem$5[ebp]
  001df	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  001e2	ff d0		 call	 eax
  001e4	0f b7 4d f0	 movzx	 ecx, WORD PTR _wIndex$6[ebp]
  001e8	69 d1 a5 00 00
	00		 imul	 edx, ecx, 165
  001ee	8b 4d f4	 mov	 ecx, DWORD PTR _pUserFriendInfo$[ebp]
  001f1	88 84 11 86 00
	00 00		 mov	 BYTE PTR [ecx+edx+134], al

; 2039 : 		pUserFriendInfo->FriendInfo[wIndex].wKindID=pUserInfo->wKindID;

  001f8	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  001fc	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  00202	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  00205	8b 45 e4	 mov	 eax, DWORD PTR _pUserInfo$3[ebp]
  00208	66 8b 80 6e 01
	00 00		 mov	 ax, WORD PTR [eax+366]
  0020f	66 89 84 0a 87
	00 00 00	 mov	 WORD PTR [edx+ecx+135], ax

; 2040 : 		pUserFriendInfo->FriendInfo[wIndex].wServerID=pUserInfo->wServerID;

  00217	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  0021b	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  00221	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  00224	8b 45 e4	 mov	 eax, DWORD PTR _pUserInfo$3[ebp]
  00227	66 8b 80 70 01
	00 00		 mov	 ax, WORD PTR [eax+368]
  0022e	66 89 84 0a 89
	00 00 00	 mov	 WORD PTR [edx+ecx+137], ax

; 2041 : 		pUserFriendInfo->FriendInfo[wIndex].wTableID=pUserInfo->wTableID;

  00236	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  0023a	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  00240	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  00243	8b 45 e4	 mov	 eax, DWORD PTR _pUserInfo$3[ebp]
  00246	66 8b 80 72 01
	00 00		 mov	 ax, WORD PTR [eax+370]
  0024d	66 89 84 0a 8b
	00 00 00	 mov	 WORD PTR [edx+ecx+139], ax

; 2042 : 		pUserFriendInfo->FriendInfo[wIndex].wChairID=pUserInfo->wChairID;

  00255	0f b7 45 f0	 movzx	 eax, WORD PTR _wIndex$6[ebp]
  00259	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  0025f	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  00262	8b 45 e4	 mov	 eax, DWORD PTR _pUserInfo$3[ebp]
  00265	66 8b 80 74 01
	00 00		 mov	 ax, WORD PTR [eax+372]
  0026c	66 89 84 0a 8d
	00 00 00	 mov	 WORD PTR [edx+ecx+141], ax

; 2043 : 		lstrcpyn(pUserFriendInfo->FriendInfo[wIndex].szServerName,pUserInfo->szServerName,CountArray(pUserFriendInfo->FriendInfo[wIndex].szServerName));

  00274	6a 20		 push	 32			; 00000020H
  00276	8b 45 e4	 mov	 eax, DWORD PTR _pUserInfo$3[ebp]
  00279	05 76 01 00 00	 add	 eax, 374		; 00000176H
  0027e	50		 push	 eax
  0027f	0f b7 4d f0	 movzx	 ecx, WORD PTR _wIndex$6[ebp]
  00283	69 d1 a5 00 00
	00		 imul	 edx, ecx, 165
  00289	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  0028c	8d 8c 10 8f 00
	00 00		 lea	 ecx, DWORD PTR [eax+edx+143]
  00293	51		 push	 ecx
  00294	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2044 : 		lstrcpyn(pUserFriendInfo->FriendInfo[wIndex].szPhoneMode,pUserInfo->szPhoneMode,CountArray(pUserFriendInfo->FriendInfo[wIndex].szPhoneMode));

  0029a	6a 15		 push	 21			; 00000015H
  0029c	8b 45 e4	 mov	 eax, DWORD PTR _pUserInfo$3[ebp]
  0029f	05 96 01 00 00	 add	 eax, 406		; 00000196H
  002a4	50		 push	 eax
  002a5	0f b7 4d f0	 movzx	 ecx, WORD PTR _wIndex$6[ebp]
  002a9	69 d1 a5 00 00
	00		 imul	 edx, ecx, 165
  002af	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  002b2	8d 4c 10 6f	 lea	 ecx, DWORD PTR [eax+edx+111]
  002b6	51		 push	 ecx
  002b7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 2045 : 	}

  002bd	e9 b9 fd ff ff	 jmp	 $LN2@OnDBLoadUs
$LN3@OnDBLoadUs:

; 2046 : 
; 2047 : 	//变量定义
; 2048 : 	WORD wFriendCount=pUserFriendInfo->wFriendCount;

  002c2	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  002c5	66 8b 48 08	 mov	 cx, WORD PTR [eax+8]
  002c9	66 89 4d e0	 mov	 WORD PTR _wFriendCount$[ebp], cx
$LN5@OnDBLoadUs:

; 2049 : 	CMD_GC_UserFriendInfo IPCUserFriendInfo;
; 2050 : 
; 2051 : 
; 2052 : 	//循环发送
; 2053 : 	while(wFriendCount>CountArray(IPCUserFriendInfo.FriendInfo))

  002cd	0f b7 45 e0	 movzx	 eax, WORD PTR _wFriendCount$[ebp]
  002d1	83 f8 05	 cmp	 eax, 5
  002d4	76 70		 jbe	 SHORT $LN6@OnDBLoadUs

; 2054 : 	{
; 2055 : 		//拷贝数据
; 2056 : 		IPCUserFriendInfo.wFriendCount=CountArray(IPCUserFriendInfo.FriendInfo);

  002d6	b8 05 00 00 00	 mov	 eax, 5
  002db	66 89 85 a4 fc
	ff ff		 mov	 WORD PTR _IPCUserFriendInfo$[ebp], ax

; 2057 : 		CopyMemory(IPCUserFriendInfo.FriendInfo,&pUserFriendInfo->FriendInfo[pUserFriendInfo->wFriendCount-wFriendCount],sizeof(tagClientFriendInfo)*IPCUserFriendInfo.wFriendCount);

  002e2	0f b7 85 a4 fc
	ff ff		 movzx	 eax, WORD PTR _IPCUserFriendInfo$[ebp]
  002e9	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  002ef	51		 push	 ecx
  002f0	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  002f3	0f b7 42 08	 movzx	 eax, WORD PTR [edx+8]
  002f7	0f b7 4d e0	 movzx	 ecx, WORD PTR _wFriendCount$[ebp]
  002fb	2b c1		 sub	 eax, ecx
  002fd	69 d0 a5 00 00
	00		 imul	 edx, eax, 165
  00303	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  00306	8d 4c 10 0a	 lea	 ecx, DWORD PTR [eax+edx+10]
  0030a	51		 push	 ecx
  0030b	8d 95 a6 fc ff
	ff		 lea	 edx, DWORD PTR _IPCUserFriendInfo$[ebp+2]
  00311	52		 push	 edx
  00312	e8 00 00 00 00	 call	 _memcpy
  00317	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2058 : 
; 2059 : 		//发送数据
; 2060 : 		SendData(dwContextID,MDM_GC_LOGON,SUB_S_USER_FRIEND,&IPCUserFriendInfo,sizeof(IPCUserFriendInfo));

  0031a	68 3b 03 00 00	 push	 827			; 0000033bH
  0031f	8d 85 a4 fc ff
	ff		 lea	 eax, DWORD PTR _IPCUserFriendInfo$[ebp]
  00325	50		 push	 eax
  00326	68 2f 01 00 00	 push	 303			; 0000012fH
  0032b	6a 01		 push	 1
  0032d	8b 4d 08	 mov	 ecx, DWORD PTR _dwContextID$[ebp]
  00330	51		 push	 ecx
  00331	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00334	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 2061 : 
; 2062 : 		//设置变量
; 2063 : 		wFriendCount -= CountArray(IPCUserFriendInfo.FriendInfo);

  00339	0f b7 45 e0	 movzx	 eax, WORD PTR _wFriendCount$[ebp]
  0033d	83 e8 05	 sub	 eax, 5
  00340	66 89 45 e0	 mov	 WORD PTR _wFriendCount$[ebp], ax

; 2064 : 	}

  00344	eb 87		 jmp	 SHORT $LN5@OnDBLoadUs
$LN6@OnDBLoadUs:

; 2065 : 
; 2066 : 	//剩余发送
; 2067 : 	if(wFriendCount>0)

  00346	0f b7 45 e0	 movzx	 eax, WORD PTR _wFriendCount$[ebp]
  0034a	85 c0		 test	 eax, eax
  0034c	7e 76		 jle	 SHORT $LN12@OnDBLoadUs

; 2068 : 	{
; 2069 : 		//拷贝数据
; 2070 : 		IPCUserFriendInfo.wFriendCount=wFriendCount;

  0034e	66 8b 45 e0	 mov	 ax, WORD PTR _wFriendCount$[ebp]
  00352	66 89 85 a4 fc
	ff ff		 mov	 WORD PTR _IPCUserFriendInfo$[ebp], ax

; 2071 : 		CopyMemory(IPCUserFriendInfo.FriendInfo,&pUserFriendInfo->FriendInfo[pUserFriendInfo->wFriendCount-wFriendCount],sizeof(tagClientFriendInfo)*wFriendCount);

  00359	0f b7 45 e0	 movzx	 eax, WORD PTR _wFriendCount$[ebp]
  0035d	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  00363	51		 push	 ecx
  00364	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  00367	0f b7 42 08	 movzx	 eax, WORD PTR [edx+8]
  0036b	0f b7 4d e0	 movzx	 ecx, WORD PTR _wFriendCount$[ebp]
  0036f	2b c1		 sub	 eax, ecx
  00371	69 d0 a5 00 00
	00		 imul	 edx, eax, 165
  00377	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  0037a	8d 4c 10 0a	 lea	 ecx, DWORD PTR [eax+edx+10]
  0037e	51		 push	 ecx
  0037f	8d 95 a6 fc ff
	ff		 lea	 edx, DWORD PTR _IPCUserFriendInfo$[ebp+2]
  00385	52		 push	 edx
  00386	e8 00 00 00 00	 call	 _memcpy
  0038b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2072 : 
; 2073 : 		//发送数据
; 2074 : 		WORD wPacketDataSize = sizeof(IPCUserFriendInfo)-sizeof(IPCUserFriendInfo.FriendInfo)+sizeof(tagClientFriendInfo)*wFriendCount;

  0038e	0f b7 45 e0	 movzx	 eax, WORD PTR _wFriendCount$[ebp]
  00392	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  00398	83 c1 02	 add	 ecx, 2
  0039b	66 89 8d a0 fc
	ff ff		 mov	 WORD PTR _wPacketDataSize$2[ebp], cx

; 2075 : 
; 2076 : 		SendData(dwContextID,MDM_GC_LOGON,SUB_S_USER_FRIEND,&IPCUserFriendInfo,wPacketDataSize);

  003a2	0f b7 85 a0 fc
	ff ff		 movzx	 eax, WORD PTR _wPacketDataSize$2[ebp]
  003a9	50		 push	 eax
  003aa	8d 8d a4 fc ff
	ff		 lea	 ecx, DWORD PTR _IPCUserFriendInfo$[ebp]
  003b0	51		 push	 ecx
  003b1	68 2f 01 00 00	 push	 303			; 0000012fH
  003b6	6a 01		 push	 1
  003b8	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  003bb	52		 push	 edx
  003bc	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003bf	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN12@OnDBLoadUs:

; 2077 : 
; 2078 : 	}
; 2079 : 
; 2080 : 	if(pUserFriendInfo->bLogonFlag==true)

  003c4	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  003c7	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  003ca	83 f9 01	 cmp	 ecx, 1
  003cd	75 17		 jne	 SHORT $LN13@OnDBLoadUs

; 2081 : 	{
; 2082 : 		//登录完成
; 2083 : 		SendData(dwContextID,MDM_GC_LOGON,SUB_S_LOGON_FINISH);

  003cf	6a 00		 push	 0
  003d1	6a 00		 push	 0
  003d3	68 33 01 00 00	 push	 307			; 00000133H
  003d8	6a 01		 push	 1
  003da	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  003dd	50		 push	 eax
  003de	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003e1	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN13@OnDBLoadUs:

; 2084 : 
; 2085 : 		////提示信息
; 2086 : 		//CTraceService::TraceString(TEXT("发送上线同步信息"),TraceLevel_Normal);
; 2087 : 	}
; 2088 : 
; 2089 : 	//变量定义
; 2090 : 	tagServerFriendInfo ServerFriendInfo;
; 2091 : 
; 2092 : 	//插入好友
; 2093 : 	CUserFriendGroup * pUserFriendGroup = m_FriendGroupManager.SearchGroupItem(pUserFriendInfo->dwUserID);

  003e6	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  003e9	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  003ec	51		 push	 ecx
  003ed	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003f0	83 c1 68	 add	 ecx, 104		; 00000068H
  003f3	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  003f6	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  003f9	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  003fc	ff d2		 call	 edx
  003fe	89 85 94 fc ff
	ff		 mov	 DWORD PTR _pUserFriendGroup$[ebp], eax

; 2094 : 	if(pUserFriendGroup==NULL)

  00404	83 bd 94 fc ff
	ff 00		 cmp	 DWORD PTR _pUserFriendGroup$[ebp], 0
  0040b	75 38		 jne	 SHORT $LN14@OnDBLoadUs

; 2095 : 	{
; 2096 : 		//激活分组
; 2097 : 		pUserFriendGroup = m_FriendGroupManager.ActiveFriendGroup(pUserFriendInfo->wFriendCount);

  0040d	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  00410	0f b7 48 08	 movzx	 ecx, WORD PTR [eax+8]
  00414	51		 push	 ecx
  00415	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00418	83 c1 68	 add	 ecx, 104		; 00000068H
  0041b	e8 00 00 00 00	 call	 ?ActiveFriendGroup@CFriendGroupManager@@QAEPAVCUserFriendGroup@@G@Z ; CFriendGroupManager::ActiveFriendGroup
  00420	89 85 94 fc ff
	ff		 mov	 DWORD PTR _pUserFriendGroup$[ebp], eax

; 2098 : 		m_FriendGroupManager.InsertFriendGroup(pUserFriendInfo->dwUserID,pUserFriendGroup);

  00426	8b 85 94 fc ff
	ff		 mov	 eax, DWORD PTR _pUserFriendGroup$[ebp]
  0042c	50		 push	 eax
  0042d	8b 4d f4	 mov	 ecx, DWORD PTR _pUserFriendInfo$[ebp]
  00430	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00433	52		 push	 edx
  00434	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00437	83 c1 68	 add	 ecx, 104		; 00000068H
  0043a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0043d	8b 50 68	 mov	 edx, DWORD PTR [eax+104]
  00440	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  00443	ff d0		 call	 eax
$LN14@OnDBLoadUs:

; 2099 : 	}
; 2100 : 
; 2101 : 	if(pUserFriendGroup!=NULL)

  00445	83 bd 94 fc ff
	ff 00		 cmp	 DWORD PTR _pUserFriendGroup$[ebp], 0
  0044c	0f 84 e3 00 00
	00		 je	 $LN15@OnDBLoadUs

; 2102 : 	{
; 2103 : 		//重置分组
; 2104 : 		if(pUserFriendInfo->bLogonFlag==true)

  00452	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  00455	0f b6 08	 movzx	 ecx, BYTE PTR [eax]
  00458	83 f9 01	 cmp	 ecx, 1
  0045b	75 1d		 jne	 SHORT $LN16@OnDBLoadUs

; 2105 : 		{
; 2106 : 			pUserFriendGroup->ResetFriendGroup();

  0045d	8b 8d 94 fc ff
	ff		 mov	 ecx, DWORD PTR _pUserFriendGroup$[ebp]
  00463	e8 00 00 00 00	 call	 ?ResetFriendGroup@CUserFriendGroup@@QAEXXZ ; CUserFriendGroup::ResetFriendGroup

; 2107 : 			pUserFriendGroup->SetOwnerUserID(pUserFriendInfo->dwUserID);

  00468	8b 45 f4	 mov	 eax, DWORD PTR _pUserFriendInfo$[ebp]
  0046b	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0046e	51		 push	 ecx
  0046f	8b 8d 94 fc ff
	ff		 mov	 ecx, DWORD PTR _pUserFriendGroup$[ebp]
  00475	e8 00 00 00 00	 call	 ?SetOwnerUserID@CUserFriendGroup@@QAEXK@Z ; CUserFriendGroup::SetOwnerUserID
$LN16@OnDBLoadUs:

; 2108 : 		}
; 2109 : 
; 2110 : 		for(WORD wIndex=0;wIndex<pUserFriendInfo->wFriendCount;++wIndex)

  0047a	33 c0		 xor	 eax, eax
  0047c	66 89 85 90 fc
	ff ff		 mov	 WORD PTR _wIndex$1[ebp], ax
  00483	eb 12		 jmp	 SHORT $LN9@OnDBLoadUs
$LN7@OnDBLoadUs:
  00485	66 8b 85 90 fc
	ff ff		 mov	 ax, WORD PTR _wIndex$1[ebp]
  0048c	66 83 c0 01	 add	 ax, 1
  00490	66 89 85 90 fc
	ff ff		 mov	 WORD PTR _wIndex$1[ebp], ax
$LN9@OnDBLoadUs:
  00497	0f b7 85 90 fc
	ff ff		 movzx	 eax, WORD PTR _wIndex$1[ebp]
  0049e	8b 4d f4	 mov	 ecx, DWORD PTR _pUserFriendInfo$[ebp]
  004a1	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  004a5	3b c2		 cmp	 eax, edx
  004a7	0f 8d 88 00 00
	00		 jge	 $LN15@OnDBLoadUs

; 2111 : 		{
; 2112 : 			ServerFriendInfo.dwUserID=pUserFriendInfo->FriendInfo[wIndex].dwUserID;

  004ad	0f b7 85 90 fc
	ff ff		 movzx	 eax, WORD PTR _wIndex$1[ebp]
  004b4	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  004ba	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  004bd	8b 44 0a 0a	 mov	 eax, DWORD PTR [edx+ecx+10]
  004c1	89 85 98 fc ff
	ff		 mov	 DWORD PTR _ServerFriendInfo$[ebp], eax

; 2113 : 			ServerFriendInfo.cbMainStatus=pUserFriendInfo->FriendInfo[wIndex].cbMainStatus;

  004c7	0f b7 85 90 fc
	ff ff		 movzx	 eax, WORD PTR _wIndex$1[ebp]
  004ce	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  004d4	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  004d7	8a 84 0a 85 00
	00 00		 mov	 al, BYTE PTR [edx+ecx+133]
  004de	88 85 9c fc ff
	ff		 mov	 BYTE PTR _ServerFriendInfo$[ebp+4], al

; 2114 : 			ServerFriendInfo.cbGameStatus=pUserFriendInfo->FriendInfo[wIndex].cbGameStatus;

  004e4	0f b7 85 90 fc
	ff ff		 movzx	 eax, WORD PTR _wIndex$1[ebp]
  004eb	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  004f1	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  004f4	8a 84 0a 86 00
	00 00		 mov	 al, BYTE PTR [edx+ecx+134]
  004fb	88 85 9d fc ff
	ff		 mov	 BYTE PTR _ServerFriendInfo$[ebp+5], al

; 2115 : 			ServerFriendInfo.cbGroupID=pUserFriendInfo->FriendInfo[wIndex].cbGroupID;

  00501	0f b7 85 90 fc
	ff ff		 movzx	 eax, WORD PTR _wIndex$1[ebp]
  00508	69 c8 a5 00 00
	00		 imul	 ecx, eax, 165
  0050e	8b 55 f4	 mov	 edx, DWORD PTR _pUserFriendInfo$[ebp]
  00511	8a 84 0a 84 00
	00 00		 mov	 al, BYTE PTR [edx+ecx+132]
  00518	88 85 9e fc ff
	ff		 mov	 BYTE PTR _ServerFriendInfo$[ebp+6], al

; 2116 : 			pUserFriendGroup->AppendFriendInfo(ServerFriendInfo);

  0051e	8d 85 98 fc ff
	ff		 lea	 eax, DWORD PTR _ServerFriendInfo$[ebp]
  00524	50		 push	 eax
  00525	8b 8d 94 fc ff
	ff		 mov	 ecx, DWORD PTR _pUserFriendGroup$[ebp]
  0052b	e8 00 00 00 00	 call	 ?AppendFriendInfo@CUserFriendGroup@@QAE_NAAUtagServerFriendInfo@@@Z ; CUserFriendGroup::AppendFriendInfo

; 2117 : 		}		

  00530	e9 50 ff ff ff	 jmp	 $LN7@OnDBLoadUs
$LN15@OnDBLoadUs:

; 2118 : 	}
; 2119 : 
; 2120 : 	return true;

  00535	b0 01		 mov	 al, 1
$LN1@OnDBLoadUs:

; 2121 : }

  00537	5f		 pop	 edi
  00538	5e		 pop	 esi
  00539	5b		 pop	 ebx
  0053a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0053d	33 cd		 xor	 ecx, ebp
  0053f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00544	8b e5		 mov	 esp, ebp
  00546	5d		 pop	 ebp
  00547	c2 0c 00	 ret	 12			; 0000000cH
?OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBLoadUserFriend
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_pSendGroupInfo$1 = -16444				; size = 4
_nIndex$2 = -16440					; size = 4
_wPacketSize$ = -16436					; size = 2
_wDataIndex$ = -16432					; size = 2
_cbDataBuffer$ = -16428					; size = 33
_cbSendBuffer$ = -16392					; size = 16376
_pTempGroupInfo$ = -16					; size = 4
_pDBOUserGroupInfo$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBLoadUserGroup, COMDAT
; _this$ = ecx

; 1942 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b8 3c 42 00 00	 mov	 eax, 16956		; 0000423cH
  00008	e8 00 00 00 00	 call	 __chkstk
  0000d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00012	33 c5		 xor	 eax, ebp
  00014	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1943 : 	//参数校验
; 1944 : 	ASSERT(wDataSize<=sizeof(DBO_GR_UserGroupInfo));

  0001d	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00021	3d 22 04 00 00	 cmp	 eax, 1058		; 00000422H
  00026	76 19		 jbe	 SHORT $LN9@OnDBLoadUs
  00028	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0002e	83 c1 02	 add	 ecx, 2
  00031	51		 push	 ecx
  00032	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00037	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0003c	85 c0		 test	 eax, eax
  0003e	74 01		 je	 SHORT $LN9@OnDBLoadUs
  00040	cc		 int	 3
$LN9@OnDBLoadUs:

; 1945 : 	if(wDataSize>sizeof(DBO_GR_UserGroupInfo)) return false;

  00041	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00045	3d 22 04 00 00	 cmp	 eax, 1058		; 00000422H
  0004a	76 07		 jbe	 SHORT $LN5@OnDBLoadUs
  0004c	32 c0		 xor	 al, al
  0004e	e9 b5 01 00 00	 jmp	 $LN1@OnDBLoadUs
$LN5@OnDBLoadUs:

; 1946 : 
; 1947 : 	//提取数据
; 1948 : 	DBO_GR_UserGroupInfo * pDBOUserGroupInfo = (DBO_GR_UserGroupInfo *)pData;

  00053	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00056	89 45 f4	 mov	 DWORD PTR _pDBOUserGroupInfo$[ebp], eax

; 1949 : 	ASSERT(pDBOUserGroupInfo);

  00059	83 7d f4 00	 cmp	 DWORD PTR _pDBOUserGroupInfo$[ebp], 0
  0005d	75 18		 jne	 SHORT $LN10@OnDBLoadUs
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  00064	83 c0 07	 add	 eax, 7
  00067	50		 push	 eax
  00068	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0006d	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00072	85 c0		 test	 eax, eax
  00074	74 01		 je	 SHORT $LN10@OnDBLoadUs
  00076	cc		 int	 3
$LN10@OnDBLoadUs:

; 1950 : 
; 1951 : 	//变量定义
; 1952 : 	tagClientGroupInfo * pTempGroupInfo=NULL;

  00077	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _pTempGroupInfo$[ebp], 0

; 1953 : 	BYTE cbSendBuffer[SOCKET_TCP_PACKET];
; 1954 : 	BYTE cbDataBuffer[sizeof(tagClientGroupInfo)];
; 1955 : 	WORD wDataIndex=0,wPacketSize=0;

  0007e	33 c0		 xor	 eax, eax
  00080	66 89 85 d0 bf
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], ax
  00087	33 c0		 xor	 eax, eax
  00089	66 89 85 cc bf
	ff ff		 mov	 WORD PTR _wPacketSize$[ebp], ax

; 1956 : 
; 1957 : 	//循环发送
; 1958 : 	for(int nIndex=0;nIndex<pDBOUserGroupInfo->wGroupCount;++nIndex)

  00090	c7 85 c8 bf ff
	ff 00 00 00 00	 mov	 DWORD PTR _nIndex$2[ebp], 0
  0009a	eb 0f		 jmp	 SHORT $LN4@OnDBLoadUs
$LN2@OnDBLoadUs:
  0009c	8b 85 c8 bf ff
	ff		 mov	 eax, DWORD PTR _nIndex$2[ebp]
  000a2	83 c0 01	 add	 eax, 1
  000a5	89 85 c8 bf ff
	ff		 mov	 DWORD PTR _nIndex$2[ebp], eax
$LN4@OnDBLoadUs:
  000ab	8b 45 f4	 mov	 eax, DWORD PTR _pDBOUserGroupInfo$[ebp]
  000ae	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  000b1	39 8d c8 bf ff
	ff		 cmp	 DWORD PTR _nIndex$2[ebp], ecx
  000b7	0f 8d 1c 01 00
	00		 jge	 $LN3@OnDBLoadUs

; 1959 : 	{
; 1960 : 		//设置变量
; 1961 : 		pTempGroupInfo = &pDBOUserGroupInfo->GroupInfo[nIndex];

  000bd	6b 85 c8 bf ff
	ff 21		 imul	 eax, DWORD PTR _nIndex$2[ebp], 33
  000c4	8b 4d f4	 mov	 ecx, DWORD PTR _pDBOUserGroupInfo$[ebp]
  000c7	8d 54 01 02	 lea	 edx, DWORD PTR [ecx+eax+2]
  000cb	89 55 f0	 mov	 DWORD PTR _pTempGroupInfo$[ebp], edx

; 1962 : 
; 1963 : 		//变量定义		
; 1964 : 		tagClientGroupInfo * pSendGroupInfo=(tagClientGroupInfo *)&cbDataBuffer;

  000ce	8d 85 d4 bf ff
	ff		 lea	 eax, DWORD PTR _cbDataBuffer$[ebp]
  000d4	89 85 c4 bf ff
	ff		 mov	 DWORD PTR _pSendGroupInfo$1[ebp], eax

; 1965 : 
; 1966 : 		//设置变量
; 1967 : 		pSendGroupInfo->cbGroupIndex=pTempGroupInfo->cbGroupIndex;

  000da	8b 85 c4 bf ff
	ff		 mov	 eax, DWORD PTR _pSendGroupInfo$1[ebp]
  000e0	8b 4d f0	 mov	 ecx, DWORD PTR _pTempGroupInfo$[ebp]
  000e3	8a 11		 mov	 dl, BYTE PTR [ecx]
  000e5	88 10		 mov	 BYTE PTR [eax], dl

; 1968 : 		lstrcpyn(pSendGroupInfo->szGroupName,pTempGroupInfo->szGroupName,CountArray(pSendGroupInfo->szGroupName));

  000e7	6a 20		 push	 32			; 00000020H
  000e9	8b 45 f0	 mov	 eax, DWORD PTR _pTempGroupInfo$[ebp]
  000ec	83 c0 01	 add	 eax, 1
  000ef	50		 push	 eax
  000f0	8b 8d c4 bf ff
	ff		 mov	 ecx, DWORD PTR _pSendGroupInfo$1[ebp]
  000f6	83 c1 01	 add	 ecx, 1
  000f9	51		 push	 ecx
  000fa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1969 : 
; 1970 : 		//设置变量
; 1971 : 		wPacketSize = sizeof(tagClientGroupInfo)-sizeof(pSendGroupInfo->szGroupName)+CountStringBuffer(pSendGroupInfo->szGroupName);

  00100	8b 85 c4 bf ff
	ff		 mov	 eax, DWORD PTR _pSendGroupInfo$1[ebp]
  00106	83 c0 01	 add	 eax, 1
  00109	50		 push	 eax
  0010a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00110	83 c0 02	 add	 eax, 2
  00113	66 89 85 cc bf
	ff ff		 mov	 WORD PTR _wPacketSize$[ebp], ax

; 1972 : 
; 1973 : 		//发送判断
; 1974 : 		if(wDataIndex+wPacketSize+sizeof(BYTE)>CountArray(cbSendBuffer))

  0011a	0f b7 85 d0 bf
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  00121	0f b7 8d cc bf
	ff ff		 movzx	 ecx, WORD PTR _wPacketSize$[ebp]
  00128	8d 54 08 01	 lea	 edx, DWORD PTR [eax+ecx+1]
  0012c	81 fa f8 3f 00
	00		 cmp	 edx, 16376		; 00003ff8H
  00132	76 41		 jbe	 SHORT $LN6@OnDBLoadUs

; 1975 : 		{			
; 1976 : 			//发送消息
; 1977 : 			SendData(dwContextID,MDM_GC_LOGON,SUB_S_USER_GROUP,cbSendBuffer,wDataIndex);

  00134	0f b7 85 d0 bf
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  0013b	50		 push	 eax
  0013c	8d 8d f8 bf ff
	ff		 lea	 ecx, DWORD PTR _cbSendBuffer$[ebp]
  00142	51		 push	 ecx
  00143	68 2e 01 00 00	 push	 302			; 0000012eH
  00148	6a 01		 push	 1
  0014a	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  0014d	52		 push	 edx
  0014e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00151	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1978 : 
; 1979 : 			//设置变量
; 1980 : 			ZeroMemory(cbSendBuffer,sizeof(cbSendBuffer));

  00156	68 f8 3f 00 00	 push	 16376			; 00003ff8H
  0015b	6a 00		 push	 0
  0015d	8d 85 f8 bf ff
	ff		 lea	 eax, DWORD PTR _cbSendBuffer$[ebp]
  00163	50		 push	 eax
  00164	e8 00 00 00 00	 call	 _memset
  00169	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1981 : 			wDataIndex = 0;

  0016c	33 c0		 xor	 eax, eax
  0016e	66 89 85 d0 bf
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], ax
$LN6@OnDBLoadUs:

; 1982 : 		}
; 1983 : 
; 1984 : 		//拷贝数据
; 1985 : 		CopyMemory(&cbSendBuffer[wDataIndex],&wPacketSize,sizeof(BYTE));

  00175	6a 01		 push	 1
  00177	8d 85 cc bf ff
	ff		 lea	 eax, DWORD PTR _wPacketSize$[ebp]
  0017d	50		 push	 eax
  0017e	0f b7 8d d0 bf
	ff ff		 movzx	 ecx, WORD PTR _wDataIndex$[ebp]
  00185	8d 94 0d f8 bf
	ff ff		 lea	 edx, DWORD PTR _cbSendBuffer$[ebp+ecx]
  0018c	52		 push	 edx
  0018d	e8 00 00 00 00	 call	 _memcpy
  00192	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1986 : 		CopyMemory(&cbSendBuffer[wDataIndex+sizeof(BYTE)],cbDataBuffer,wPacketSize);

  00195	0f b7 85 cc bf
	ff ff		 movzx	 eax, WORD PTR _wPacketSize$[ebp]
  0019c	50		 push	 eax
  0019d	8d 8d d4 bf ff
	ff		 lea	 ecx, DWORD PTR _cbDataBuffer$[ebp]
  001a3	51		 push	 ecx
  001a4	0f b7 95 d0 bf
	ff ff		 movzx	 edx, WORD PTR _wDataIndex$[ebp]
  001ab	8d 84 15 f9 bf
	ff ff		 lea	 eax, DWORD PTR _cbSendBuffer$[ebp+edx+1]
  001b2	50		 push	 eax
  001b3	e8 00 00 00 00	 call	 _memcpy
  001b8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1987 : 
; 1988 : 		//设置变量
; 1989 : 		wDataIndex += sizeof(BYTE)+wPacketSize;

  001bb	0f b7 85 cc bf
	ff ff		 movzx	 eax, WORD PTR _wPacketSize$[ebp]
  001c2	0f b7 8d d0 bf
	ff ff		 movzx	 ecx, WORD PTR _wDataIndex$[ebp]
  001c9	8d 54 01 01	 lea	 edx, DWORD PTR [ecx+eax+1]
  001cd	66 89 95 d0 bf
	ff ff		 mov	 WORD PTR _wDataIndex$[ebp], dx

; 1990 : 	}

  001d4	e9 c3 fe ff ff	 jmp	 $LN2@OnDBLoadUs
$LN3@OnDBLoadUs:

; 1991 : 
; 1992 : 	//剩余发送
; 1993 : 	if(wDataIndex>0)

  001d9	0f b7 85 d0 bf
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  001e0	85 c0		 test	 eax, eax
  001e2	7e 22		 jle	 SHORT $LN7@OnDBLoadUs

; 1994 : 	{
; 1995 : 		//发送消息
; 1996 : 		SendData(dwContextID,MDM_GC_LOGON,SUB_S_USER_GROUP,cbSendBuffer,wDataIndex);			

  001e4	0f b7 85 d0 bf
	ff ff		 movzx	 eax, WORD PTR _wDataIndex$[ebp]
  001eb	50		 push	 eax
  001ec	8d 8d f8 bf ff
	ff		 lea	 ecx, DWORD PTR _cbSendBuffer$[ebp]
  001f2	51		 push	 ecx
  001f3	68 2e 01 00 00	 push	 302			; 0000012eH
  001f8	6a 01		 push	 1
  001fa	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  001fd	52		 push	 edx
  001fe	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00201	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN7@OnDBLoadUs:

; 1997 : 	}
; 1998 : 
; 1999 : 
; 2000 : 	return true;

  00206	b0 01		 mov	 al, 1
$LN1@OnDBLoadUs:

; 2001 : }

  00208	5f		 pop	 edi
  00209	5e		 pop	 esi
  0020a	5b		 pop	 ebx
  0020b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0020e	33 cd		 xor	 ecx, ebp
  00210	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00215	8b e5		 mov	 esp, ebp
  00217	5d		 pop	 ebp
  00218	c2 0c 00	 ret	 12			; 0000000cH
?OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBLoadUserGroup
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBLogonFailure@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_pLogonFailure$ = -8					; size = 4
_this$ = -4						; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBLogonFailure@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBLogonFailure, COMDAT
; _this$ = ecx

; 626  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 627  : 	//发送错误
; 628  : 	DBO_GR_LogonFailure * pLogonFailure=(DBO_GR_LogonFailure *)pData;

  0000c	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  0000f	89 45 f8	 mov	 DWORD PTR _pLogonFailure$[ebp], eax

; 629  : 	SendLogonFailure(pLogonFailure->szDescribeString,pLogonFailure->lResultCode,dwContextID);

  00012	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  00015	50		 push	 eax
  00016	8b 4d f8	 mov	 ecx, DWORD PTR _pLogonFailure$[ebp]
  00019	8b 11		 mov	 edx, DWORD PTR [ecx]
  0001b	52		 push	 edx
  0001c	8b 45 f8	 mov	 eax, DWORD PTR _pLogonFailure$[ebp]
  0001f	83 c0 04	 add	 eax, 4
  00022	50		 push	 eax
  00023	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	e8 00 00 00 00	 call	 ?SendLogonFailure@CAttemperEngineSink@@IAE_NPBDJK@Z ; CAttemperEngineSink::SendLogonFailure

; 630  : 
; 631  : 	return true;

  0002b	b0 01		 mov	 al, 1

; 632  : }

  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c2 0c 00	 ret	 12			; 0000000cH
?OnDBLogonFailure@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBLogonFailure
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z
_TEXT	SEGMENT
_UserOnLine$ = -660					; size = 5
_pBindParameter$ = -652					; size = 4
_wBindIndex$ = -648					; size = 2
_wLogonDataSize$ = -644					; size = 2
_LogonSuccess$ = -640					; size = 132
_InsertLocalUserInfo$ = -508				; size = 8
_UserInfo$ = -500					; size = 481
_pServerUserItem$ = -16					; size = 4
_pDBOLogonSuccess$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwContextID$ = 8					; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z PROC ; CAttemperEngineSink::OnDBLogonSuccess, COMDAT
; _this$ = ecx

; 1850 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 03 00
	00		 sub	 esp, 788		; 00000314H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1851 : 	//参数校验
; 1852 : 	ASSERT(wDataSize<=sizeof(DBO_GR_LogonSuccess));

  00019	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d 8c 01 00 00	 cmp	 eax, 396		; 0000018cH
  00022	76 19		 jbe	 SHORT $LN5@OnDBLogonS
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN5@OnDBLogonS
  0003c	cc		 int	 3
$LN5@OnDBLogonS:

; 1853 : 	if(wDataSize>sizeof(DBO_GR_LogonSuccess)) return false;

  0003d	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d 8c 01 00 00	 cmp	 eax, 396		; 0000018cH
  00046	76 07		 jbe	 SHORT $LN2@OnDBLogonS
  00048	32 c0		 xor	 al, al
  0004a	e9 33 03 00 00	 jmp	 $LN1@OnDBLogonS
$LN2@OnDBLogonS:

; 1854 : 
; 1855 : 	//变量定义
; 1856 : 	DBO_GR_LogonSuccess * pDBOLogonSuccess=(DBO_GR_LogonSuccess *)pData;

  0004f	8b 45 0c	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pDBOLogonSuccess$[ebp], eax

; 1857 : 
; 1858 : 	//重复登录
; 1859 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pDBOLogonSuccess->dwUserID);

  00055	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  00058	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005a	51		 push	 ecx
  0005b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005e	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00061	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00064	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00067	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0006a	ff d2		 call	 edx
  0006c	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1860 : 	if(pServerUserItem!=NULL)

  0006f	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00073	74 17		 je	 SHORT $LN3@OnDBLogonS

; 1861 : 	{
; 1862 : 		m_ServerUserManager.DeleteUserItem(pDBOLogonSuccess->dwUserID);

  00075	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  00078	8b 08		 mov	 ecx, DWORD PTR [eax]
  0007a	51		 push	 ecx
  0007b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0007e	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00081	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00084	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00087	8b 50 10	 mov	 edx, DWORD PTR [eax+16]
  0008a	ff d2		 call	 edx
$LN3@OnDBLogonS:

; 1863 : 	}
; 1864 : 
; 1865 : 
; 1866 : 	//用户变量
; 1867 : 	tagFriendUserInfo UserInfo;
; 1868 : 	ZeroMemory(&UserInfo,sizeof(UserInfo));

  0008c	68 e1 01 00 00	 push	 481			; 000001e1H
  00091	6a 00		 push	 0
  00093	8d 85 0c fe ff
	ff		 lea	 eax, DWORD PTR _UserInfo$[ebp]
  00099	50		 push	 eax
  0009a	e8 00 00 00 00	 call	 _memset
  0009f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1869 : 
; 1870 : 	//基本资料
; 1871 : 	UserInfo.dwUserID=pDBOLogonSuccess->dwUserID;

  000a2	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  000a5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a7	89 8d 0c fe ff
	ff		 mov	 DWORD PTR _UserInfo$[ebp], ecx

; 1872 : 	UserInfo.dwGameID = pDBOLogonSuccess->dwGameID;

  000ad	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  000b0	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000b3	89 8d 10 fe ff
	ff		 mov	 DWORD PTR _UserInfo$[ebp+4], ecx

; 1873 : 	lstrcpyn(UserInfo.szNickName,pDBOLogonSuccess->szNickName,CountArray(UserInfo.szNickName));

  000b9	6a 20		 push	 32			; 00000020H
  000bb	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  000be	83 c0 08	 add	 eax, 8
  000c1	50		 push	 eax
  000c2	8d 8d 14 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+8]
  000c8	51		 push	 ecx
  000c9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1874 : 	lstrcpyn(UserInfo.szPassword,pDBOLogonSuccess->szPassword,CountArray(UserInfo.szPassword));

  000cf	6a 21		 push	 33			; 00000021H
  000d1	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  000d4	83 c0 28	 add	 eax, 40			; 00000028H
  000d7	50		 push	 eax
  000d8	8d 8d 34 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+40]
  000de	51		 push	 ecx
  000df	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1875 : 	UserInfo.cbGender=pDBOLogonSuccess->cbGender;

  000e5	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  000e8	8a 48 54	 mov	 cl, BYTE PTR [eax+84]
  000eb	88 8d 5d fe ff
	ff		 mov	 BYTE PTR _UserInfo$[ebp+81], cl

; 1876 : 	UserInfo.dwFaceID =pDBOLogonSuccess->dwFaceID;

  000f1	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  000f4	8b 48 4c	 mov	 ecx, DWORD PTR [eax+76]
  000f7	89 8d 55 fe ff
	ff		 mov	 DWORD PTR _UserInfo$[ebp+73], ecx

; 1877 : 	UserInfo.dwCustomID =pDBOLogonSuccess->dwCustomID;

  000fd	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  00100	8b 48 50	 mov	 ecx, DWORD PTR [eax+80]
  00103	89 8d 59 fe ff
	ff		 mov	 DWORD PTR _UserInfo$[ebp+77], ecx

; 1878 : 	UserInfo.wMemberOrder = pDBOLogonSuccess->wMemberOrder;

  00109	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  0010c	66 8b 48 56	 mov	 cx, WORD PTR [eax+86]
  00110	66 89 8d 5e fe
	ff ff		 mov	 WORD PTR _UserInfo$[ebp+82], cx

; 1879 : 	UserInfo.wGrowLevel =pDBOLogonSuccess->wGrowLevel;

  00117	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  0011a	66 8b 48 58	 mov	 cx, WORD PTR [eax+88]
  0011e	66 89 8d 60 fe
	ff ff		 mov	 WORD PTR _UserInfo$[ebp+84], cx

; 1880 : 	lstrcpyn(UserInfo.szUnderWrite,pDBOLogonSuccess->szUnderWrite,CountArray(UserInfo.szUnderWrite));

  00125	6a 20		 push	 32			; 00000020H
  00127	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  0012a	83 c0 5a	 add	 eax, 90			; 0000005aH
  0012d	50		 push	 eax
  0012e	8d 8d 62 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+86]
  00134	51		 push	 ecx
  00135	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1881 : 	lstrcpyn(UserInfo.szCompellation,pDBOLogonSuccess->szCompellation,CountArray(UserInfo.szCompellation));

  0013b	6a 10		 push	 16			; 00000010H
  0013d	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  00140	83 c0 7a	 add	 eax, 122		; 0000007aH
  00143	50		 push	 eax
  00144	8d 8d 82 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+118]
  0014a	51		 push	 ecx
  0014b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1882 : 	
; 1883 : 	//用户状态
; 1884 : 	UserInfo.cbMainStatus=FRIEND_US_ONLINE;

  00151	c6 85 78 ff ff
	ff 01		 mov	 BYTE PTR _UserInfo$[ebp+364], 1

; 1885 : 	UserInfo.cbGameStatus=US_NULL;

  00158	c6 85 79 ff ff
	ff 00		 mov	 BYTE PTR _UserInfo$[ebp+365], 0

; 1886 : 	UserInfo.wKindID=INVALID_KIND;

  0015f	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  00164	66 89 85 7a ff
	ff ff		 mov	 WORD PTR _UserInfo$[ebp+366], ax

; 1887 : 	UserInfo.wServerID=INVALID_SERVER;

  0016b	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  00170	66 89 85 7c ff
	ff ff		 mov	 WORD PTR _UserInfo$[ebp+368], ax

; 1888 : 	UserInfo.wTableID=INVALID_TABLE;

  00177	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  0017c	66 89 85 7e ff
	ff ff		 mov	 WORD PTR _UserInfo$[ebp+370], ax

; 1889 : 	UserInfo.wChairID=INVALID_CHAIR;

  00183	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  00188	66 89 45 80	 mov	 WORD PTR _UserInfo$[ebp+372], ax

; 1890 : 	ZeroMemory(UserInfo.szServerName,CountArray(UserInfo.szServerName));

  0018c	6a 20		 push	 32			; 00000020H
  0018e	6a 00		 push	 0
  00190	8d 45 82	 lea	 eax, DWORD PTR _UserInfo$[ebp+374]
  00193	50		 push	 eax
  00194	e8 00 00 00 00	 call	 _memset
  00199	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1891 : 	UserInfo.dwClientAddr=pDBOLogonSuccess->dwClientAddr;

  0019c	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  0019f	8b 88 a0 00 00
	00		 mov	 ecx, DWORD PTR [eax+160]
  001a5	89 4d b7	 mov	 DWORD PTR _UserInfo$[ebp+427], ecx

; 1892 : 	lstrcpyn(UserInfo.szPhoneMode,pDBOLogonSuccess->szPhoneMode,CountArray(UserInfo.szPhoneMode));

  001a8	6a 15		 push	 21			; 00000015H
  001aa	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  001ad	05 8a 00 00 00	 add	 eax, 138		; 0000008aH
  001b2	50		 push	 eax
  001b3	8d 4d a2	 lea	 ecx, DWORD PTR _UserInfo$[ebp+406]
  001b6	51		 push	 ecx
  001b7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1893 : 
; 1894 : 	//用户资料	
; 1895 : 	lstrcpyn(UserInfo.szQQ,pDBOLogonSuccess->szQQ,CountArray(UserInfo.szQQ));

  001bd	6a 10		 push	 16			; 00000010H
  001bf	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  001c2	05 a4 00 00 00	 add	 eax, 164		; 000000a4H
  001c7	50		 push	 eax
  001c8	8d 8d 92 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+134]
  001ce	51		 push	 ecx
  001cf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1896 : 	lstrcpyn(UserInfo.szEMail,pDBOLogonSuccess->szEMail,CountArray(UserInfo.szEMail));

  001d5	6a 21		 push	 33			; 00000021H
  001d7	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  001da	05 b4 00 00 00	 add	 eax, 180		; 000000b4H
  001df	50		 push	 eax
  001e0	8d 8d a2 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+150]
  001e6	51		 push	 ecx
  001e7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1897 : 	lstrcpyn(UserInfo.szSeatPhone,pDBOLogonSuccess->szSeatPhone,CountArray(UserInfo.szSeatPhone));

  001ed	6a 21		 push	 33			; 00000021H
  001ef	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  001f2	05 d5 00 00 00	 add	 eax, 213		; 000000d5H
  001f7	50		 push	 eax
  001f8	8d 8d c3 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+183]
  001fe	51		 push	 ecx
  001ff	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1898 : 	lstrcpyn(UserInfo.szMobilePhone,pDBOLogonSuccess->szMobilePhone,CountArray(UserInfo.szMobilePhone));

  00205	6a 0c		 push	 12			; 0000000cH
  00207	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  0020a	05 f6 00 00 00	 add	 eax, 246		; 000000f6H
  0020f	50		 push	 eax
  00210	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+216]
  00216	51		 push	 ecx
  00217	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1899 : 	lstrcpyn(UserInfo.szDwellingPlace,pDBOLogonSuccess->szDwellingPlace,CountArray(UserInfo.szDwellingPlace));

  0021d	68 80 00 00 00	 push	 128			; 00000080H
  00222	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  00225	05 02 01 00 00	 add	 eax, 258		; 00000102H
  0022a	50		 push	 eax
  0022b	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+228]
  00231	51		 push	 ecx
  00232	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1900 : 	lstrcpyn(UserInfo.szPostalCode,pDBOLogonSuccess->szPostalCode,CountArray(UserInfo.szPostalCode));

  00238	6a 08		 push	 8
  0023a	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  0023d	05 82 01 00 00	 add	 eax, 386		; 00000182H
  00242	50		 push	 eax
  00243	8d 8d 70 ff ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp+356]
  00249	51		 push	 ecx
  0024a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1901 : 
; 1902 : 	//变量定义
; 1903 : 	tagInsertLocalUserInfo InsertLocalUserInfo;
; 1904 : 	InsertLocalUserInfo.dwSocketID=dwContextID;

  00250	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  00253	89 85 04 fe ff
	ff		 mov	 DWORD PTR _InsertLocalUserInfo$[ebp], eax

; 1905 : 	InsertLocalUserInfo.dwLogonTime=GetTickCount();

  00259	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0025f	89 85 08 fe ff
	ff		 mov	 DWORD PTR _InsertLocalUserInfo$[ebp+4], eax

; 1906 : 
; 1907 : 	//激活用户
; 1908 : 	m_ServerUserManager.InsertLocalUserItem(InsertLocalUserInfo,UserInfo,pDBOLogonSuccess->szPassword);

  00265	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  00268	83 c0 28	 add	 eax, 40			; 00000028H
  0026b	50		 push	 eax
  0026c	8d 8d 0c fe ff
	ff		 lea	 ecx, DWORD PTR _UserInfo$[ebp]
  00272	51		 push	 ecx
  00273	8d 95 04 fe ff
	ff		 lea	 edx, DWORD PTR _InsertLocalUserInfo$[ebp]
  00279	52		 push	 edx
  0027a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0027d	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00280	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00283	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  00286	8b 42 18	 mov	 eax, DWORD PTR [edx+24]
  00289	ff d0		 call	 eax

; 1909 : 
; 1910 : 	//发送数据
; 1911 : 	CMD_GC_LogonEcho LogonSuccess;
; 1912 : 	ZeroMemory(&LogonSuccess,sizeof(LogonSuccess));

  0028b	68 84 00 00 00	 push	 132			; 00000084H
  00290	6a 00		 push	 0
  00292	8d 85 80 fd ff
	ff		 lea	 eax, DWORD PTR _LogonSuccess$[ebp]
  00298	50		 push	 eax
  00299	e8 00 00 00 00	 call	 _memset
  0029e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1913 : 	WORD wLogonDataSize = sizeof(LogonSuccess);

  002a1	b8 84 00 00 00	 mov	 eax, 132		; 00000084H
  002a6	66 89 85 7c fd
	ff ff		 mov	 WORD PTR _wLogonDataSize$[ebp], ax

; 1914 : 	SendData(dwContextID,MDM_GC_LOGON,SUB_GC_LOGON_SUCCESS,&LogonSuccess,wLogonDataSize);

  002ad	0f b7 85 7c fd
	ff ff		 movzx	 eax, WORD PTR _wLogonDataSize$[ebp]
  002b4	50		 push	 eax
  002b5	8d 8d 80 fd ff
	ff		 lea	 ecx, DWORD PTR _LogonSuccess$[ebp]
  002bb	51		 push	 ecx
  002bc	68 c8 00 00 00	 push	 200			; 000000c8H
  002c1	6a 01		 push	 1
  002c3	8b 55 08	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  002c6	52		 push	 edx
  002c7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002ca	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1915 : 
; 1916 : 	//设置用户
; 1917 : 	WORD wBindIndex=LOWORD(dwContextID);

  002cf	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  002d2	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  002d7	66 89 85 78 fd
	ff ff		 mov	 WORD PTR _wBindIndex$[ebp], ax

; 1918 : 	tagBindParameter * pBindParameter=GetBindParameter(wBindIndex);

  002de	0f b7 85 78 fd
	ff ff		 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  002e5	50		 push	 eax
  002e6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002e9	e8 00 00 00 00	 call	 ?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ; CAttemperEngineSink::GetBindParameter
  002ee	89 85 74 fd ff
	ff		 mov	 DWORD PTR _pBindParameter$[ebp], eax

; 1919 : 	pServerUserItem = m_ServerUserManager.SearchUserItem(pDBOLogonSuccess->dwUserID);

  002f4	8b 45 f4	 mov	 eax, DWORD PTR _pDBOLogonSuccess$[ebp]
  002f7	8b 08		 mov	 ecx, DWORD PTR [eax]
  002f9	51		 push	 ecx
  002fa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002fd	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00300	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00303	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00306	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00309	ff d2		 call	 edx
  0030b	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1920 : 	pBindParameter->pServerUserItem=pServerUserItem;

  0030e	8b 85 74 fd ff
	ff		 mov	 eax, DWORD PTR _pBindParameter$[ebp]
  00314	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00317	89 48 1c	 mov	 DWORD PTR [eax+28], ecx

; 1921 : 
; 1922 : 	//用户上线
; 1923 : 	CMD_GC_UserOnlineStatusNotify UserOnLine;
; 1924 : 	UserOnLine.dwUserID=pServerUserItem->GetUserID();

  0031a	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  0031d	8b 10		 mov	 edx, DWORD PTR [eax]
  0031f	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00322	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00325	ff d0		 call	 eax
  00327	89 85 6c fd ff
	ff		 mov	 DWORD PTR _UserOnLine$[ebp], eax

; 1925 : 	UserOnLine.cbMainStatus=pServerUserItem->GetMainStatus();	

  0032d	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  00330	8b 10		 mov	 edx, DWORD PTR [eax]
  00332	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00335	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00338	ff d0		 call	 eax
  0033a	88 85 70 fd ff
	ff		 mov	 BYTE PTR _UserOnLine$[ebp+4], al

; 1926 : 	SendDataToUserFriend(UserOnLine.dwUserID,MDM_GC_USER,SUB_GC_USER_STATUS_NOTIFY,&UserOnLine,sizeof(UserOnLine));

  00340	6a 05		 push	 5
  00342	8d 85 6c fd ff
	ff		 lea	 eax, DWORD PTR _UserOnLine$[ebp]
  00348	50		 push	 eax
  00349	6a 01		 push	 1
  0034b	6a 03		 push	 3
  0034d	8b 8d 6c fd ff
	ff		 mov	 ecx, DWORD PTR _UserOnLine$[ebp]
  00353	51		 push	 ecx
  00354	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00357	e8 00 00 00 00	 call	 ?SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendDataToUserFriend

; 1927 : 
; 1928 : 	//TCHAR szMessage[256]=TEXT("");
; 1929 : 	//_sntprintf(szMessage,CountArray(szMessage),TEXT("%d-----上线通知"),UserOnLine.dwUserID);
; 1930 : 	//CTraceService::TraceString(szMessage,TraceLevel_Normal);
; 1931 : 
; 1932 : 	//允许群发
; 1933 : 	m_pITCPNetworkEngine->AllowBatchSend(dwContextID,true,0xFF);

  0035c	68 ff 00 00 00	 push	 255			; 000000ffH
  00361	6a 01		 push	 1
  00363	8b 45 08	 mov	 eax, DWORD PTR _dwContextID$[ebp]
  00366	50		 push	 eax
  00367	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0036a	8b 91 e4 00 00
	00		 mov	 edx, DWORD PTR [ecx+228]
  00370	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00373	8b 12		 mov	 edx, DWORD PTR [edx]
  00375	8b 88 e4 00 00
	00		 mov	 ecx, DWORD PTR [eax+228]
  0037b	8b 42 34	 mov	 eax, DWORD PTR [edx+52]
  0037e	ff d0		 call	 eax

; 1934 : 
; 1935 : 	return true;

  00380	b0 01		 mov	 al, 1
$LN1@OnDBLogonS:

; 1936 : }

  00382	5f		 pop	 edi
  00383	5e		 pop	 esi
  00384	5b		 pop	 ebx
  00385	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00388	33 cd		 xor	 ecx, ebp
  0038a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0038f	8b e5		 mov	 esp, ebp
  00391	5d		 pop	 ebp
  00392	c2 0c 00	 ret	 12			; 0000000cH
?OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z ENDP ; CAttemperEngineSink::OnDBLogonSuccess
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z
_TEXT	SEGMENT
tv65 = -348						; size = 4
tv207 = -345						; size = 1
tv206 = -345						; size = 1
tv205 = -345						; size = 1
tv204 = -345						; size = 1
tv203 = -345						; size = 1
tv202 = -345						; size = 1
tv201 = -345						; size = 1
tv200 = -345						; size = 1
tv199 = -345						; size = 1
tv198 = -345						; size = 1
tv197 = -345						; size = 1
tv196 = -345						; size = 1
tv195 = -345						; size = 1
tv194 = -345						; size = 1
_szMessage$2 = -280					; size = 256
_this$ = -24						; size = 4
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_wRequestID$ = 8					; size = 2
_dwContextID$ = 12					; size = 4
_pData$ = 16						; size = 4
_wDataSize$ = 20					; size = 2
?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z PROC ; CAttemperEngineSink::OnEventDataBase, COMDAT
; _this$ = ecx

; 1775 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec 4c 01 00
	00		 sub	 esp, 332		; 0000014cH
  00018	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001d	33 c5		 xor	 eax, ebp
  0001f	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00022	53		 push	 ebx
  00023	56		 push	 esi
  00024	57		 push	 edi
  00025	50		 push	 eax
  00026	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00029	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0002f	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp
  00032	89 4d e8	 mov	 DWORD PTR _this$[ebp], ecx

; 1776 : 	try

  00035	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 1777 : 	{
; 1778 : 		switch (wRequestID)

  0003c	0f b7 45 08	 movzx	 eax, WORD PTR _wRequestID$[ebp]
  00040	89 85 a4 fe ff
	ff		 mov	 DWORD PTR tv65[ebp], eax
  00046	81 bd a4 fe ff
	ff c8 00 00 00	 cmp	 DWORD PTR tv65[ebp], 200 ; 000000c8H
  00050	7f 2f		 jg	 SHORT $LN20@OnEventDat
  00052	81 bd a4 fe ff
	ff c8 00 00 00	 cmp	 DWORD PTR tv65[ebp], 200 ; 000000c8H
  0005c	0f 84 e8 00 00
	00		 je	 $LN7@OnEventDat
  00062	83 bd a4 fe ff
	ff 64		 cmp	 DWORD PTR tv65[ebp], 100 ; 00000064H
  00069	0f 84 8f 00 00
	00		 je	 $LN5@OnEventDat
  0006f	83 bd a4 fe ff
	ff 65		 cmp	 DWORD PTR tv65[ebp], 101 ; 00000065H
  00076	0f 84 a8 00 00
	00		 je	 $LN6@OnEventDat
  0007c	e9 8e 02 00 00	 jmp	 $LN2@OnEventDat
$LN20@OnEventDat:
  00081	81 bd a4 fe ff
	ff 97 01 00 00	 cmp	 DWORD PTR tv65[ebp], 407 ; 00000197H
  0008b	7f 3c		 jg	 SHORT $LN21@OnEventDat
  0008d	81 bd a4 fe ff
	ff 97 01 00 00	 cmp	 DWORD PTR tv65[ebp], 407 ; 00000197H
  00097	0f 84 91 01 00
	00		 je	 $LN13@OnEventDat
  0009d	8b 8d a4 fe ff
	ff		 mov	 ecx, DWORD PTR tv65[ebp]
  000a3	81 e9 c9 00 00
	00		 sub	 ecx, 201		; 000000c9H
  000a9	89 8d a4 fe ff
	ff		 mov	 DWORD PTR tv65[ebp], ecx
  000af	83 bd a4 fe ff
	ff 03		 cmp	 DWORD PTR tv65[ebp], 3
  000b6	0f 87 53 02 00
	00		 ja	 $LN2@OnEventDat
  000bc	8b 95 a4 fe ff
	ff		 mov	 edx, DWORD PTR tv65[ebp]
  000c2	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN28@OnEventDat[edx*4]
$LN21@OnEventDat:
  000c9	8b 85 a4 fe ff
	ff		 mov	 eax, DWORD PTR tv65[ebp]
  000cf	2d 98 01 00 00	 sub	 eax, 408		; 00000198H
  000d4	89 85 a4 fe ff
	ff		 mov	 DWORD PTR tv65[ebp], eax
  000da	81 bd a4 fe ff
	ff c1 00 00 00	 cmp	 DWORD PTR tv65[ebp], 193 ; 000000c1H
  000e4	0f 87 25 02 00
	00		 ja	 $LN2@OnEventDat
  000ea	8b 8d a4 fe ff
	ff		 mov	 ecx, DWORD PTR tv65[ebp]
  000f0	0f b6 91 00 00
	00 00		 movzx	 edx, BYTE PTR $LN26@OnEventDat[ecx]
  000f7	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN29@OnEventDat[edx*4]
$LN5@OnEventDat:

; 1779 : 		{
; 1780 : 		case DBO_GR_LOGON_SUCCESS:			//登录成功
; 1781 : 			{
; 1782 : 				return OnDBLogonSuccess(dwContextID,pData,wDataSize);

  000fe	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00102	50		 push	 eax
  00103	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00106	51		 push	 ecx
  00107	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  0010a	52		 push	 edx
  0010b	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0010e	e8 00 00 00 00	 call	 ?OnDBLogonSuccess@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLogonSuccess
  00113	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv194[ebp], al
  00119	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv194[ebp]
  0011f	e9 56 02 00 00	 jmp	 $LN1@OnEventDat
$LN6@OnEventDat:

; 1783 : 			}
; 1784 : 		case DBO_GR_LOGON_FAILURE:			//登录失败
; 1785 : 			{
; 1786 : 				return OnDBLogonFailure(dwContextID,pData,wDataSize);

  00124	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00128	50		 push	 eax
  00129	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  0012c	51		 push	 ecx
  0012d	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  00130	52		 push	 edx
  00131	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00134	e8 00 00 00 00	 call	 ?OnDBLogonFailure@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLogonFailure
  00139	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv195[ebp], al
  0013f	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv195[ebp]
  00145	e9 30 02 00 00	 jmp	 $LN1@OnEventDat
$LN7@OnEventDat:

; 1787 : 			}
; 1788 : 		case DBO_GR_USER_GROUPINFO:			//加载分组
; 1789 : 			{
; 1790 : 				return OnDBLoadUserGroup(dwContextID,pData,wDataSize);

  0014a	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0014e	50		 push	 eax
  0014f	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00152	51		 push	 ecx
  00153	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  00156	52		 push	 edx
  00157	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0015a	e8 00 00 00 00	 call	 ?OnDBLoadUserGroup@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserGroup
  0015f	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv196[ebp], al
  00165	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv196[ebp]
  0016b	e9 0a 02 00 00	 jmp	 $LN1@OnEventDat
$LN8@OnEventDat:

; 1791 : 			}
; 1792 : 		case DBO_GR_USER_FRIENDINFO:		//加载好友
; 1793 : 			{
; 1794 : 				return OnDBLoadUserFriend(dwContextID,pData,wDataSize);

  00170	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00174	50		 push	 eax
  00175	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00178	51		 push	 ecx
  00179	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  0017c	52		 push	 edx
  0017d	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00180	e8 00 00 00 00	 call	 ?OnDBLoadUserFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserFriend
  00185	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv197[ebp], al
  0018b	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv197[ebp]
  00191	e9 e4 01 00 00	 jmp	 $LN1@OnEventDat
$LN9@OnEventDat:

; 1795 : 			}
; 1796 : 		case DBO_GR_USER_SINDIVIDUAL:		//简易资料
; 1797 : 			{
; 1798 : 				return OnDBLoadUserSimpleIndividual(dwContextID,pData,wDataSize);

  00196	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0019a	50		 push	 eax
  0019b	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  0019e	51		 push	 ecx
  0019f	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  001a2	52		 push	 edx
  001a3	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  001a6	e8 00 00 00 00	 call	 ?OnDBLoadUserSimpleIndividual@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserSimpleIndividual
  001ab	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv198[ebp], al
  001b1	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv198[ebp]
  001b7	e9 be 01 00 00	 jmp	 $LN1@OnEventDat
$LN10@OnEventDat:

; 1799 : 			}
; 1800 : 		case DBO_GR_USER_REMARKS:			//用户备注
; 1801 : 			{
; 1802 : 				return OnDBLoadUserRemarksInfo(dwContextID,pData,wDataSize);

  001bc	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  001c0	50		 push	 eax
  001c1	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  001c4	51		 push	 ecx
  001c5	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  001c8	52		 push	 edx
  001c9	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  001cc	e8 00 00 00 00	 call	 ?OnDBLoadUserRemarksInfo@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserRemarksInfo
  001d1	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv199[ebp], al
  001d7	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv199[ebp]
  001dd	e9 98 01 00 00	 jmp	 $LN1@OnEventDat
$LN11@OnEventDat:

; 1803 : 			}
; 1804 : 		case DBO_GR_LOAD_OFFLINEMESSAGE:	//离线消息
; 1805 : 			{
; 1806 : 				return OnDBLoadUserOfflineMessage(dwContextID,pData,wDataSize);

  001e2	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  001e6	50		 push	 eax
  001e7	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  001ea	51		 push	 ecx
  001eb	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  001ee	52		 push	 edx
  001ef	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  001f2	e8 00 00 00 00	 call	 ?OnDBLoadUserOfflineMessage@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadUserOfflineMessage
  001f7	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv200[ebp], al
  001fd	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv200[ebp]
  00203	e9 72 01 00 00	 jmp	 $LN1@OnEventDat
$LN12@OnEventDat:

; 1807 : 			}
; 1808 : 		case DBO_GR_SEARCH_USER_RESULT:		//查找结果
; 1809 : 			{
; 1810 : 				return OnDBSearchUserResult(dwContextID,pData,wDataSize);

  00208	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0020c	50		 push	 eax
  0020d	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00210	51		 push	 ecx
  00211	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  00214	52		 push	 edx
  00215	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00218	e8 00 00 00 00	 call	 ?OnDBSearchUserResult@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBSearchUserResult
  0021d	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv201[ebp], al
  00223	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv201[ebp]
  00229	e9 4c 01 00 00	 jmp	 $LN1@OnEventDat
$LN13@OnEventDat:

; 1811 : 			}
; 1812 : 		case DBO_GR_ADD_FRIEND:				//添加好友
; 1813 : 			{
; 1814 : 				return OnDBUserAddFriend(dwContextID,pData,wDataSize);

  0022e	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00232	50		 push	 eax
  00233	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00236	51		 push	 ecx
  00237	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  0023a	52		 push	 edx
  0023b	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0023e	e8 00 00 00 00	 call	 ?OnDBUserAddFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBUserAddFriend
  00243	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv202[ebp], al
  00249	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv202[ebp]
  0024f	e9 26 01 00 00	 jmp	 $LN1@OnEventDat
$LN14@OnEventDat:

; 1815 : 			}
; 1816 : 		case DBO_GR_DELETE_FRIEND:			//删除好友
; 1817 : 			{
; 1818 : 				return OnDBLoadDeleteFriend(dwContextID,pData,wDataSize);

  00254	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00258	50		 push	 eax
  00259	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  0025c	51		 push	 ecx
  0025d	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  00260	52		 push	 edx
  00261	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00264	e8 00 00 00 00	 call	 ?OnDBLoadDeleteFriend@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBLoadDeleteFriend
  00269	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv203[ebp], al
  0026f	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv203[ebp]
  00275	e9 00 01 00 00	 jmp	 $LN1@OnEventDat
$LN15@OnEventDat:

; 1819 : 			}
; 1820 : 		case DBO_GR_OPERATE_RESULT:			//操作结果
; 1821 : 			{
; 1822 : 				return OnDBUserOperateResult(dwContextID,pData,wDataSize);

  0027a	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0027e	50		 push	 eax
  0027f	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00282	51		 push	 ecx
  00283	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  00286	52		 push	 edx
  00287	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0028a	e8 00 00 00 00	 call	 ?OnDBUserOperateResult@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBUserOperateResult
  0028f	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv204[ebp], al
  00295	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv204[ebp]
  0029b	e9 da 00 00 00	 jmp	 $LN1@OnEventDat
$LN16@OnEventDat:

; 1823 : 			}
; 1824 : 		case DBO_GR_TRUMPET_RESULT:
; 1825 : 			{
; 1826 : 				return OnDBTrumpetResult(dwContextID,pData,wDataSize);

  002a0	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  002a4	50		 push	 eax
  002a5	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  002a8	51		 push	 ecx
  002a9	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  002ac	52		 push	 edx
  002ad	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  002b0	e8 00 00 00 00	 call	 ?OnDBTrumpetResult@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBTrumpetResult
  002b5	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv205[ebp], al
  002bb	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv205[ebp]
  002c1	e9 b4 00 00 00	 jmp	 $LN1@OnEventDat
$LN17@OnEventDat:

; 1827 : 			}
; 1828 : 		case DBO_GR_SYSTEM_MESSAGE_RESULT:  //系统消息
; 1829 : 			{
; 1830 : 				return OnDBSystemMessage(dwContextID, pData, wDataSize);

  002c6	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  002ca	50		 push	 eax
  002cb	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  002ce	51		 push	 ecx
  002cf	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  002d2	52		 push	 edx
  002d3	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  002d6	e8 00 00 00 00	 call	 ?OnDBSystemMessage@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBSystemMessage
  002db	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv206[ebp], al
  002e1	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv206[ebp]
  002e7	e9 8e 00 00 00	 jmp	 $LN1@OnEventDat
$LN18@OnEventDat:

; 1831 : 			}
; 1832 : 		case DBO_GR_SYSTEM_MESSAGE_FINISH:	//加载完成
; 1833 : 			{
; 1834 : 				return OnDBSystemMessageFinish(dwContextID, pData, wDataSize);

  002ec	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  002f0	50		 push	 eax
  002f1	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  002f4	51		 push	 ecx
  002f5	8b 55 0c	 mov	 edx, DWORD PTR _dwContextID$[ebp]
  002f8	52		 push	 edx
  002f9	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  002fc	e8 00 00 00 00	 call	 ?OnDBSystemMessageFinish@CAttemperEngineSink@@IAE_NKPAXG@Z ; CAttemperEngineSink::OnDBSystemMessageFinish
  00301	88 85 a7 fe ff
	ff		 mov	 BYTE PTR tv207[ebp], al
  00307	8a 85 a7 fe ff
	ff		 mov	 al, BYTE PTR tv207[ebp]
  0030d	eb 6b		 jmp	 SHORT $LN1@OnEventDat
$LN2@OnEventDat:

; 1835 : 			}
; 1836 : 		}
; 1837 : 	}catch(...)

  0030f	eb 57		 jmp	 SHORT $LN22@OnEventDat
__catch$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z$0:

; 1838 : 	{
; 1839 : 		TCHAR szMessage[256]=TEXT("");

  00311	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@@
  00316	88 85 e8 fe ff
	ff		 mov	 BYTE PTR _szMessage$2[ebp], al
  0031c	68 ff 00 00 00	 push	 255			; 000000ffH
  00321	6a 00		 push	 0
  00323	8d 85 e9 fe ff
	ff		 lea	 eax, DWORD PTR _szMessage$2[ebp+1]
  00329	50		 push	 eax
  0032a	e8 00 00 00 00	 call	 _memset
  0032f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1840 : 		_sntprintf(szMessage,CountArray(szMessage),TEXT("OnEventDataBase-wRequestID=%d"),wRequestID);

  00332	0f b7 45 08	 movzx	 eax, WORD PTR _wRequestID$[ebp]
  00336	50		 push	 eax
  00337	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@JLBNFFBE@OnEventDataBase?9wRequestID?$DN?$CFd@
  0033c	68 00 01 00 00	 push	 256			; 00000100H
  00341	8d 8d e8 fe ff
	ff		 lea	 ecx, DWORD PTR _szMessage$2[ebp]
  00347	51		 push	 ecx
  00348	e8 00 00 00 00	 call	 __snprintf
  0034d	83 c4 10	 add	 esp, 16			; 00000010H

; 1841 : 
; 1842 : 		//错误信息
; 1843 : 		CTraceService::TraceString(szMessage,TraceLevel_Exception);

  00350	6a 03		 push	 3
  00352	8d 85 e8 fe ff
	ff		 lea	 eax, DWORD PTR _szMessage$2[ebp]
  00358	50		 push	 eax
  00359	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?TraceString@CTraceService@@SA_NPBDW4enTraceLevel@@@Z
  0035f	83 c4 08	 add	 esp, 8

; 1844 : 	}

  00362	b8 00 00 00 00	 mov	 eax, $LN25@OnEventDat
  00367	c3		 ret	 0
$LN22@OnEventDat:
  00368	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  0036f	eb 07		 jmp	 SHORT __tryend$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z$1
$LN25@OnEventDat:
  00371	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
__tryend$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z$1:

; 1845 : 
; 1846 : 	return false;

  00378	32 c0		 xor	 al, al
$LN1@OnEventDat:

; 1847 : }

  0037a	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  0037d	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00384	59		 pop	 ecx
  00385	5f		 pop	 edi
  00386	5e		 pop	 esi
  00387	5b		 pop	 ebx
  00388	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0038b	33 cd		 xor	 ecx, ebp
  0038d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00392	8b e5		 mov	 esp, ebp
  00394	5d		 pop	 ebp
  00395	c2 10 00	 ret	 16			; 00000010H
$LN28@OnEventDat:
  00398	00 00 00 00	 DD	 $LN8@OnEventDat
  0039c	00 00 00 00	 DD	 $LN10@OnEventDat
  003a0	00 00 00 00	 DD	 $LN9@OnEventDat
  003a4	00 00 00 00	 DD	 $LN11@OnEventDat
$LN29@OnEventDat:
  003a8	00 00 00 00	 DD	 $LN12@OnEventDat
  003ac	00 00 00 00	 DD	 $LN15@OnEventDat
  003b0	00 00 00 00	 DD	 $LN16@OnEventDat
  003b4	00 00 00 00	 DD	 $LN14@OnEventDat
  003b8	00 00 00 00	 DD	 $LN17@OnEventDat
  003bc	00 00 00 00	 DD	 $LN18@OnEventDat
  003c0	00 00 00 00	 DD	 $LN2@OnEventDat
$LN26@OnEventDat:
  003c4	00		 DB	 0
  003c5	01		 DB	 1
  003c6	06		 DB	 6
  003c7	02		 DB	 2
  003c8	03		 DB	 3
  003c9	06		 DB	 6
  003ca	06		 DB	 6
  003cb	06		 DB	 6
  003cc	06		 DB	 6
  003cd	06		 DB	 6
  003ce	06		 DB	 6
  003cf	06		 DB	 6
  003d0	06		 DB	 6
  003d1	06		 DB	 6
  003d2	06		 DB	 6
  003d3	06		 DB	 6
  003d4	06		 DB	 6
  003d5	06		 DB	 6
  003d6	06		 DB	 6
  003d7	06		 DB	 6
  003d8	06		 DB	 6
  003d9	06		 DB	 6
  003da	06		 DB	 6
  003db	06		 DB	 6
  003dc	06		 DB	 6
  003dd	06		 DB	 6
  003de	06		 DB	 6
  003df	06		 DB	 6
  003e0	06		 DB	 6
  003e1	06		 DB	 6
  003e2	06		 DB	 6
  003e3	06		 DB	 6
  003e4	06		 DB	 6
  003e5	06		 DB	 6
  003e6	06		 DB	 6
  003e7	06		 DB	 6
  003e8	06		 DB	 6
  003e9	06		 DB	 6
  003ea	06		 DB	 6
  003eb	06		 DB	 6
  003ec	06		 DB	 6
  003ed	06		 DB	 6
  003ee	06		 DB	 6
  003ef	06		 DB	 6
  003f0	06		 DB	 6
  003f1	06		 DB	 6
  003f2	06		 DB	 6
  003f3	06		 DB	 6
  003f4	06		 DB	 6
  003f5	06		 DB	 6
  003f6	06		 DB	 6
  003f7	06		 DB	 6
  003f8	06		 DB	 6
  003f9	06		 DB	 6
  003fa	06		 DB	 6
  003fb	06		 DB	 6
  003fc	06		 DB	 6
  003fd	06		 DB	 6
  003fe	06		 DB	 6
  003ff	06		 DB	 6
  00400	06		 DB	 6
  00401	06		 DB	 6
  00402	06		 DB	 6
  00403	06		 DB	 6
  00404	06		 DB	 6
  00405	06		 DB	 6
  00406	06		 DB	 6
  00407	06		 DB	 6
  00408	06		 DB	 6
  00409	06		 DB	 6
  0040a	06		 DB	 6
  0040b	06		 DB	 6
  0040c	06		 DB	 6
  0040d	06		 DB	 6
  0040e	06		 DB	 6
  0040f	06		 DB	 6
  00410	06		 DB	 6
  00411	06		 DB	 6
  00412	06		 DB	 6
  00413	06		 DB	 6
  00414	06		 DB	 6
  00415	06		 DB	 6
  00416	06		 DB	 6
  00417	06		 DB	 6
  00418	06		 DB	 6
  00419	06		 DB	 6
  0041a	06		 DB	 6
  0041b	06		 DB	 6
  0041c	06		 DB	 6
  0041d	06		 DB	 6
  0041e	06		 DB	 6
  0041f	06		 DB	 6
  00420	06		 DB	 6
  00421	06		 DB	 6
  00422	06		 DB	 6
  00423	06		 DB	 6
  00424	06		 DB	 6
  00425	06		 DB	 6
  00426	06		 DB	 6
  00427	06		 DB	 6
  00428	06		 DB	 6
  00429	06		 DB	 6
  0042a	06		 DB	 6
  0042b	06		 DB	 6
  0042c	06		 DB	 6
  0042d	06		 DB	 6
  0042e	06		 DB	 6
  0042f	06		 DB	 6
  00430	06		 DB	 6
  00431	06		 DB	 6
  00432	06		 DB	 6
  00433	06		 DB	 6
  00434	06		 DB	 6
  00435	06		 DB	 6
  00436	06		 DB	 6
  00437	06		 DB	 6
  00438	06		 DB	 6
  00439	06		 DB	 6
  0043a	06		 DB	 6
  0043b	06		 DB	 6
  0043c	06		 DB	 6
  0043d	06		 DB	 6
  0043e	06		 DB	 6
  0043f	06		 DB	 6
  00440	06		 DB	 6
  00441	06		 DB	 6
  00442	06		 DB	 6
  00443	06		 DB	 6
  00444	06		 DB	 6
  00445	06		 DB	 6
  00446	06		 DB	 6
  00447	06		 DB	 6
  00448	06		 DB	 6
  00449	06		 DB	 6
  0044a	06		 DB	 6
  0044b	06		 DB	 6
  0044c	06		 DB	 6
  0044d	06		 DB	 6
  0044e	06		 DB	 6
  0044f	06		 DB	 6
  00450	06		 DB	 6
  00451	06		 DB	 6
  00452	06		 DB	 6
  00453	06		 DB	 6
  00454	06		 DB	 6
  00455	06		 DB	 6
  00456	06		 DB	 6
  00457	06		 DB	 6
  00458	06		 DB	 6
  00459	06		 DB	 6
  0045a	06		 DB	 6
  0045b	06		 DB	 6
  0045c	06		 DB	 6
  0045d	06		 DB	 6
  0045e	06		 DB	 6
  0045f	06		 DB	 6
  00460	06		 DB	 6
  00461	06		 DB	 6
  00462	06		 DB	 6
  00463	06		 DB	 6
  00464	06		 DB	 6
  00465	06		 DB	 6
  00466	06		 DB	 6
  00467	06		 DB	 6
  00468	06		 DB	 6
  00469	06		 DB	 6
  0046a	06		 DB	 6
  0046b	06		 DB	 6
  0046c	06		 DB	 6
  0046d	06		 DB	 6
  0046e	06		 DB	 6
  0046f	06		 DB	 6
  00470	06		 DB	 6
  00471	06		 DB	 6
  00472	06		 DB	 6
  00473	06		 DB	 6
  00474	06		 DB	 6
  00475	06		 DB	 6
  00476	06		 DB	 6
  00477	06		 DB	 6
  00478	06		 DB	 6
  00479	06		 DB	 6
  0047a	06		 DB	 6
  0047b	06		 DB	 6
  0047c	06		 DB	 6
  0047d	06		 DB	 6
  0047e	06		 DB	 6
  0047f	06		 DB	 6
  00480	06		 DB	 6
  00481	06		 DB	 6
  00482	06		 DB	 6
  00483	06		 DB	 6
  00484	04		 DB	 4
  00485	05		 DB	 5
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a a0 fe ff
	ff		 mov	 ecx, DWORD PTR [edx-352]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?OnEventDataBase@CAttemperEngineSink@@MAE_NGKPAXG@Z ENDP ; CAttemperEngineSink::OnEventDataBase
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?RemoveSystemMessage@CAttemperEngineSink@@IAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?RemoveSystemMessage@CAttemperEngineSink@@IAEXXZ PROC	; CAttemperEngineSink::RemoveSystemMessage, COMDAT
; _this$ = ecx

; 2730 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 2731 : 	//缓存消息
; 2732 : 	m_SystemMessageBuffer.Append(m_SystemMessageActive);

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	05 b0 00 00 00	 add	 eax, 176		; 000000b0H
  00014	50		 push	 eax
  00015	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00018	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  0001e	e8 00 00 00 00	 call	 ?Append@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABV1@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Append

; 2733 : 	m_SystemMessageActive.RemoveAll();

  00023	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  0002c	e8 00 00 00 00	 call	 ?RemoveAll@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAll

; 2734 : }

  00031	5f		 pop	 edi
  00032	5e		 pop	 esi
  00033	5b		 pop	 ebx
  00034	8b e5		 mov	 esp, ebp
  00036	5d		 pop	 ebp
  00037	c3		 ret	 0
?RemoveSystemMessage@CAttemperEngineSink@@IAEXXZ ENDP	; CAttemperEngineSink::RemoveSystemMessage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_wBindIndex$ = 8					; size = 2
?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z PROC ; CAttemperEngineSink::GetBindParameter, COMDAT
; _this$ = ecx

; 1755 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1756 : 	//无效连接
; 1757 : 	if (wBindIndex==INVALID_WORD) return NULL;

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  00010	3d ff ff 00 00	 cmp	 eax, 65535		; 0000ffffH
  00015	75 04		 jne	 SHORT $LN2@GetBindPar
  00017	33 c0		 xor	 eax, eax
  00019	eb 40		 jmp	 SHORT $LN1@GetBindPar
$LN2@GetBindPar:

; 1758 : 
; 1759 : 	//常规连接
; 1760 : 	if (wBindIndex<m_pInitParameter->m_wMaxPlayer)

  0001b	0f b7 45 08	 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  0001f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00022	8b 51 18	 mov	 edx, DWORD PTR [ecx+24]
  00025	0f b7 4a 14	 movzx	 ecx, WORD PTR [edx+20]
  00029	3b c1		 cmp	 eax, ecx
  0002b	7d 0f		 jge	 SHORT $LN3@GetBindPar

; 1761 : 	{
; 1762 : 		return m_pNormalParameter+wBindIndex;

  0002d	0f b7 45 08	 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  00031	c1 e0 05	 shl	 eax, 5
  00034	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00037	03 41 10	 add	 eax, DWORD PTR [ecx+16]
  0003a	eb 1f		 jmp	 SHORT $LN1@GetBindPar
$LN3@GetBindPar:

; 1763 : 	}
; 1764 : 
; 1765 : 	//错误断言
; 1766 : 	ASSERT(FALSE);

  0003c	33 c0		 xor	 eax, eax
  0003e	75 19		 jne	 SHORT $LN5@GetBindPar
  00040	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z@4JA
  00046	83 c1 0b	 add	 ecx, 11			; 0000000bH
  00049	51		 push	 ecx
  0004a	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0004f	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00054	85 c0		 test	 eax, eax
  00056	74 01		 je	 SHORT $LN5@GetBindPar
  00058	cc		 int	 3
$LN5@GetBindPar:

; 1767 : 
; 1768 : 	return NULL;

  00059	33 c0		 xor	 eax, eax
$LN1@GetBindPar:

; 1769 : }

  0005b	5f		 pop	 edi
  0005c	5e		 pop	 esi
  0005d	5b		 pop	 ebx
  0005e	8b e5		 mov	 esp, ebp
  00060	5d		 pop	 ebp
  00061	c2 04 00	 ret	 4
?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ENDP ; CAttemperEngineSink::GetBindParameter
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?GetBindUserItem@CAttemperEngineSink@@IAEPAVCServerUserItem@@G@Z
_TEXT	SEGMENT
_pBindParameter$ = -8					; size = 4
_this$ = -4						; size = 4
_wBindIndex$ = 8					; size = 2
?GetBindUserItem@CAttemperEngineSink@@IAEPAVCServerUserItem@@G@Z PROC ; CAttemperEngineSink::GetBindUserItem, COMDAT
; _this$ = ecx

; 1737 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1738 : 	//获取参数
; 1739 : 	tagBindParameter * pBindParameter=GetBindParameter(wBindIndex);

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  00010	50		 push	 eax
  00011	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00014	e8 00 00 00 00	 call	 ?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ; CAttemperEngineSink::GetBindParameter
  00019	89 45 f8	 mov	 DWORD PTR _pBindParameter$[ebp], eax

; 1740 : 
; 1741 : 	//获取用户
; 1742 : 	if (pBindParameter!=NULL)

  0001c	83 7d f8 00	 cmp	 DWORD PTR _pBindParameter$[ebp], 0
  00020	74 08		 je	 SHORT $LN2@GetBindUse

; 1743 : 	{
; 1744 : 		return pBindParameter->pServerUserItem;

  00022	8b 45 f8	 mov	 eax, DWORD PTR _pBindParameter$[ebp]
  00025	8b 40 1c	 mov	 eax, DWORD PTR [eax+28]
  00028	eb 1f		 jmp	 SHORT $LN1@GetBindUse
$LN2@GetBindUse:

; 1745 : 	}
; 1746 : 
; 1747 : 	//错误断言
; 1748 : 	ASSERT(FALSE);

  0002a	33 c0		 xor	 eax, eax
  0002c	75 19		 jne	 SHORT $LN4@GetBindUse
  0002e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??GetBindUserItem@CAttemperEngineSink@@IAEPAVCServerUserItem@@G@Z@4JA
  00034	83 c1 0b	 add	 ecx, 11			; 0000000bH
  00037	51		 push	 ecx
  00038	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0003d	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00042	85 c0		 test	 eax, eax
  00044	74 01		 je	 SHORT $LN4@GetBindUse
  00046	cc		 int	 3
$LN4@GetBindUse:

; 1749 : 
; 1750 : 	return NULL;

  00047	33 c0		 xor	 eax, eax
$LN1@GetBindUse:

; 1751 : }

  00049	5f		 pop	 edi
  0004a	5e		 pop	 esi
  0004b	5b		 pop	 ebx
  0004c	8b e5		 mov	 esp, ebp
  0004e	5d		 pop	 ebp
  0004f	c2 04 00	 ret	 4
?GetBindUserItem@CAttemperEngineSink@@IAEPAVCServerUserItem@@G@Z ENDP ; CAttemperEngineSink::GetBindUserItem
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SaveOfflineMessage@CAttemperEngineSink@@IAE_NKGPAXGK@Z
_TEXT	SEGMENT
_i$1 = -6024						; size = 4
_cbOffLineData$ = -6020					; size = 1200
_szOffLineData$ = -4820					; size = 2401
_OfflineMessage$ = -2416				; size = 2408
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwUserID$ = 8						; size = 4
_wMessageType$ = 12					; size = 2
_pData$ = 16						; size = 4
_wDataSize$ = 20					; size = 2
_dwSocketID$ = 24					; size = 4
?SaveOfflineMessage@CAttemperEngineSink@@IAE_NKGPAXGK@Z PROC ; CAttemperEngineSink::SaveOfflineMessage, COMDAT
; _this$ = ecx

; 1706 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b8 88 19 00 00	 mov	 eax, 6536		; 00001988H
  00008	e8 00 00 00 00	 call	 __chkstk
  0000d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00012	33 c5		 xor	 eax, ebp
  00014	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00017	53		 push	 ebx
  00018	56		 push	 esi
  00019	57		 push	 edi
  0001a	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1707 : 	//变量定义
; 1708 : 	DBR_GR_SaveOfflineMessage OfflineMessage;
; 1709 : 	OfflineMessage.dwUserID = dwUserID;

  0001d	8b 45 08	 mov	 eax, DWORD PTR _dwUserID$[ebp]
  00020	89 85 90 f6 ff
	ff		 mov	 DWORD PTR _OfflineMessage$[ebp], eax

; 1710 : 	OfflineMessage.wMessageType = wMessageType;

  00026	66 8b 45 0c	 mov	 ax, WORD PTR _wMessageType$[ebp]
  0002a	66 89 85 94 f6
	ff ff		 mov	 WORD PTR _OfflineMessage$[ebp+4], ax

; 1711 : 	OfflineMessage.wDataSize = wDataSize;

  00031	66 8b 45 14	 mov	 ax, WORD PTR _wDataSize$[ebp]
  00035	66 89 85 96 f6
	ff ff		 mov	 WORD PTR _OfflineMessage$[ebp+6], ax

; 1712 : 	OfflineMessage.szOfflineData[0]=0;

  0003c	b8 01 00 00 00	 mov	 eax, 1
  00041	6b c8 00	 imul	 ecx, eax, 0
  00044	c6 84 0d 98 f6
	ff ff 00	 mov	 BYTE PTR _OfflineMessage$[ebp+ecx+8], 0

; 1713 : 
; 1714 : 	//变量定义
; 1715 : 	TCHAR szOffLineData[CountArray(OfflineMessage.szOfflineData)+1]=TEXT("");

  0004c	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@@
  00051	88 85 2c ed ff
	ff		 mov	 BYTE PTR _szOffLineData$[ebp], al
  00057	68 60 09 00 00	 push	 2400			; 00000960H
  0005c	6a 00		 push	 0
  0005e	8d 85 2d ed ff
	ff		 lea	 eax, DWORD PTR _szOffLineData$[ebp+1]
  00064	50		 push	 eax
  00065	e8 00 00 00 00	 call	 _memset
  0006a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1716 : 	BYTE cbOffLineData[CountArray(OfflineMessage.szOfflineData)/2];
; 1717 : 	ZeroMemory(cbOffLineData,sizeof(cbOffLineData));

  0006d	68 b0 04 00 00	 push	 1200			; 000004b0H
  00072	6a 00		 push	 0
  00074	8d 85 7c e8 ff
	ff		 lea	 eax, DWORD PTR _cbOffLineData$[ebp]
  0007a	50		 push	 eax
  0007b	e8 00 00 00 00	 call	 _memset
  00080	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1718 : 	CopyMemory(cbOffLineData,pData,wDataSize);		

  00083	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00087	50		 push	 eax
  00088	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  0008b	51		 push	 ecx
  0008c	8d 95 7c e8 ff
	ff		 lea	 edx, DWORD PTR _cbOffLineData$[ebp]
  00092	52		 push	 edx
  00093	e8 00 00 00 00	 call	 _memcpy
  00098	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1719 : 
; 1720 : 	//离线消息
; 1721 : 	for (INT i=0;i<CountArray(cbOffLineData);i++) 

  0009b	c7 85 78 e8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$1[ebp], 0
  000a5	eb 0f		 jmp	 SHORT $LN4@SaveOfflin
$LN2@SaveOfflin:
  000a7	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _i$1[ebp]
  000ad	83 c0 01	 add	 eax, 1
  000b0	89 85 78 e8 ff
	ff		 mov	 DWORD PTR _i$1[ebp], eax
$LN4@SaveOfflin:
  000b6	81 bd 78 e8 ff
	ff b0 04 00 00	 cmp	 DWORD PTR _i$1[ebp], 1200 ; 000004b0H
  000c0	73 2c		 jae	 SHORT $LN3@SaveOfflin

; 1722 : 	{
; 1723 : 		_stprintf(&szOffLineData[i * 2], TEXT("%02X"), cbOffLineData[i]);

  000c2	8b 85 78 e8 ff
	ff		 mov	 eax, DWORD PTR _i$1[ebp]
  000c8	0f b6 8c 05 7c
	e8 ff ff	 movzx	 ecx, BYTE PTR _cbOffLineData$[ebp+eax]
  000d0	51		 push	 ecx
  000d1	68 00 00 00 00	 push	 OFFSET ??_C@_04JFFKLGJF@?$CF02X@
  000d6	8b 95 78 e8 ff
	ff		 mov	 edx, DWORD PTR _i$1[ebp]
  000dc	8d 84 55 2c ed
	ff ff		 lea	 eax, DWORD PTR _szOffLineData$[ebp+edx*2]
  000e3	50		 push	 eax
  000e4	e8 00 00 00 00	 call	 _sprintf
  000e9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1724 : 	}

  000ec	eb b9		 jmp	 SHORT $LN2@SaveOfflin
$LN3@SaveOfflin:

; 1725 : 
; 1726 : 	//设置变量
; 1727 : 	lstrcpyn(OfflineMessage.szOfflineData,szOffLineData,CountArray(OfflineMessage.szOfflineData));

  000ee	68 60 09 00 00	 push	 2400			; 00000960H
  000f3	8d 85 2c ed ff
	ff		 lea	 eax, DWORD PTR _szOffLineData$[ebp]
  000f9	50		 push	 eax
  000fa	8d 8d 98 f6 ff
	ff		 lea	 ecx, DWORD PTR _OfflineMessage$[ebp+8]
  00100	51		 push	 ecx
  00101	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1728 : 
; 1729 : 	//投递请求
; 1730 : 	m_pIDataBaseEngine->PostDataBaseRequest(DBR_GR_SAVE_OFFLINEMESSAGE,dwSocketID,&OfflineMessage,sizeof(OfflineMessage));

  00107	68 68 09 00 00	 push	 2408			; 00000968H
  0010c	8d 85 90 f6 ff
	ff		 lea	 eax, DWORD PTR _OfflineMessage$[ebp]
  00112	50		 push	 eax
  00113	8b 4d 18	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00116	51		 push	 ecx
  00117	68 d4 00 00 00	 push	 212			; 000000d4H
  0011c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0011f	8b 82 e8 00 00
	00		 mov	 eax, DWORD PTR [edx+232]
  00125	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00128	8b 10		 mov	 edx, DWORD PTR [eax]
  0012a	8b 89 e8 00 00
	00		 mov	 ecx, DWORD PTR [ecx+232]
  00130	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  00133	ff d0		 call	 eax

; 1731 : 
; 1732 : 	return true;

  00135	b0 01		 mov	 al, 1

; 1733 : }

  00137	5f		 pop	 edi
  00138	5e		 pop	 esi
  00139	5b		 pop	 ebx
  0013a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0013d	33 cd		 xor	 ecx, ebp
  0013f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00144	8b e5		 mov	 esp, ebp
  00146	5d		 pop	 ebp
  00147	c2 14 00	 ret	 20			; 00000014H
?SaveOfflineMessage@CAttemperEngineSink@@IAE_NKGPAXGK@Z ENDP ; CAttemperEngineSink::SaveOfflineMessage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z
_TEXT	SEGMENT
_pLocalUerItem$1 = -28					; size = 4
_pServerUserItem$2 = -24				; size = 4
_pServerFriendInfo$3 = -20				; size = 4
_wEnumIndex$4 = -16					; size = 2
_pUserFriendGroup$5 = -12				; size = 4
_pServerUserItem$ = -8					; size = 4
_this$ = -4						; size = 4
_dwUserID$ = 8						; size = 4
_wMainCmdID$ = 12					; size = 2
_wSubCmdID$ = 16					; size = 2
_pData$ = 20						; size = 4
_wDataSize$ = 24					; size = 2
?SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z PROC ; CAttemperEngineSink::SendDataToUserFriend, COMDAT
; _this$ = ecx

; 1669 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1670 : 	//移除用户
; 1671 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(dwUserID);

  0000c	8b 45 08	 mov	 eax, DWORD PTR _dwUserID$[ebp]
  0000f	50		 push	 eax
  00010	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00013	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00016	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00019	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0001c	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0001f	ff d2		 call	 edx
  00021	89 45 f8	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1672 : 	ASSERT(pServerUserItem!=NULL);

  00024	83 7d f8 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00028	75 18		 jne	 SHORT $LN9@SendDataTo
  0002a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z@4JA
  0002f	83 c0 03	 add	 eax, 3
  00032	50		 push	 eax
  00033	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00038	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0003d	85 c0		 test	 eax, eax
  0003f	74 01		 je	 SHORT $LN9@SendDataTo
  00041	cc		 int	 3
$LN9@SendDataTo:

; 1673 : 	if(pServerUserItem!=NULL)

  00042	83 7d f8 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00046	0f 84 c6 00 00
	00		 je	 $LN4@SendDataTo

; 1674 : 	{
; 1675 : 		//获取好友
; 1676 : 		CUserFriendGroup * pUserFriendGroup = m_FriendGroupManager.SearchGroupItem(dwUserID);

  0004c	8b 45 08	 mov	 eax, DWORD PTR _dwUserID$[ebp]
  0004f	50		 push	 eax
  00050	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00053	83 c1 68	 add	 ecx, 104		; 00000068H
  00056	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00059	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  0005c	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0005f	ff d2		 call	 edx
  00061	89 45 f4	 mov	 DWORD PTR _pUserFriendGroup$5[ebp], eax

; 1677 : 		if(pUserFriendGroup!=NULL)

  00064	83 7d f4 00	 cmp	 DWORD PTR _pUserFriendGroup$5[ebp], 0
  00068	0f 84 a4 00 00
	00		 je	 $LN4@SendDataTo

; 1678 : 		{
; 1679 : 			//枚举用户
; 1680 : 			WORD wEnumIndex=0;

  0006e	33 c0		 xor	 eax, eax
  00070	66 89 45 f0	 mov	 WORD PTR _wEnumIndex$4[ebp], ax

; 1681 : 			tagServerFriendInfo * pServerFriendInfo = pUserFriendGroup->EnumFriendItem(wEnumIndex);

  00074	0f b7 45 f0	 movzx	 eax, WORD PTR _wEnumIndex$4[ebp]
  00078	50		 push	 eax
  00079	8b 4d f4	 mov	 ecx, DWORD PTR _pUserFriendGroup$5[ebp]
  0007c	e8 00 00 00 00	 call	 ?EnumFriendItem@CUserFriendGroup@@QAEPAUtagServerFriendInfo@@G@Z ; CUserFriendGroup::EnumFriendItem
  00081	89 45 ec	 mov	 DWORD PTR _pServerFriendInfo$3[ebp], eax
$LN2@SendDataTo:

; 1682 : 			while(pServerFriendInfo!=NULL)

  00084	83 7d ec 00	 cmp	 DWORD PTR _pServerFriendInfo$3[ebp], 0
  00088	0f 84 84 00 00
	00		 je	 $LN4@SendDataTo

; 1683 : 			{
; 1684 : 				//查找本地用户
; 1685 : 				CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pServerFriendInfo->dwUserID);

  0008e	8b 45 ec	 mov	 eax, DWORD PTR _pServerFriendInfo$3[ebp]
  00091	8b 08		 mov	 ecx, DWORD PTR [eax]
  00093	51		 push	 ecx
  00094	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00097	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0009a	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0009d	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  000a0	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  000a3	ff d2		 call	 edx
  000a5	89 45 e8	 mov	 DWORD PTR _pServerUserItem$2[ebp], eax

; 1686 : 				if(pServerUserItem!=NULL )

  000a8	83 7d e8 00	 cmp	 DWORD PTR _pServerUserItem$2[ebp], 0
  000ac	74 43		 je	 SHORT $LN6@SendDataTo

; 1687 : 				{
; 1688 : 					CLocalUserItem * pLocalUerItem = (CLocalUserItem *)pServerUserItem;					

  000ae	8b 45 e8	 mov	 eax, DWORD PTR _pServerUserItem$2[ebp]
  000b1	89 45 e4	 mov	 DWORD PTR _pLocalUerItem$1[ebp], eax

; 1689 : 					if(pLocalUerItem->GetMainStatus()!=FRIEND_US_OFFLINE)

  000b4	8b 45 e4	 mov	 eax, DWORD PTR _pLocalUerItem$1[ebp]
  000b7	8b 10		 mov	 edx, DWORD PTR [eax]
  000b9	8b 4d e4	 mov	 ecx, DWORD PTR _pLocalUerItem$1[ebp]
  000bc	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  000bf	ff d0		 call	 eax
  000c1	0f b6 c8	 movzx	 ecx, al
  000c4	85 c9		 test	 ecx, ecx
  000c6	74 29		 je	 SHORT $LN6@SendDataTo

; 1690 : 					{
; 1691 : 						SendData(pLocalUerItem->GetSocketID(),wMainCmdID,wSubCmdID,pData,wDataSize);

  000c8	0f b7 45 18	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  000cc	50		 push	 eax
  000cd	8b 4d 14	 mov	 ecx, DWORD PTR _pData$[ebp]
  000d0	51		 push	 ecx
  000d1	0f b7 55 10	 movzx	 edx, WORD PTR _wSubCmdID$[ebp]
  000d5	52		 push	 edx
  000d6	0f b7 45 0c	 movzx	 eax, WORD PTR _wMainCmdID$[ebp]
  000da	50		 push	 eax
  000db	8b 4d e4	 mov	 ecx, DWORD PTR _pLocalUerItem$1[ebp]
  000de	8b 11		 mov	 edx, DWORD PTR [ecx]
  000e0	8b 4d e4	 mov	 ecx, DWORD PTR _pLocalUerItem$1[ebp]
  000e3	8b 42 38	 mov	 eax, DWORD PTR [edx+56]
  000e6	ff d0		 call	 eax
  000e8	50		 push	 eax
  000e9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000ec	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN6@SendDataTo:

; 1692 : 					}
; 1693 : 				}
; 1694 : 
; 1695 : 				//枚举好友
; 1696 : 				pServerFriendInfo = pUserFriendGroup->EnumFriendItem(++wEnumIndex);

  000f1	66 8b 45 f0	 mov	 ax, WORD PTR _wEnumIndex$4[ebp]
  000f5	66 83 c0 01	 add	 ax, 1
  000f9	66 89 45 f0	 mov	 WORD PTR _wEnumIndex$4[ebp], ax
  000fd	0f b7 4d f0	 movzx	 ecx, WORD PTR _wEnumIndex$4[ebp]
  00101	51		 push	 ecx
  00102	8b 4d f4	 mov	 ecx, DWORD PTR _pUserFriendGroup$5[ebp]
  00105	e8 00 00 00 00	 call	 ?EnumFriendItem@CUserFriendGroup@@QAEPAUtagServerFriendInfo@@G@Z ; CUserFriendGroup::EnumFriendItem
  0010a	89 45 ec	 mov	 DWORD PTR _pServerFriendInfo$3[ebp], eax

; 1697 : 			}			

  0010d	e9 72 ff ff ff	 jmp	 $LN2@SendDataTo
$LN4@SendDataTo:

; 1698 : 		}
; 1699 : 	}
; 1700 : 
; 1701 : 	return true;

  00112	b0 01		 mov	 al, 1

; 1702 : }

  00114	5f		 pop	 edi
  00115	5e		 pop	 esi
  00116	5b		 pop	 ebx
  00117	8b e5		 mov	 esp, ebp
  00119	5d		 pop	 ebp
  0011a	c2 14 00	 ret	 20			; 00000014H
?SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z ENDP ; CAttemperEngineSink::SendDataToUserFriend
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendOperateSuccess@CAttemperEngineSink@@IAE_NPBDJK@Z
_TEXT	SEGMENT
_wSize$ = -144						; size = 2
_OperateSuccess$ = -140					; size = 132
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pszString$ = 8						; size = 4
_lOperateCode$ = 12					; size = 4
_dwSocketID$ = 16					; size = 4
?SendOperateSuccess@CAttemperEngineSink@@IAE_NPBDJK@Z PROC ; CAttemperEngineSink::SendOperateSuccess, COMDAT
; _this$ = ecx

; 1653 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1654 : 	//构造结构
; 1655 : 	CMD_GC_OperateSuccess OperateSuccess;
; 1656 : 	OperateSuccess.lResultCode=lOperateCode;

  00019	8b 45 0c	 mov	 eax, DWORD PTR _lOperateCode$[ebp]
  0001c	89 85 74 ff ff
	ff		 mov	 DWORD PTR _OperateSuccess$[ebp], eax

; 1657 : 	lstrcpyn(OperateSuccess.szDescribeString,pszString,CountArray(OperateSuccess.szDescribeString));

  00022	68 80 00 00 00	 push	 128			; 00000080H
  00027	8b 45 08	 mov	 eax, DWORD PTR _pszString$[ebp]
  0002a	50		 push	 eax
  0002b	8d 8d 78 ff ff
	ff		 lea	 ecx, DWORD PTR _OperateSuccess$[ebp+4]
  00031	51		 push	 ecx
  00032	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1658 : 
; 1659 : 	//发送数据
; 1660 : 	WORD wSize = sizeof(OperateSuccess)-sizeof(OperateSuccess.szDescribeString)+CountStringBuffer(OperateSuccess.szDescribeString);

  00038	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _OperateSuccess$[ebp+4]
  0003e	50		 push	 eax
  0003f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00045	83 c0 05	 add	 eax, 5
  00048	66 89 85 70 ff
	ff ff		 mov	 WORD PTR _wSize$[ebp], ax

; 1661 : 	SendData(dwSocketID,MDM_GC_USER,SUB_GC_OPERATE_SUCCESS,&OperateSuccess,wSize);

  0004f	0f b7 85 70 ff
	ff ff		 movzx	 eax, WORD PTR _wSize$[ebp]
  00056	50		 push	 eax
  00057	8d 8d 74 ff ff
	ff		 lea	 ecx, DWORD PTR _OperateSuccess$[ebp]
  0005d	51		 push	 ecx
  0005e	68 20 03 00 00	 push	 800			; 00000320H
  00063	6a 03		 push	 3
  00065	8b 55 10	 mov	 edx, DWORD PTR _dwSocketID$[ebp]
  00068	52		 push	 edx
  00069	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0006c	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1662 : 
; 1663 : 	return true;

  00071	b0 01		 mov	 al, 1

; 1664 : }

  00073	5f		 pop	 edi
  00074	5e		 pop	 esi
  00075	5b		 pop	 ebx
  00076	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00079	33 cd		 xor	 ecx, ebp
  0007b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00080	8b e5		 mov	 esp, ebp
  00082	5d		 pop	 ebp
  00083	c2 0c 00	 ret	 12			; 0000000cH
?SendOperateSuccess@CAttemperEngineSink@@IAE_NPBDJK@Z ENDP ; CAttemperEngineSink::SendOperateSuccess
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendOperateFailure@CAttemperEngineSink@@IAE_NPBDJJK@Z
_TEXT	SEGMENT
_OperateFailure$ = -144					; size = 136
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pszString$ = 8						; size = 4
_lErrorCode$ = 12					; size = 4
_lOperateCode$ = 16					; size = 4
_dwSocketID$ = 20					; size = 4
?SendOperateFailure@CAttemperEngineSink@@IAE_NPBDJJK@Z PROC ; CAttemperEngineSink::SendOperateFailure, COMDAT
; _this$ = ecx

; 1638 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1639 : 	//变量定义
; 1640 : 	CMD_GC_OperateFailure OperateFailure;
; 1641 : 	OperateFailure.lErrorCode=lErrorCode;

  00019	8b 45 0c	 mov	 eax, DWORD PTR _lErrorCode$[ebp]
  0001c	89 85 70 ff ff
	ff		 mov	 DWORD PTR _OperateFailure$[ebp], eax

; 1642 : 	OperateFailure.lResultCode=lOperateCode;

  00022	8b 45 10	 mov	 eax, DWORD PTR _lOperateCode$[ebp]
  00025	89 85 74 ff ff
	ff		 mov	 DWORD PTR _OperateFailure$[ebp+4], eax

; 1643 : 	lstrcpyn(OperateFailure.szDescribeString,pszString,CountArray(OperateFailure.szDescribeString));

  0002b	68 80 00 00 00	 push	 128			; 00000080H
  00030	8b 45 08	 mov	 eax, DWORD PTR _pszString$[ebp]
  00033	50		 push	 eax
  00034	8d 8d 78 ff ff
	ff		 lea	 ecx, DWORD PTR _OperateFailure$[ebp+8]
  0003a	51		 push	 ecx
  0003b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1644 : 
; 1645 : 	//发送数据
; 1646 : 	SendData(dwSocketID,MDM_GC_USER,SUB_GP_OPERATE_FAILURE,&OperateFailure,sizeof(OperateFailure));

  00041	68 88 00 00 00	 push	 136			; 00000088H
  00046	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _OperateFailure$[ebp]
  0004c	50		 push	 eax
  0004d	68 21 03 00 00	 push	 801			; 00000321H
  00052	6a 03		 push	 3
  00054	8b 4d 14	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00057	51		 push	 ecx
  00058	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005b	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1647 : 
; 1648 : 	return true;

  00060	b0 01		 mov	 al, 1

; 1649 : }

  00062	5f		 pop	 edi
  00063	5e		 pop	 esi
  00064	5b		 pop	 ebx
  00065	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00068	33 cd		 xor	 ecx, ebp
  0006a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0006f	8b e5		 mov	 esp, ebp
  00071	5d		 pop	 ebp
  00072	c2 10 00	 ret	 16			; 00000010H
?SendOperateFailure@CAttemperEngineSink@@IAE_NPBDJJK@Z ENDP ; CAttemperEngineSink::SendOperateFailure
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendLogonFailure@CAttemperEngineSink@@IAE_NPBDJK@Z
_TEXT	SEGMENT
_wHeadSize$ = -148					; size = 2
_wDataSize$ = -144					; size = 2
_LogonFailure$ = -140					; size = 132
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pszString$ = 8						; size = 4
_lErrorCode$ = 12					; size = 4
_dwSocketID$ = 16					; size = 4
?SendLogonFailure@CAttemperEngineSink@@IAE_NPBDJK@Z PROC ; CAttemperEngineSink::SendLogonFailure, COMDAT
; _this$ = ecx

; 1617 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1618 : 	//变量定义
; 1619 : 	CMD_GC_LogonEcho LogonFailure;
; 1620 : 	ZeroMemory(&LogonFailure,sizeof(LogonFailure));

  00019	68 84 00 00 00	 push	 132			; 00000084H
  0001e	6a 00		 push	 0
  00020	8d 85 74 ff ff
	ff		 lea	 eax, DWORD PTR _LogonFailure$[ebp]
  00026	50		 push	 eax
  00027	e8 00 00 00 00	 call	 _memset
  0002c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1621 : 
; 1622 : 	//构造数据
; 1623 : 	LogonFailure.lErrorCode=lErrorCode;

  0002f	8b 45 0c	 mov	 eax, DWORD PTR _lErrorCode$[ebp]
  00032	89 85 74 ff ff
	ff		 mov	 DWORD PTR _LogonFailure$[ebp], eax

; 1624 : 	lstrcpyn(LogonFailure.szDescribeString,pszString,CountArray(LogonFailure.szDescribeString));

  00038	68 80 00 00 00	 push	 128			; 00000080H
  0003d	8b 45 08	 mov	 eax, DWORD PTR _pszString$[ebp]
  00040	50		 push	 eax
  00041	8d 8d 78 ff ff
	ff		 lea	 ecx, DWORD PTR _LogonFailure$[ebp+4]
  00047	51		 push	 ecx
  00048	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1625 : 
; 1626 : 	//数据属性
; 1627 : 	WORD wDataSize=CountStringBuffer(LogonFailure.szDescribeString);

  0004e	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _LogonFailure$[ebp+4]
  00054	50		 push	 eax
  00055	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0005b	83 c0 01	 add	 eax, 1
  0005e	66 89 85 70 ff
	ff ff		 mov	 WORD PTR _wDataSize$[ebp], ax

; 1628 : 	WORD wHeadSize=sizeof(LogonFailure)-sizeof(LogonFailure.szDescribeString);

  00065	b8 04 00 00 00	 mov	 eax, 4
  0006a	66 89 85 6c ff
	ff ff		 mov	 WORD PTR _wHeadSize$[ebp], ax

; 1629 : 
; 1630 : 	//发送数据
; 1631 : 	SendData(dwSocketID,MDM_GC_LOGON,SUB_GC_LOGON_FAILURE,&LogonFailure,wHeadSize+wDataSize);

  00071	0f b7 85 6c ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$[ebp]
  00078	0f b7 8d 70 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  0007f	03 c1		 add	 eax, ecx
  00081	50		 push	 eax
  00082	8d 95 74 ff ff
	ff		 lea	 edx, DWORD PTR _LogonFailure$[ebp]
  00088	52		 push	 edx
  00089	68 d2 00 00 00	 push	 210			; 000000d2H
  0008e	6a 01		 push	 1
  00090	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00093	50		 push	 eax
  00094	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00097	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1632 : 
; 1633 : 	return true;

  0009c	b0 01		 mov	 al, 1

; 1634 : }

  0009e	5f		 pop	 edi
  0009f	5e		 pop	 esi
  000a0	5b		 pop	 ebx
  000a1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000a4	33 cd		 xor	 ecx, ebp
  000a6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000ab	8b e5		 mov	 esp, ebp
  000ad	5d		 pop	 ebp
  000ae	c2 0c 00	 ret	 12			; 0000000cH
?SendLogonFailure@CAttemperEngineSink@@IAE_NPBDJK@Z ENDP ; CAttemperEngineSink::SendLogonFailure
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendSystemMessage@CAttemperEngineSink@@IAE_NKPBDG@Z
_TEXT	SEGMENT
_wSendSize$ = -1044					; size = 2
_wHeadSize$ = -1040					; size = 2
_SystemMessage$ = -1036					; size = 1028
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwSocketID$ = 8					; size = 4
_lpszMessage$ = 12					; size = 4
_wType$ = 16						; size = 2
?SendSystemMessage@CAttemperEngineSink@@IAE_NKPBDG@Z PROC ; CAttemperEngineSink::SendSystemMessage, COMDAT
; _this$ = ecx

; 604  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 04 00
	00		 sub	 esp, 1236		; 000004d4H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 605  : 	//变量定义
; 606  : 	CMD_GC_S_SystemMessage SystemMessage;
; 607  : 	ZeroMemory(&SystemMessage,sizeof(SystemMessage));

  00019	68 04 04 00 00	 push	 1028			; 00000404H
  0001e	6a 00		 push	 0
  00020	8d 85 f4 fb ff
	ff		 lea	 eax, DWORD PTR _SystemMessage$[ebp]
  00026	50		 push	 eax
  00027	e8 00 00 00 00	 call	 _memset
  0002c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 608  : 
; 609  : 	//构造数据
; 610  : 	SystemMessage.wType=wType;

  0002f	66 8b 45 10	 mov	 ax, WORD PTR _wType$[ebp]
  00033	66 89 85 f4 fb
	ff ff		 mov	 WORD PTR _SystemMessage$[ebp], ax

; 611  : 	SystemMessage.wLength=lstrlen(lpszMessage)+1;

  0003a	8b 45 0c	 mov	 eax, DWORD PTR _lpszMessage$[ebp]
  0003d	50		 push	 eax
  0003e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00044	83 c0 01	 add	 eax, 1
  00047	66 89 85 f6 fb
	ff ff		 mov	 WORD PTR _SystemMessage$[ebp+2], ax

; 612  : 	lstrcpyn(SystemMessage.szString,lpszMessage,CountArray(SystemMessage.szString));

  0004e	68 00 04 00 00	 push	 1024			; 00000400H
  00053	8b 45 0c	 mov	 eax, DWORD PTR _lpszMessage$[ebp]
  00056	50		 push	 eax
  00057	8d 8d f8 fb ff
	ff		 lea	 ecx, DWORD PTR _SystemMessage$[ebp+4]
  0005d	51		 push	 ecx
  0005e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 613  : 
; 614  : 	//数据属性
; 615  : 	WORD wHeadSize=sizeof(SystemMessage)-sizeof(SystemMessage.szString);

  00064	b8 04 00 00 00	 mov	 eax, 4
  00069	66 89 85 f0 fb
	ff ff		 mov	 WORD PTR _wHeadSize$[ebp], ax

; 616  : 	WORD wSendSize=wHeadSize+CountStringBuffer(SystemMessage.szString);

  00070	0f b7 b5 f0 fb
	ff ff		 movzx	 esi, WORD PTR _wHeadSize$[ebp]
  00077	8d 85 f8 fb ff
	ff		 lea	 eax, DWORD PTR _SystemMessage$[ebp+4]
  0007d	50		 push	 eax
  0007e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00084	8d 4c 06 01	 lea	 ecx, DWORD PTR [esi+eax+1]
  00088	66 89 8d ec fb
	ff ff		 mov	 WORD PTR _wSendSize$[ebp], cx

; 617  : 
; 618  : 	//发送数据
; 619  : 	m_pITCPNetworkEngine->SendData(dwSocketID,MDM_GC_USER,SUB_GC_SYSTEM_MESSAGE,&SystemMessage,wSendSize);

  0008f	0f b7 85 ec fb
	ff ff		 movzx	 eax, WORD PTR _wSendSize$[ebp]
  00096	50		 push	 eax
  00097	8d 8d f4 fb ff
	ff		 lea	 ecx, DWORD PTR _SystemMessage$[ebp]
  0009d	51		 push	 ecx
  0009e	68 91 01 00 00	 push	 401			; 00000191H
  000a3	6a 03		 push	 3
  000a5	8b 55 08	 mov	 edx, DWORD PTR _dwSocketID$[ebp]
  000a8	52		 push	 edx
  000a9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ac	8b 88 e4 00 00
	00		 mov	 ecx, DWORD PTR [eax+228]
  000b2	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b5	8b 01		 mov	 eax, DWORD PTR [ecx]
  000b7	8b 8a e4 00 00
	00		 mov	 ecx, DWORD PTR [edx+228]
  000bd	8b 50 20	 mov	 edx, DWORD PTR [eax+32]
  000c0	ff d2		 call	 edx

; 620  : 
; 621  : 	return true;

  000c2	b0 01		 mov	 al, 1

; 622  : }

  000c4	5f		 pop	 edi
  000c5	5e		 pop	 esi
  000c6	5b		 pop	 ebx
  000c7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000ca	33 cd		 xor	 ecx, ebp
  000cc	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000d1	8b e5		 mov	 esp, ebp
  000d3	5d		 pop	 ebp
  000d4	c2 0c 00	 ret	 12			; 0000000cH
?SendSystemMessage@CAttemperEngineSink@@IAE_NKPBDG@Z ENDP ; CAttemperEngineSink::SendSystemMessage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendSystemMessage@CAttemperEngineSink@@IAE_NPBDG@Z
_TEXT	SEGMENT
_wSendSize$ = -1044					; size = 2
_wHeadSize$ = -1040					; size = 2
_SystemMessage$ = -1036					; size = 1028
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpszMessage$ = 8					; size = 4
_wType$ = 12						; size = 2
?SendSystemMessage@CAttemperEngineSink@@IAE_NPBDG@Z PROC ; CAttemperEngineSink::SendSystemMessage, COMDAT
; _this$ = ecx

; 582  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 04 00
	00		 sub	 esp, 1236		; 000004d4H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 583  : 	//变量定义
; 584  : 	CMD_GC_S_SystemMessage SystemMessage;
; 585  : 	ZeroMemory(&SystemMessage,sizeof(SystemMessage));

  00019	68 04 04 00 00	 push	 1028			; 00000404H
  0001e	6a 00		 push	 0
  00020	8d 85 f4 fb ff
	ff		 lea	 eax, DWORD PTR _SystemMessage$[ebp]
  00026	50		 push	 eax
  00027	e8 00 00 00 00	 call	 _memset
  0002c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 586  : 
; 587  : 	//构造数据
; 588  : 	SystemMessage.wType=wType;

  0002f	66 8b 45 0c	 mov	 ax, WORD PTR _wType$[ebp]
  00033	66 89 85 f4 fb
	ff ff		 mov	 WORD PTR _SystemMessage$[ebp], ax

; 589  : 	SystemMessage.wLength=lstrlen(lpszMessage)+1;

  0003a	8b 45 08	 mov	 eax, DWORD PTR _lpszMessage$[ebp]
  0003d	50		 push	 eax
  0003e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00044	83 c0 01	 add	 eax, 1
  00047	66 89 85 f6 fb
	ff ff		 mov	 WORD PTR _SystemMessage$[ebp+2], ax

; 590  : 	lstrcpyn(SystemMessage.szString,lpszMessage,CountArray(SystemMessage.szString));

  0004e	68 00 04 00 00	 push	 1024			; 00000400H
  00053	8b 45 08	 mov	 eax, DWORD PTR _lpszMessage$[ebp]
  00056	50		 push	 eax
  00057	8d 8d f8 fb ff
	ff		 lea	 ecx, DWORD PTR _SystemMessage$[ebp+4]
  0005d	51		 push	 ecx
  0005e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 591  : 
; 592  : 	//数据属性
; 593  : 	WORD wHeadSize=sizeof(SystemMessage)-sizeof(SystemMessage.szString);

  00064	b8 04 00 00 00	 mov	 eax, 4
  00069	66 89 85 f0 fb
	ff ff		 mov	 WORD PTR _wHeadSize$[ebp], ax

; 594  : 	WORD wSendSize=wHeadSize+CountStringBuffer(SystemMessage.szString);

  00070	0f b7 b5 f0 fb
	ff ff		 movzx	 esi, WORD PTR _wHeadSize$[ebp]
  00077	8d 85 f8 fb ff
	ff		 lea	 eax, DWORD PTR _SystemMessage$[ebp+4]
  0007d	50		 push	 eax
  0007e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00084	8d 4c 06 01	 lea	 ecx, DWORD PTR [esi+eax+1]
  00088	66 89 8d ec fb
	ff ff		 mov	 WORD PTR _wSendSize$[ebp], cx

; 595  : 
; 596  : 	//发送数据
; 597  : 	m_pITCPNetworkEngine->SendDataBatch(MDM_GC_USER,SUB_GC_SYSTEM_MESSAGE,&SystemMessage,wSendSize,0xFF);

  0008f	68 ff 00 00 00	 push	 255			; 000000ffH
  00094	0f b7 85 ec fb
	ff ff		 movzx	 eax, WORD PTR _wSendSize$[ebp]
  0009b	50		 push	 eax
  0009c	8d 8d f4 fb ff
	ff		 lea	 ecx, DWORD PTR _SystemMessage$[ebp]
  000a2	51		 push	 ecx
  000a3	68 91 01 00 00	 push	 401			; 00000191H
  000a8	6a 03		 push	 3
  000aa	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000ad	8b 82 e4 00 00
	00		 mov	 eax, DWORD PTR [edx+228]
  000b3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000b6	8b 10		 mov	 edx, DWORD PTR [eax]
  000b8	8b 89 e4 00 00
	00		 mov	 ecx, DWORD PTR [ecx+228]
  000be	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  000c1	ff d0		 call	 eax

; 598  : 
; 599  : 	return true;

  000c3	b0 01		 mov	 al, 1

; 600  : }

  000c5	5f		 pop	 edi
  000c6	5e		 pop	 esi
  000c7	5b		 pop	 ebx
  000c8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000cb	33 cd		 xor	 ecx, ebp
  000cd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000d2	8b e5		 mov	 esp, ebp
  000d4	5d		 pop	 ebp
  000d5	c2 08 00	 ret	 8
?SendSystemMessage@CAttemperEngineSink@@IAE_NPBDG@Z ENDP ; CAttemperEngineSink::SendSystemMessage
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendChatServerConfig@CAttemperEngineSink@@IAE_NK@Z
_TEXT	SEGMENT
_ConfigServer$ = -24					; size = 13
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_dwUserID$ = 8						; size = 4
?SendChatServerConfig@CAttemperEngineSink@@IAE_NK@Z PROC ; CAttemperEngineSink::SendChatServerConfig, COMDAT
; _this$ = ecx

; 570  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 58	 sub	 esp, 88			; 00000058H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	57		 push	 edi
  00013	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 571  : 	CMD_GC_ConfigServer ConfigServer;
; 572  : 	ZeroMemory(&ConfigServer,sizeof(ConfigServer));

  00016	6a 0d		 push	 13			; 0000000dH
  00018	6a 00		 push	 0
  0001a	8d 45 e8	 lea	 eax, DWORD PTR _ConfigServer$[ebp]
  0001d	50		 push	 eax
  0001e	e8 00 00 00 00	 call	 _memset
  00023	83 c4 0c	 add	 esp, 12			; 0000000cH

; 573  : 	ConfigServer.wMaxPlayer=m_pInitParameter->m_wMaxPlayer;

  00026	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00029	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  0002c	66 8b 51 14	 mov	 dx, WORD PTR [ecx+20]
  00030	66 89 55 e9	 mov	 WORD PTR _ConfigServer$[ebp+1], dx

; 574  : 	ConfigServer.dwServiceRule=m_pInitParameter->m_dwServiceRule;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  0003a	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  0003d	89 55 f1	 mov	 DWORD PTR _ConfigServer$[ebp+9], edx

; 575  : 	ConfigServer.cbMinOrder=m_pInitParameter->m_cbMinOrder;

  00040	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00043	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00046	8a 51 16	 mov	 dl, BYTE PTR [ecx+22]
  00049	88 55 e8	 mov	 BYTE PTR _ConfigServer$[ebp], dl

; 576  : 	//SendData(pIServerUserItem,MDM_GC_CONFIG,SUB_GC_CONFIG_SERVER,&ConfigServer,sizeof(ConfigServer));
; 577  : 	return true;

  0004c	b0 01		 mov	 al, 1

; 578  : }

  0004e	5f		 pop	 edi
  0004f	5e		 pop	 esi
  00050	5b		 pop	 ebx
  00051	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00054	33 cd		 xor	 ecx, ebp
  00056	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0005b	8b e5		 mov	 esp, ebp
  0005d	5d		 pop	 ebp
  0005e	c2 04 00	 ret	 4
?SendChatServerConfig@CAttemperEngineSink@@IAE_NK@Z ENDP ; CAttemperEngineSink::SendChatServerConfig
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_dwSocketID$ = 8					; size = 4
_wMainCmdID$ = 12					; size = 2
_wSubCmdID$ = 16					; size = 2
_pData$ = 20						; size = 4
_wDataSize$ = 24					; size = 2
?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z PROC	; CAttemperEngineSink::SendData, COMDAT
; _this$ = ecx

; 560  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 561  : 	//发送数据MAX_CONTENT
; 562  : 	m_pITCPNetworkEngine->SendData(dwSocketID, wMainCmdID, wSubCmdID, pData, wDataSize);

  0000c	0f b7 45 18	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00010	50		 push	 eax
  00011	8b 4d 14	 mov	 ecx, DWORD PTR _pData$[ebp]
  00014	51		 push	 ecx
  00015	0f b7 55 10	 movzx	 edx, WORD PTR _wSubCmdID$[ebp]
  00019	52		 push	 edx
  0001a	0f b7 45 0c	 movzx	 eax, WORD PTR _wMainCmdID$[ebp]
  0001e	50		 push	 eax
  0001f	8b 4d 08	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00022	51		 push	 ecx
  00023	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00026	8b 82 e4 00 00
	00		 mov	 eax, DWORD PTR [edx+228]
  0002c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0002f	8b 10		 mov	 edx, DWORD PTR [eax]
  00031	8b 89 e4 00 00
	00		 mov	 ecx, DWORD PTR [ecx+228]
  00037	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  0003a	ff d0		 call	 eax

; 563  : 
; 564  : 	return true;

  0003c	b0 01		 mov	 al, 1

; 565  : }

  0003e	5f		 pop	 edi
  0003f	5e		 pop	 esi
  00040	5b		 pop	 ebx
  00041	8b e5		 mov	 esp, ebp
  00043	5d		 pop	 ebp
  00044	c2 14 00	 ret	 20			; 00000014H
?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ENDP	; CAttemperEngineSink::SendData
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_wHeadSize$ = -840					; size = 2
_wDataSize2$ = -836					; size = 2
_InviteGameEcho$ = -832					; size = 132
_UserShareNotify$ = -700				; size = 260
_wHeadSize$1 = -440					; size = 2
_wDataSize$2 = -436					; size = 2
_InviteGameEcho$3 = -432				; size = 132
_wHeadSize$4 = -300					; size = 2
_wDataSize$5 = -296					; size = 2
_InviteGameEcho$6 = -292				; size = 132
_pSharedUserItem$ = -160				; size = 4
_wHeadSize$7 = -156					; size = 2
_wDataSize$8 = -152					; size = 2
_InviteGameEcho$9 = -148				; size = 132
_pServerUserItem$ = -16					; size = 4
_pUserShare$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubUserShare, COMDAT
; _this$ = ecx

; 1537 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c8 03 00
	00		 sub	 esp, 968		; 000003c8H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1538 : 	//效验参数
; 1539 : 	ASSERT(wDataSize<=sizeof(CMD_GC_UserShare));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d 08 01 00 00	 cmp	 eax, 264		; 00000108H
  00022	76 19		 jbe	 SHORT $LN7@OnTCPNetwo
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN7@OnTCPNetwo
  0003c	cc		 int	 3
$LN7@OnTCPNetwo:

; 1540 : 	if (wDataSize>sizeof(CMD_GC_UserShare)) return false;

  0003d	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d 08 01 00 00	 cmp	 eax, 264		; 00000108H
  00046	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  00048	32 c0		 xor	 al, al
  0004a	e9 48 03 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 1541 : 
; 1542 : 	//处理消息
; 1543 : 	CMD_GC_UserShare * pUserShare=(CMD_GC_UserShare *)pData;

  0004f	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pUserShare$[ebp], eax

; 1544 : 	ASSERT(pUserShare!=NULL);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pUserShare$[ebp], 0
  00059	75 18		 jne	 SHORT $LN8@OnTCPNetwo
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN8@OnTCPNetwo
  00072	cc		 int	 3
$LN8@OnTCPNetwo:

; 1545 : 
; 1546 : 	//查找用户
; 1547 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pUserShare->dwUserID);

  00073	8b 45 f4	 mov	 eax, DWORD PTR _pUserShare$[ebp]
  00076	8b 08		 mov	 ecx, DWORD PTR [eax]
  00078	51		 push	 ecx
  00079	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0007c	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0007f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00082	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00085	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00088	ff d2		 call	 edx
  0008a	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1548 : 	ASSERT(pServerUserItem!=NULL);

  0008d	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00091	75 18		 jne	 SHORT $LN9@OnTCPNetwo
  00093	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00098	83 c0 0b	 add	 eax, 11			; 0000000bH
  0009b	50		 push	 eax
  0009c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000a1	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000a6	85 c0		 test	 eax, eax
  000a8	74 01		 je	 SHORT $LN9@OnTCPNetwo
  000aa	cc		 int	 3
$LN9@OnTCPNetwo:

; 1549 : 	if(pServerUserItem==NULL ) 

  000ab	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000af	0f 85 8c 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 1550 : 	{
; 1551 : 		//邀请反馈
; 1552 : 		CMD_GC_UserShareEcho InviteGameEcho;
; 1553 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  000b5	68 84 00 00 00	 push	 132			; 00000084H
  000ba	6a 00		 push	 0
  000bc	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp]
  000c2	50		 push	 eax
  000c3	e8 00 00 00 00	 call	 _memset
  000c8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1554 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  000cb	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$9[ebp], 1

; 1555 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("信息超时"),CountArray(InviteGameEcho.szDescribeString));

  000d5	68 80 00 00 00	 push	 128			; 00000080H
  000da	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000df	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp+4]
  000e5	50		 push	 eax
  000e6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1556 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  000ec	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp+4]
  000f2	50		 push	 eax
  000f3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000f9	83 c0 01	 add	 eax, 1
  000fc	66 89 85 68 ff
	ff ff		 mov	 WORD PTR _wDataSize$8[ebp], ax

; 1557 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  00103	b8 04 00 00 00	 mov	 eax, 4
  00108	66 89 85 64 ff
	ff ff		 mov	 WORD PTR _wHeadSize$7[ebp], ax

; 1558 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_USER_SHARE_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  0010f	0f b7 85 64 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$7[ebp]
  00116	0f b7 8d 68 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$8[ebp]
  0011d	03 c1		 add	 eax, ecx
  0011f	50		 push	 eax
  00120	8d 95 6c ff ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$9[ebp]
  00126	52		 push	 edx
  00127	68 38 01 00 00	 push	 312			; 00000138H
  0012c	6a 03		 push	 3
  0012e	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00131	50		 push	 eax
  00132	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00135	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1559 : 
; 1560 : 		return false;

  0013a	32 c0		 xor	 al, al
  0013c	e9 56 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1561 : 	}
; 1562 : 
; 1563 : 	//查找用户
; 1564 : 	CServerUserItem * pSharedUserItem = m_ServerUserManager.SearchUserItem(pUserShare->dwSharedUserID);

  00141	8b 45 f4	 mov	 eax, DWORD PTR _pUserShare$[ebp]
  00144	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00147	51		 push	 ecx
  00148	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0014b	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0014e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00151	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00154	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00157	ff d2		 call	 edx
  00159	89 85 60 ff ff
	ff		 mov	 DWORD PTR _pSharedUserItem$[ebp], eax

; 1565 : 	if(pSharedUserItem==NULL ) 

  0015f	83 bd 60 ff ff
	ff 00		 cmp	 DWORD PTR _pSharedUserItem$[ebp], 0
  00166	0f 85 8c 00 00
	00		 jne	 $LN4@OnTCPNetwo

; 1566 : 	{
; 1567 : 		//邀请反馈
; 1568 : 		CMD_GC_UserShareEcho InviteGameEcho;
; 1569 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  0016c	68 84 00 00 00	 push	 132			; 00000084H
  00171	6a 00		 push	 0
  00173	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp]
  00179	50		 push	 eax
  0017a	e8 00 00 00 00	 call	 _memset
  0017f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1570 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  00182	c7 85 dc fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$6[ebp], 1

; 1571 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("未找到此用户"),CountArray(InviteGameEcho.szDescribeString));

  0018c	68 80 00 00 00	 push	 128			; 00000080H
  00191	68 00 00 00 00	 push	 OFFSET ??_C@_0N@CHHLMELJ@?N?$LE?U?R?$LF?$LN?$LE?K?S?C?$LL?$KH@
  00196	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp+4]
  0019c	50		 push	 eax
  0019d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1572 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  001a3	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp+4]
  001a9	50		 push	 eax
  001aa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001b0	83 c0 01	 add	 eax, 1
  001b3	66 89 85 d8 fe
	ff ff		 mov	 WORD PTR _wDataSize$5[ebp], ax

; 1573 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  001ba	b8 04 00 00 00	 mov	 eax, 4
  001bf	66 89 85 d4 fe
	ff ff		 mov	 WORD PTR _wHeadSize$4[ebp], ax

; 1574 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_USER_SHARE_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  001c6	0f b7 85 d4 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$4[ebp]
  001cd	0f b7 8d d8 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$5[ebp]
  001d4	03 c1		 add	 eax, ecx
  001d6	50		 push	 eax
  001d7	8d 95 dc fe ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$6[ebp]
  001dd	52		 push	 edx
  001de	68 38 01 00 00	 push	 312			; 00000138H
  001e3	6a 03		 push	 3
  001e5	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  001e8	50		 push	 eax
  001e9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001ec	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1575 : 
; 1576 : 		return true;

  001f1	b0 01		 mov	 al, 1
  001f3	e9 9f 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN4@OnTCPNetwo:

; 1577 : 	}
; 1578 : 
; 1579 : 	//离线检查
; 1580 : 	if(pSharedUserItem->GetMainStatus()==FRIEND_US_OFFLINE) 

  001f8	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _pSharedUserItem$[ebp]
  001fe	8b 10		 mov	 edx, DWORD PTR [eax]
  00200	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR _pSharedUserItem$[ebp]
  00206	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00209	ff d0		 call	 eax
  0020b	0f b6 c8	 movzx	 ecx, al
  0020e	85 c9		 test	 ecx, ecx
  00210	0f 85 8c 00 00
	00		 jne	 $LN5@OnTCPNetwo

; 1581 : 	{
; 1582 : 		//邀请反馈
; 1583 : 		CMD_GC_UserShareEcho InviteGameEcho;
; 1584 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  00216	68 84 00 00 00	 push	 132			; 00000084H
  0021b	6a 00		 push	 0
  0021d	8d 85 50 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp]
  00223	50		 push	 eax
  00224	e8 00 00 00 00	 call	 _memset
  00229	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1585 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  0022c	c7 85 50 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$3[ebp], 1

; 1586 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("用户已经离线"),CountArray(InviteGameEcho.szDescribeString));

  00236	68 80 00 00 00	 push	 128			; 00000080H
  0023b	68 00 00 00 00	 push	 OFFSET ??_C@_0N@KFADCKOF@?S?C?$LL?$KH?R?Q?$LO?$KN?$MA?k?O?$NP@
  00240	8d 85 54 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp+4]
  00246	50		 push	 eax
  00247	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1587 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  0024d	8d 85 54 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp+4]
  00253	50		 push	 eax
  00254	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0025a	83 c0 01	 add	 eax, 1
  0025d	66 89 85 4c fe
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 1588 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  00264	b8 04 00 00 00	 mov	 eax, 4
  00269	66 89 85 48 fe
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 1589 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_USER_SHARE_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  00270	0f b7 85 48 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  00277	0f b7 8d 4c fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  0027e	03 c1		 add	 eax, ecx
  00280	50		 push	 eax
  00281	8d 95 50 fe ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$3[ebp]
  00287	52		 push	 edx
  00288	68 38 01 00 00	 push	 312			; 00000138H
  0028d	6a 03		 push	 3
  0028f	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00292	50		 push	 eax
  00293	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00296	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1590 : 		return true;

  0029b	b0 01		 mov	 al, 1
  0029d	e9 f5 00 00 00	 jmp	 $LN1@OnTCPNetwo
$LN5@OnTCPNetwo:

; 1591 : 	}
; 1592 : 
; 1593 : 	//发送邀请
; 1594 : 	CMD_GC_UserShareNotify UserShareNotify;
; 1595 : 	UserShareNotify.dwShareUserID=pUserShare->dwUserID;

  002a2	8b 45 f4	 mov	 eax, DWORD PTR _pUserShare$[ebp]
  002a5	8b 08		 mov	 ecx, DWORD PTR [eax]
  002a7	89 8d 44 fd ff
	ff		 mov	 DWORD PTR _UserShareNotify$[ebp], ecx

; 1596 : 	lstrcpyn(UserShareNotify.szShareImageAddr,pUserShare->szShareImageAddr,CountArray(UserShareNotify.szShareImageAddr));

  002ad	68 80 00 00 00	 push	 128			; 00000080H
  002b2	8b 45 f4	 mov	 eax, DWORD PTR _pUserShare$[ebp]
  002b5	83 c0 08	 add	 eax, 8
  002b8	50		 push	 eax
  002b9	8d 8d 48 fd ff
	ff		 lea	 ecx, DWORD PTR _UserShareNotify$[ebp+4]
  002bf	51		 push	 ecx
  002c0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1597 : 	lstrcpyn(UserShareNotify.szMessageContent,pUserShare->szMessageContent,CountArray(UserShareNotify.szMessageContent));

  002c6	68 80 00 00 00	 push	 128			; 00000080H
  002cb	8b 45 f4	 mov	 eax, DWORD PTR _pUserShare$[ebp]
  002ce	05 88 00 00 00	 add	 eax, 136		; 00000088H
  002d3	50		 push	 eax
  002d4	8d 8d c8 fd ff
	ff		 lea	 ecx, DWORD PTR _UserShareNotify$[ebp+132]
  002da	51		 push	 ecx
  002db	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1598 : 
; 1599 : 	//发送数据
; 1600 : 	SendData(((CLocalUserItem *)pSharedUserItem)->GetSocketID(),MDM_GC_USER,SUB_GC_USER_SHARE_NOTIFY,&UserShareNotify,sizeof(UserShareNotify));

  002e1	68 04 01 00 00	 push	 260			; 00000104H
  002e6	8d 85 44 fd ff
	ff		 lea	 eax, DWORD PTR _UserShareNotify$[ebp]
  002ec	50		 push	 eax
  002ed	68 d4 00 00 00	 push	 212			; 000000d4H
  002f2	6a 03		 push	 3
  002f4	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR _pSharedUserItem$[ebp]
  002fa	8b 11		 mov	 edx, DWORD PTR [ecx]
  002fc	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR _pSharedUserItem$[ebp]
  00302	8b 42 38	 mov	 eax, DWORD PTR [edx+56]
  00305	ff d0		 call	 eax
  00307	50		 push	 eax
  00308	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0030b	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1601 : 
; 1602 : 	//回应反馈
; 1603 : 	CMD_GC_UserShareEcho InviteGameEcho;
; 1604 : 	ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  00310	68 84 00 00 00	 push	 132			; 00000084H
  00315	6a 00		 push	 0
  00317	8d 85 c0 fc ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp]
  0031d	50		 push	 eax
  0031e	e8 00 00 00 00	 call	 _memset
  00323	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1605 : 	InviteGameEcho.lErrorCode=CHAT_MSG_OK;

  00326	c7 85 c0 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR _InviteGameEcho$[ebp], 0

; 1606 : 	lstrcpyn(InviteGameEcho.szDescribeString,_T(""),CountArray(InviteGameEcho.szDescribeString));

  00330	68 80 00 00 00	 push	 128			; 00000080H
  00335	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  0033a	8d 85 c4 fc ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp+4]
  00340	50		 push	 eax
  00341	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1607 : 	WORD wDataSize2=CountStringBuffer(InviteGameEcho.szDescribeString);

  00347	8d 85 c4 fc ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp+4]
  0034d	50		 push	 eax
  0034e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00354	83 c0 01	 add	 eax, 1
  00357	66 89 85 bc fc
	ff ff		 mov	 WORD PTR _wDataSize2$[ebp], ax

; 1608 : 	WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  0035e	b8 04 00 00 00	 mov	 eax, 4
  00363	66 89 85 b8 fc
	ff ff		 mov	 WORD PTR _wHeadSize$[ebp], ax

; 1609 : 	SendData(dwSocketID,MDM_GC_USER,SUB_GC_USER_SHARE_ECHO,&InviteGameEcho,wHeadSize+wDataSize2);

  0036a	0f b7 85 b8 fc
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$[ebp]
  00371	0f b7 8d bc fc
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$[ebp]
  00378	03 c1		 add	 eax, ecx
  0037a	50		 push	 eax
  0037b	8d 95 c0 fc ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$[ebp]
  00381	52		 push	 edx
  00382	68 38 01 00 00	 push	 312			; 00000138H
  00387	6a 03		 push	 3
  00389	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0038c	50		 push	 eax
  0038d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00390	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1610 : 
; 1611 : 
; 1612 : 	return true;

  00395	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 1613 : }

  00397	5f		 pop	 edi
  00398	5e		 pop	 esi
  00399	5b		 pop	 ebx
  0039a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0039d	33 cd		 xor	 ecx, ebp
  0039f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003a4	8b e5		 mov	 esp, ebp
  003a6	5d		 pop	 ebp
  003a7	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubUserShare
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
$T2 = -753						; size = 1
_wHeadSize$3 = -624					; size = 2
_wDataSize$4 = -620					; size = 2
_Echo$5 = -616						; size = 132
_pUserInfo$6 = -484					; size = 4
_Nearuser$ = -480					; size = 143
_NearUserManager$ = -336				; size = 24
_wHeadSize$7 = -312					; size = 2
_wDataSize$8 = -308					; size = 2
_Echo$9 = -304						; size = 132
_pNearuserUserItem$ = -172				; size = 4
_wHeadSize$10 = -168					; size = 2
_wDataSize$11 = -164					; size = 2
_Echo$12 = -160						; size = 132
_pServerUserItem$ = -28					; size = 4
_pQueryNearuser$ = -24					; size = 4
_this$ = -20						; size = 4
__$ArrayPad$ = -16					; size = 4
__$EHRec$ = -12						; size = 12
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkQueryNearuser, COMDAT
; _this$ = ecx

; 1472 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	81 ec e8 02 00
	00		 sub	 esp, 744		; 000002e8H
  00017	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001c	33 c5		 xor	 eax, ebp
  0001e	89 45 f0	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00021	53		 push	 ebx
  00022	56		 push	 esi
  00023	57		 push	 edi
  00024	50		 push	 eax
  00025	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00028	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0002e	89 4d ec	 mov	 DWORD PTR _this$[ebp], ecx

; 1473 : 	//效验参数
; 1474 : 	ASSERT(wDataSize<=sizeof(CMD_GC_Query_Nearuser));

  00031	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00035	83 f8 08	 cmp	 eax, 8
  00038	76 19		 jbe	 SHORT $LN7@OnTCPNetwo
  0003a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00040	83 c1 02	 add	 ecx, 2
  00043	51		 push	 ecx
  00044	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00049	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0004e	85 c0		 test	 eax, eax
  00050	74 01		 je	 SHORT $LN7@OnTCPNetwo
  00052	cc		 int	 3
$LN7@OnTCPNetwo:

; 1475 : 	if (wDataSize>sizeof(CMD_GC_Query_Nearuser)) return false;

  00053	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00057	83 f8 08	 cmp	 eax, 8
  0005a	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  0005c	32 c0		 xor	 al, al
  0005e	e9 03 03 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 1476 : 
; 1477 : 	//处理消息
; 1478 : 	CMD_GC_Query_Nearuser * pQueryNearuser=(CMD_GC_Query_Nearuser *)pData;

  00063	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  00066	89 45 e8	 mov	 DWORD PTR _pQueryNearuser$[ebp], eax

; 1479 : 	ASSERT(pQueryNearuser!=NULL);

  00069	83 7d e8 00	 cmp	 DWORD PTR _pQueryNearuser$[ebp], 0
  0006d	75 18		 jne	 SHORT $LN8@OnTCPNetwo
  0006f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00074	83 c0 07	 add	 eax, 7
  00077	50		 push	 eax
  00078	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0007d	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00082	85 c0		 test	 eax, eax
  00084	74 01		 je	 SHORT $LN8@OnTCPNetwo
  00086	cc		 int	 3
$LN8@OnTCPNetwo:

; 1480 : 
; 1481 : 	//查找用户
; 1482 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pQueryNearuser->dwUserID);

  00087	8b 45 e8	 mov	 eax, DWORD PTR _pQueryNearuser$[ebp]
  0008a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0008c	51		 push	 ecx
  0008d	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00090	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00093	8b 55 ec	 mov	 edx, DWORD PTR _this$[ebp]
  00096	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00099	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0009c	ff d2		 call	 edx
  0009e	89 45 e4	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1483 : 	ASSERT(pServerUserItem!=NULL);

  000a1	83 7d e4 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000a5	75 18		 jne	 SHORT $LN9@OnTCPNetwo
  000a7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  000ac	83 c0 0b	 add	 eax, 11			; 0000000bH
  000af	50		 push	 eax
  000b0	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000b5	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000ba	85 c0		 test	 eax, eax
  000bc	74 01		 je	 SHORT $LN9@OnTCPNetwo
  000be	cc		 int	 3
$LN9@OnTCPNetwo:

; 1484 : 	if(pServerUserItem==NULL ) 

  000bf	83 7d e4 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000c3	0f 85 8c 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 1485 : 	{
; 1486 : 		CMD_GC_Query_NearuserEcho Echo;
; 1487 : 		ZeroMemory(&Echo,sizeof(Echo));

  000c9	68 84 00 00 00	 push	 132			; 00000084H
  000ce	6a 00		 push	 0
  000d0	8d 85 60 ff ff
	ff		 lea	 eax, DWORD PTR _Echo$12[ebp]
  000d6	50		 push	 eax
  000d7	e8 00 00 00 00	 call	 _memset
  000dc	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1488 : 		Echo.lErrorCode=CHAT_MSG_ERR;

  000df	c7 85 60 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _Echo$12[ebp], 1

; 1489 : 		lstrcpyn(Echo.szDescribeString,_T("信息超时"),CountArray(Echo.szDescribeString));

  000e9	68 80 00 00 00	 push	 128			; 00000080H
  000ee	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000f3	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _Echo$12[ebp+4]
  000f9	50		 push	 eax
  000fa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1490 : 		WORD wDataSize=CountStringBuffer(Echo.szDescribeString);

  00100	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _Echo$12[ebp+4]
  00106	50		 push	 eax
  00107	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0010d	83 c0 01	 add	 eax, 1
  00110	66 89 85 5c ff
	ff ff		 mov	 WORD PTR _wDataSize$11[ebp], ax

; 1491 : 		WORD wHeadSize=sizeof(Echo)-sizeof(Echo.szDescribeString);

  00117	b8 04 00 00 00	 mov	 eax, 4
  0011c	66 89 85 58 ff
	ff ff		 mov	 WORD PTR _wHeadSize$10[ebp], ax

; 1492 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_QUERY_NEARUSER_ECHO,&Echo,wHeadSize+wDataSize);

  00123	0f b7 85 58 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$10[ebp]
  0012a	0f b7 8d 5c ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$11[ebp]
  00131	03 c1		 add	 eax, ecx
  00133	50		 push	 eax
  00134	8d 95 60 ff ff
	ff		 lea	 edx, DWORD PTR _Echo$12[ebp]
  0013a	52		 push	 edx
  0013b	68 37 01 00 00	 push	 311			; 00000137H
  00140	6a 03		 push	 3
  00142	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00145	50		 push	 eax
  00146	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00149	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1493 : 		return false;

  0014e	32 c0		 xor	 al, al
  00150	e9 11 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1494 : 	}
; 1495 : 	CServerUserItem * pNearuserUserItem = m_ServerUserManager.SearchUserItem(pQueryNearuser->dwNearuserUserID);

  00155	8b 45 e8	 mov	 eax, DWORD PTR _pQueryNearuser$[ebp]
  00158	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0015b	51		 push	 ecx
  0015c	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0015f	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00162	8b 55 ec	 mov	 edx, DWORD PTR _this$[ebp]
  00165	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00168	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0016b	ff d2		 call	 edx
  0016d	89 85 54 ff ff
	ff		 mov	 DWORD PTR _pNearuserUserItem$[ebp], eax

; 1496 : 	if(pNearuserUserItem==NULL ) 

  00173	83 bd 54 ff ff
	ff 00		 cmp	 DWORD PTR _pNearuserUserItem$[ebp], 0
  0017a	0f 85 8c 00 00
	00		 jne	 $LN4@OnTCPNetwo

; 1497 : 	{
; 1498 : 		CMD_GC_Query_NearuserEcho Echo;
; 1499 : 		ZeroMemory(&Echo,sizeof(Echo));

  00180	68 84 00 00 00	 push	 132			; 00000084H
  00185	6a 00		 push	 0
  00187	8d 85 d0 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$9[ebp]
  0018d	50		 push	 eax
  0018e	e8 00 00 00 00	 call	 _memset
  00193	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1500 : 		Echo.lErrorCode=CHAT_MSG_ERR;

  00196	c7 85 d0 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _Echo$9[ebp], 1

; 1501 : 		lstrcpyn(Echo.szDescribeString,_T("请求失败，对方已经离线"),CountArray(Echo.szDescribeString));

  001a0	68 80 00 00 00	 push	 128			; 00000080H
  001a5	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@GDPICBPP@?G?k?G?s?J?$KH?$LA?$NM?$KD?$KM?$LG?T?$LH?$LN?R?Q?$LO?$KN?$MA?k?O?$NP@
  001aa	8d 85 d4 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$9[ebp+4]
  001b0	50		 push	 eax
  001b1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1502 : 		WORD wDataSize=CountStringBuffer(Echo.szDescribeString);

  001b7	8d 85 d4 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$9[ebp+4]
  001bd	50		 push	 eax
  001be	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001c4	83 c0 01	 add	 eax, 1
  001c7	66 89 85 cc fe
	ff ff		 mov	 WORD PTR _wDataSize$8[ebp], ax

; 1503 : 		WORD wHeadSize=sizeof(Echo)-sizeof(Echo.szDescribeString);

  001ce	b8 04 00 00 00	 mov	 eax, 4
  001d3	66 89 85 c8 fe
	ff ff		 mov	 WORD PTR _wHeadSize$7[ebp], ax

; 1504 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_QUERY_NEARUSER_ECHO,&Echo,wHeadSize+wDataSize);

  001da	0f b7 85 c8 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$7[ebp]
  001e1	0f b7 8d cc fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$8[ebp]
  001e8	03 c1		 add	 eax, ecx
  001ea	50		 push	 eax
  001eb	8d 95 d0 fe ff
	ff		 lea	 edx, DWORD PTR _Echo$9[ebp]
  001f1	52		 push	 edx
  001f2	68 37 01 00 00	 push	 311			; 00000137H
  001f7	6a 03		 push	 3
  001f9	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  001fc	50		 push	 eax
  001fd	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00200	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1505 : 		return true;

  00205	b0 01		 mov	 al, 1
  00207	e9 5a 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN4@OnTCPNetwo:

; 1506 : 	}
; 1507 : 	//获取附近
; 1508 : 	CNearUserManager  NearUserManager;

  0020c	8d 8d b0 fe ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  00212	e8 00 00 00 00	 call	 ??0CNearUserManager@@QAE@XZ ; CNearUserManager::CNearUserManager
  00217	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0

; 1509 : 	m_ServerUserManager.QueryNearUserItem(pQueryNearuser->dwUserID,pQueryNearuser->dwNearuserUserID,NearUserManager);

  0021e	8d 85 b0 fe ff
	ff		 lea	 eax, DWORD PTR _NearUserManager$[ebp]
  00224	50		 push	 eax
  00225	8b 4d e8	 mov	 ecx, DWORD PTR _pQueryNearuser$[ebp]
  00228	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0022b	52		 push	 edx
  0022c	8b 45 e8	 mov	 eax, DWORD PTR _pQueryNearuser$[ebp]
  0022f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00231	51		 push	 ecx
  00232	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00235	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00238	8b 55 ec	 mov	 edx, DWORD PTR _this$[ebp]
  0023b	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0023e	8b 50 20	 mov	 edx, DWORD PTR [eax+32]
  00241	ff d2		 call	 edx

; 1510 : 	CMD_GC_Query_NearuserResult Nearuser;
; 1511 : 	Nearuser.cbUserCount = (BYTE)(NearUserManager.GetUserItemCount());

  00243	8d 8d b0 fe ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  00249	e8 00 00 00 00	 call	 ?GetUserItemCount@CNearUserManager@@UAEKXZ ; CNearUserManager::GetUserItemCount
  0024e	88 85 20 fe ff
	ff		 mov	 BYTE PTR _Nearuser$[ebp], al

; 1512 : 	ZeroMemory(&Nearuser.NearUserInfo,sizeof(Nearuser.NearUserInfo));

  00254	68 8e 00 00 00	 push	 142			; 0000008eH
  00259	6a 00		 push	 0
  0025b	8d 85 21 fe ff
	ff		 lea	 eax, DWORD PTR _Nearuser$[ebp+1]
  00261	50		 push	 eax
  00262	e8 00 00 00 00	 call	 _memset
  00267	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1513 : 	if (Nearuser.cbUserCount !=0)

  0026a	0f b6 85 20 fe
	ff ff		 movzx	 eax, BYTE PTR _Nearuser$[ebp]
  00271	85 c0		 test	 eax, eax
  00273	74 2e		 je	 SHORT $LN5@OnTCPNetwo

; 1514 : 	{
; 1515 : 		tagNearUserInfo * pUserInfo = NearUserManager.EnumUserItem(0);

  00275	6a 00		 push	 0
  00277	8d 8d b0 fe ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  0027d	e8 00 00 00 00	 call	 ?EnumUserItem@CNearUserManager@@UAEPAUtagNearUserInfo@@K@Z ; CNearUserManager::EnumUserItem
  00282	89 85 1c fe ff
	ff		 mov	 DWORD PTR _pUserInfo$6[ebp], eax

; 1516 : 		CopyMemory(&Nearuser.NearUserInfo,pUserInfo,sizeof(tagNearUserInfo));

  00288	68 8e 00 00 00	 push	 142			; 0000008eH
  0028d	8b 85 1c fe ff
	ff		 mov	 eax, DWORD PTR _pUserInfo$6[ebp]
  00293	50		 push	 eax
  00294	8d 8d 21 fe ff
	ff		 lea	 ecx, DWORD PTR _Nearuser$[ebp+1]
  0029a	51		 push	 ecx
  0029b	e8 00 00 00 00	 call	 _memcpy
  002a0	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN5@OnTCPNetwo:

; 1517 : 	}
; 1518 : 
; 1519 : 	SendData(dwSocketID,MDM_GC_USER,SUB_GC_QUERY_NEARUSER_RESULT,&Nearuser,sizeof(Nearuser));

  002a3	68 8f 00 00 00	 push	 143			; 0000008fH
  002a8	8d 85 20 fe ff
	ff		 lea	 eax, DWORD PTR _Nearuser$[ebp]
  002ae	50		 push	 eax
  002af	68 d3 00 00 00	 push	 211			; 000000d3H
  002b4	6a 03		 push	 3
  002b6	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  002b9	51		 push	 ecx
  002ba	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  002bd	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1520 : 
; 1521 : 	{
; 1522 : 		CMD_GC_Query_NearuserEcho Echo;
; 1523 : 		ZeroMemory(&Echo,sizeof(Echo));

  002c2	68 84 00 00 00	 push	 132			; 00000084H
  002c7	6a 00		 push	 0
  002c9	8d 85 98 fd ff
	ff		 lea	 eax, DWORD PTR _Echo$5[ebp]
  002cf	50		 push	 eax
  002d0	e8 00 00 00 00	 call	 _memset
  002d5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1524 : 		Echo.lErrorCode=CHAT_MSG_OK;

  002d8	c7 85 98 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _Echo$5[ebp], 0

; 1525 : 		lstrcpyn(Echo.szDescribeString,_T(""),CountArray(Echo.szDescribeString));

  002e2	68 80 00 00 00	 push	 128			; 00000080H
  002e7	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  002ec	8d 85 9c fd ff
	ff		 lea	 eax, DWORD PTR _Echo$5[ebp+4]
  002f2	50		 push	 eax
  002f3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1526 : 		WORD wDataSize=CountStringBuffer(Echo.szDescribeString);

  002f9	8d 85 9c fd ff
	ff		 lea	 eax, DWORD PTR _Echo$5[ebp+4]
  002ff	50		 push	 eax
  00300	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00306	83 c0 01	 add	 eax, 1
  00309	66 89 85 94 fd
	ff ff		 mov	 WORD PTR _wDataSize$4[ebp], ax

; 1527 : 		WORD wHeadSize=sizeof(Echo)-sizeof(Echo.szDescribeString);

  00310	b8 04 00 00 00	 mov	 eax, 4
  00315	66 89 85 90 fd
	ff ff		 mov	 WORD PTR _wHeadSize$3[ebp], ax

; 1528 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_QUERY_NEARUSER_ECHO,&Echo,wHeadSize+wDataSize);

  0031c	0f b7 85 90 fd
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$3[ebp]
  00323	0f b7 8d 94 fd
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$4[ebp]
  0032a	03 c1		 add	 eax, ecx
  0032c	50		 push	 eax
  0032d	8d 95 98 fd ff
	ff		 lea	 edx, DWORD PTR _Echo$5[ebp]
  00333	52		 push	 edx
  00334	68 37 01 00 00	 push	 311			; 00000137H
  00339	6a 03		 push	 3
  0033b	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0033e	50		 push	 eax
  0033f	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00342	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1529 : 	}
; 1530 : 
; 1531 : 
; 1532 : 	return true;

  00347	c6 85 0f fd ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  0034e	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  00355	8d 8d b0 fe ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  0035b	e8 00 00 00 00	 call	 ??1CNearUserManager@@UAE@XZ ; CNearUserManager::~CNearUserManager
  00360	8a 85 0f fd ff
	ff		 mov	 al, BYTE PTR $T2[ebp]
$LN1@OnTCPNetwo:

; 1533 : }

  00366	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00369	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00370	59		 pop	 ecx
  00371	5f		 pop	 edi
  00372	5e		 pop	 esi
  00373	5b		 pop	 ebx
  00374	8b 4d f0	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00377	33 cd		 xor	 ecx, ebp
  00379	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0037e	8b e5		 mov	 esp, ebp
  00380	5d		 pop	 ebp
  00381	c2 0c 00	 ret	 12			; 0000000cH
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z$0:
  00000	8d 8d b0 fe ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  00006	e9 00 00 00 00	 jmp	 ??1CNearUserManager@@UAE@XZ ; CNearUserManager::~CNearUserManager
__ehhandler$?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z:
  0000b	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  0000f	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00012	8b 8a 08 fd ff
	ff		 mov	 ecx, DWORD PTR [edx-760]
  00018	33 c8		 xor	 ecx, eax
  0001a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001f	8b 4a fc	 mov	 ecx, DWORD PTR [edx-4]
  00022	33 c8		 xor	 ecx, eax
  00024	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00029	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z
  0002e	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkQueryNearuser
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
tv180 = -1260						; size = 4
$T2 = -1253						; size = 1
_wHeadSize$3 = -1060					; size = 2
_wDataSize$4 = -1056					; size = 2
_Echo$5 = -1052						; size = 132
_pUserInfo$6 = -920					; size = 4
_i$7 = -916						; size = 4
_nIndex$8 = -912					; size = 4
_cbTotalUserCount$ = -905				; size = 1
_Nearuser$ = -904					; size = 711
_NearUserManager$ = -192				; size = 24
_wHeadSize$9 = -168					; size = 2
_wDataSize$10 = -164					; size = 2
_Echo$11 = -160						; size = 132
_pServerUserItem$ = -28					; size = 4
_pGetNearuser$ = -24					; size = 4
_this$ = -20						; size = 4
__$ArrayPad$ = -16					; size = 4
__$EHRec$ = -12						; size = 12
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkGetNearuser, COMDAT
; _this$ = ecx

; 1396 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	81 ec e0 04 00
	00		 sub	 esp, 1248		; 000004e0H
  00017	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001c	33 c5		 xor	 eax, ebp
  0001e	89 45 f0	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00021	53		 push	 ebx
  00022	56		 push	 esi
  00023	57		 push	 edi
  00024	50		 push	 eax
  00025	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00028	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0002e	89 4d ec	 mov	 DWORD PTR _this$[ebp], ecx

; 1397 : 	//效验参数
; 1398 : 	ASSERT(wDataSize<=sizeof(CMD_GC_Get_Nearuser));

  00031	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00035	83 f8 14	 cmp	 eax, 20			; 00000014H
  00038	76 19		 jbe	 SHORT $LN13@OnTCPNetwo
  0003a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00040	83 c1 02	 add	 ecx, 2
  00043	51		 push	 ecx
  00044	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00049	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0004e	85 c0		 test	 eax, eax
  00050	74 01		 je	 SHORT $LN13@OnTCPNetwo
  00052	cc		 int	 3
$LN13@OnTCPNetwo:

; 1399 : 	if (wDataSize>sizeof(CMD_GC_Get_Nearuser)) return false;

  00053	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00057	83 f8 14	 cmp	 eax, 20			; 00000014H
  0005a	76 07		 jbe	 SHORT $LN5@OnTCPNetwo
  0005c	32 c0		 xor	 al, al
  0005e	e9 3f 03 00 00	 jmp	 $LN1@OnTCPNetwo
$LN5@OnTCPNetwo:

; 1400 : 
; 1401 : 	//处理消息
; 1402 : 	CMD_GC_Get_Nearuser * pGetNearuser=(CMD_GC_Get_Nearuser *)pData;

  00063	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  00066	89 45 e8	 mov	 DWORD PTR _pGetNearuser$[ebp], eax

; 1403 : 	ASSERT(pGetNearuser!=NULL);

  00069	83 7d e8 00	 cmp	 DWORD PTR _pGetNearuser$[ebp], 0
  0006d	75 18		 jne	 SHORT $LN14@OnTCPNetwo
  0006f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00074	83 c0 07	 add	 eax, 7
  00077	50		 push	 eax
  00078	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0007d	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00082	85 c0		 test	 eax, eax
  00084	74 01		 je	 SHORT $LN14@OnTCPNetwo
  00086	cc		 int	 3
$LN14@OnTCPNetwo:

; 1404 : 
; 1405 : 	//查找用户
; 1406 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pGetNearuser->dwUserID);

  00087	8b 45 e8	 mov	 eax, DWORD PTR _pGetNearuser$[ebp]
  0008a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0008c	51		 push	 ecx
  0008d	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00090	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00093	8b 55 ec	 mov	 edx, DWORD PTR _this$[ebp]
  00096	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00099	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0009c	ff d2		 call	 edx
  0009e	89 45 e4	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1407 : 	if(pServerUserItem==NULL ) 

  000a1	83 7d e4 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000a5	0f 85 8c 00 00
	00		 jne	 $LN6@OnTCPNetwo

; 1408 : 	{
; 1409 : 		CMD_GC_Get_NearuserEcho Echo;
; 1410 : 		ZeroMemory(&Echo,sizeof(Echo));

  000ab	68 84 00 00 00	 push	 132			; 00000084H
  000b0	6a 00		 push	 0
  000b2	8d 85 60 ff ff
	ff		 lea	 eax, DWORD PTR _Echo$11[ebp]
  000b8	50		 push	 eax
  000b9	e8 00 00 00 00	 call	 _memset
  000be	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1411 : 		Echo.lErrorCode=CHAT_MSG_ERR;

  000c1	c7 85 60 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _Echo$11[ebp], 1

; 1412 : 		lstrcpyn(Echo.szDescribeString,_T("信息超时"),CountArray(Echo.szDescribeString));

  000cb	68 80 00 00 00	 push	 128			; 00000080H
  000d0	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000d5	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _Echo$11[ebp+4]
  000db	50		 push	 eax
  000dc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1413 : 		WORD wDataSize=CountStringBuffer(Echo.szDescribeString);

  000e2	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _Echo$11[ebp+4]
  000e8	50		 push	 eax
  000e9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000ef	83 c0 01	 add	 eax, 1
  000f2	66 89 85 5c ff
	ff ff		 mov	 WORD PTR _wDataSize$10[ebp], ax

; 1414 : 		WORD wHeadSize=sizeof(Echo)-sizeof(Echo.szDescribeString);

  000f9	b8 04 00 00 00	 mov	 eax, 4
  000fe	66 89 85 58 ff
	ff ff		 mov	 WORD PTR _wHeadSize$9[ebp], ax

; 1415 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_GET_NEARUSER_ECHO,&Echo,wHeadSize+wDataSize);

  00105	0f b7 85 58 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$9[ebp]
  0010c	0f b7 8d 5c ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$10[ebp]
  00113	03 c1		 add	 eax, ecx
  00115	50		 push	 eax
  00116	8d 95 60 ff ff
	ff		 lea	 edx, DWORD PTR _Echo$11[ebp]
  0011c	52		 push	 edx
  0011d	68 36 01 00 00	 push	 310			; 00000136H
  00122	6a 03		 push	 3
  00124	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00127	50		 push	 eax
  00128	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0012b	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1416 : 		return false;

  00130	32 c0		 xor	 al, al
  00132	e9 6b 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN6@OnTCPNetwo:

; 1417 : 	}
; 1418 : 
; 1419 : 	//获取附近
; 1420 : 	CNearUserManager  NearUserManager;

  00137	8d 8d 40 ff ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  0013d	e8 00 00 00 00	 call	 ??0CNearUserManager@@QAE@XZ ; CNearUserManager::CNearUserManager
  00142	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0

; 1421 : 	m_ServerUserManager.GetNearUserItem(pGetNearuser->dwUserID,NearUserManager);

  00149	8d 85 40 ff ff
	ff		 lea	 eax, DWORD PTR _NearUserManager$[ebp]
  0014f	50		 push	 eax
  00150	8b 4d e8	 mov	 ecx, DWORD PTR _pGetNearuser$[ebp]
  00153	8b 11		 mov	 edx, DWORD PTR [ecx]
  00155	52		 push	 edx
  00156	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00159	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0015c	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  0015f	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  00162	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00165	ff d0		 call	 eax

; 1422 : 
; 1423 : 	CMD_GC_Get_NearuserResult Nearuser;
; 1424 : 	BYTE cbTotalUserCount = (BYTE)(NearUserManager.GetUserItemCount());

  00167	8d 8d 40 ff ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  0016d	e8 00 00 00 00	 call	 ?GetUserItemCount@CNearUserManager@@UAEKXZ ; CNearUserManager::GetUserItemCount
  00172	88 85 77 fc ff
	ff		 mov	 BYTE PTR _cbTotalUserCount$[ebp], al

; 1425 : 	Nearuser.cbUserCount = cbTotalUserCount;

  00178	8a 85 77 fc ff
	ff		 mov	 al, BYTE PTR _cbTotalUserCount$[ebp]
  0017e	88 85 78 fc ff
	ff		 mov	 BYTE PTR _Nearuser$[ebp], al

; 1426 : 	ZeroMemory(&Nearuser.NearUserInfo,sizeof(Nearuser.NearUserInfo));

  00184	68 c6 02 00 00	 push	 710			; 000002c6H
  00189	6a 00		 push	 0
  0018b	8d 85 79 fc ff
	ff		 lea	 eax, DWORD PTR _Nearuser$[ebp+1]
  00191	50		 push	 eax
  00192	e8 00 00 00 00	 call	 _memset
  00197	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1427 : 	if (cbTotalUserCount !=0)

  0019a	0f b6 85 77 fc
	ff ff		 movzx	 eax, BYTE PTR _cbTotalUserCount$[ebp]
  001a1	85 c0		 test	 eax, eax
  001a3	0f 84 36 01 00
	00		 je	 $LN7@OnTCPNetwo

; 1428 : 	{
; 1429 : 		int nIndex = 0;

  001a9	c7 85 70 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR _nIndex$8[ebp], 0

; 1430 : 		for (INT i = 0;i<cbTotalUserCount;i++)

  001b3	c7 85 6c fc ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$7[ebp], 0
  001bd	eb 0f		 jmp	 SHORT $LN4@OnTCPNetwo
$LN2@OnTCPNetwo:
  001bf	8b 85 6c fc ff
	ff		 mov	 eax, DWORD PTR _i$7[ebp]
  001c5	83 c0 01	 add	 eax, 1
  001c8	89 85 6c fc ff
	ff		 mov	 DWORD PTR _i$7[ebp], eax
$LN4@OnTCPNetwo:
  001ce	0f b6 85 77 fc
	ff ff		 movzx	 eax, BYTE PTR _cbTotalUserCount$[ebp]
  001d5	39 85 6c fc ff
	ff		 cmp	 DWORD PTR _i$7[ebp], eax
  001db	0f 8d be 00 00
	00		 jge	 $LN3@OnTCPNetwo

; 1431 : 		{
; 1432 : 			tagNearUserInfo * pUserInfo = NearUserManager.EnumUserItem(i);

  001e1	8b 85 6c fc ff
	ff		 mov	 eax, DWORD PTR _i$7[ebp]
  001e7	50		 push	 eax
  001e8	8d 8d 40 ff ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  001ee	e8 00 00 00 00	 call	 ?EnumUserItem@CNearUserManager@@UAEPAUtagNearUserInfo@@K@Z ; CNearUserManager::EnumUserItem
  001f3	89 85 68 fc ff
	ff		 mov	 DWORD PTR _pUserInfo$6[ebp], eax

; 1433 : 			//距离超过忽略
; 1434 : 			if((m_pInitParameter->m_dwDistance!=0)&&(pUserInfo->dwDistance>m_pInitParameter->m_dwDistance)) continue;

  001f9	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  001fc	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  001ff	83 79 18 00	 cmp	 DWORD PTR [ecx+24], 0
  00203	74 16		 je	 SHORT $LN9@OnTCPNetwo
  00205	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00208	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  0020b	8b 95 68 fc ff
	ff		 mov	 edx, DWORD PTR _pUserInfo$6[ebp]
  00211	8b 42 65	 mov	 eax, DWORD PTR [edx+101]
  00214	3b 41 18	 cmp	 eax, DWORD PTR [ecx+24]
  00217	76 02		 jbe	 SHORT $LN9@OnTCPNetwo
  00219	eb a4		 jmp	 SHORT $LN2@OnTCPNetwo
$LN9@OnTCPNetwo:

; 1435 : 
; 1436 : 			CopyMemory(&(Nearuser.NearUserInfo[nIndex++]),pUserInfo,sizeof(tagNearUserInfo));

  0021b	69 85 70 fc ff
	ff 8e 00 00 00	 imul	 eax, DWORD PTR _nIndex$8[ebp], 142
  00225	8d 8c 05 79 fc
	ff ff		 lea	 ecx, DWORD PTR _Nearuser$[ebp+eax+1]
  0022c	89 8d 14 fb ff
	ff		 mov	 DWORD PTR tv180[ebp], ecx
  00232	68 8e 00 00 00	 push	 142			; 0000008eH
  00237	8b 95 68 fc ff
	ff		 mov	 edx, DWORD PTR _pUserInfo$6[ebp]
  0023d	52		 push	 edx
  0023e	8b 85 14 fb ff
	ff		 mov	 eax, DWORD PTR tv180[ebp]
  00244	50		 push	 eax
  00245	e8 00 00 00 00	 call	 _memcpy
  0024a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0024d	8b 8d 70 fc ff
	ff		 mov	 ecx, DWORD PTR _nIndex$8[ebp]
  00253	83 c1 01	 add	 ecx, 1
  00256	89 8d 70 fc ff
	ff		 mov	 DWORD PTR _nIndex$8[ebp], ecx

; 1437 : 			if (nIndex == MAX_FRIEND_TRANSFER)

  0025c	83 bd 70 fc ff
	ff 05		 cmp	 DWORD PTR _nIndex$8[ebp], 5
  00263	75 35		 jne	 SHORT $LN10@OnTCPNetwo

; 1438 : 			{
; 1439 : 				Nearuser.cbUserCount = nIndex;

  00265	8a 85 70 fc ff
	ff		 mov	 al, BYTE PTR _nIndex$8[ebp]
  0026b	88 85 78 fc ff
	ff		 mov	 BYTE PTR _Nearuser$[ebp], al

; 1440 :                 SendData(dwSocketID,MDM_GC_USER,SUB_GC_GET_NEARUSER_RESULT,&Nearuser,sizeof(Nearuser));

  00271	68 c7 02 00 00	 push	 711			; 000002c7H
  00276	8d 85 78 fc ff
	ff		 lea	 eax, DWORD PTR _Nearuser$[ebp]
  0027c	50		 push	 eax
  0027d	68 d2 00 00 00	 push	 210			; 000000d2H
  00282	6a 03		 push	 3
  00284	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00287	51		 push	 ecx
  00288	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0028b	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1441 : 				nIndex = 0;

  00290	c7 85 70 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR _nIndex$8[ebp], 0
$LN10@OnTCPNetwo:

; 1442 : 			}
; 1443 : 		}

  0029a	e9 20 ff ff ff	 jmp	 $LN2@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1444 : 		if (nIndex !=0)

  0029f	83 bd 70 fc ff
	ff 00		 cmp	 DWORD PTR _nIndex$8[ebp], 0
  002a6	74 35		 je	 SHORT $LN11@OnTCPNetwo

; 1445 : 		{
; 1446 : 			Nearuser.cbUserCount = nIndex;

  002a8	8a 85 70 fc ff
	ff		 mov	 al, BYTE PTR _nIndex$8[ebp]
  002ae	88 85 78 fc ff
	ff		 mov	 BYTE PTR _Nearuser$[ebp], al

; 1447 : 			SendData(dwSocketID,MDM_GC_USER,SUB_GC_GET_NEARUSER_RESULT,&Nearuser,sizeof(Nearuser));

  002b4	68 c7 02 00 00	 push	 711			; 000002c7H
  002b9	8d 85 78 fc ff
	ff		 lea	 eax, DWORD PTR _Nearuser$[ebp]
  002bf	50		 push	 eax
  002c0	68 d2 00 00 00	 push	 210			; 000000d2H
  002c5	6a 03		 push	 3
  002c7	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  002ca	51		 push	 ecx
  002cb	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  002ce	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1448 : 			nIndex = 0;

  002d3	c7 85 70 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR _nIndex$8[ebp], 0
$LN11@OnTCPNetwo:

; 1449 : 		}
; 1450 : 
; 1451 : 	}    
; 1452 : 	else

  002dd	eb 1f		 jmp	 SHORT $LN8@OnTCPNetwo
$LN7@OnTCPNetwo:

; 1453 : 	{
; 1454 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_GET_NEARUSER_RESULT,&Nearuser,sizeof(Nearuser));

  002df	68 c7 02 00 00	 push	 711			; 000002c7H
  002e4	8d 85 78 fc ff
	ff		 lea	 eax, DWORD PTR _Nearuser$[ebp]
  002ea	50		 push	 eax
  002eb	68 d2 00 00 00	 push	 210			; 000000d2H
  002f0	6a 03		 push	 3
  002f2	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  002f5	51		 push	 ecx
  002f6	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  002f9	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN8@OnTCPNetwo:

; 1455 : 	}
; 1456 : 
; 1457 : 	{
; 1458 : 		CMD_GC_Get_NearuserEcho Echo;
; 1459 : 		ZeroMemory(&Echo,sizeof(Echo));

  002fe	68 84 00 00 00	 push	 132			; 00000084H
  00303	6a 00		 push	 0
  00305	8d 85 e4 fb ff
	ff		 lea	 eax, DWORD PTR _Echo$5[ebp]
  0030b	50		 push	 eax
  0030c	e8 00 00 00 00	 call	 _memset
  00311	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1460 : 		Echo.lErrorCode=CHAT_MSG_OK;

  00314	c7 85 e4 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _Echo$5[ebp], 0

; 1461 : 		lstrcpyn(Echo.szDescribeString,_T(""),CountArray(Echo.szDescribeString));

  0031e	68 80 00 00 00	 push	 128			; 00000080H
  00323	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  00328	8d 85 e8 fb ff
	ff		 lea	 eax, DWORD PTR _Echo$5[ebp+4]
  0032e	50		 push	 eax
  0032f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1462 : 		WORD wDataSize=CountStringBuffer(Echo.szDescribeString);

  00335	8d 85 e8 fb ff
	ff		 lea	 eax, DWORD PTR _Echo$5[ebp+4]
  0033b	50		 push	 eax
  0033c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00342	83 c0 01	 add	 eax, 1
  00345	66 89 85 e0 fb
	ff ff		 mov	 WORD PTR _wDataSize$4[ebp], ax

; 1463 : 		WORD wHeadSize=sizeof(Echo)-sizeof(Echo.szDescribeString);

  0034c	b8 04 00 00 00	 mov	 eax, 4
  00351	66 89 85 dc fb
	ff ff		 mov	 WORD PTR _wHeadSize$3[ebp], ax

; 1464 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_GET_NEARUSER_ECHO,&Echo,wHeadSize+wDataSize);

  00358	0f b7 85 dc fb
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$3[ebp]
  0035f	0f b7 8d e0 fb
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$4[ebp]
  00366	03 c1		 add	 eax, ecx
  00368	50		 push	 eax
  00369	8d 95 e4 fb ff
	ff		 lea	 edx, DWORD PTR _Echo$5[ebp]
  0036f	52		 push	 edx
  00370	68 36 01 00 00	 push	 310			; 00000136H
  00375	6a 03		 push	 3
  00377	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0037a	50		 push	 eax
  0037b	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0037e	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1465 : 	}
; 1466 : 
; 1467 : 
; 1468 : 	return true;

  00383	c6 85 1b fb ff
	ff 01		 mov	 BYTE PTR $T2[ebp], 1
  0038a	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  00391	8d 8d 40 ff ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  00397	e8 00 00 00 00	 call	 ??1CNearUserManager@@UAE@XZ ; CNearUserManager::~CNearUserManager
  0039c	8a 85 1b fb ff
	ff		 mov	 al, BYTE PTR $T2[ebp]
$LN1@OnTCPNetwo:

; 1469 : }

  003a2	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  003a5	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  003ac	59		 pop	 ecx
  003ad	5f		 pop	 edi
  003ae	5e		 pop	 esi
  003af	5b		 pop	 ebx
  003b0	8b 4d f0	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003b3	33 cd		 xor	 ecx, ebp
  003b5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003ba	8b e5		 mov	 esp, ebp
  003bc	5d		 pop	 ebp
  003bd	c2 0c 00	 ret	 12			; 0000000cH
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z$0:
  00000	8d 8d 40 ff ff
	ff		 lea	 ecx, DWORD PTR _NearUserManager$[ebp]
  00006	e9 00 00 00 00	 jmp	 ??1CNearUserManager@@UAE@XZ ; CNearUserManager::~CNearUserManager
__ehhandler$?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z:
  0000b	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  0000f	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00012	8b 8a 10 fb ff
	ff		 mov	 ecx, DWORD PTR [edx-1264]
  00018	33 c8		 xor	 ecx, eax
  0001a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001f	8b 4a fc	 mov	 ecx, DWORD PTR [edx-4]
  00022	33 c8		 xor	 ecx, eax
  00024	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00029	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z
  0002e	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkGetNearuser
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_placeName$ = -512					; size = 40
_wHeadSize$1 = -472					; size = 2
_wDataSize$2 = -468					; size = 2
_Echo$3 = -464						; size = 132
_Notify$ = -332						; size = 21
_pUserInfo$ = -308					; size = 4
_pBindParameter$ = -304					; size = 4
_wBindIndex$ = -300					; size = 2
_wHeadSize$4 = -296					; size = 2
_wDataSize$5 = -292					; size = 2
_Echo$6 = -288						; size = 132
_wHeadSize$7 = -156					; size = 2
_wDataSize$8 = -152					; size = 2
_Echo$9 = -148						; size = 132
_pServerUserItem$ = -16					; size = 4
_pUpdateCoordinate$ = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkUpdateCoordinate, COMDAT
; _this$ = ecx

; 1321 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 02 00
	00		 sub	 esp, 640		; 00000280H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1322 : 	//效验参数
; 1323 : 	ASSERT(wDataSize<=sizeof(CMD_GC_Update_Coordinate));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	83 f8 35	 cmp	 eax, 53			; 00000035H
  00020	76 19		 jbe	 SHORT $LN7@OnTCPNetwo
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00028	83 c1 02	 add	 ecx, 2
  0002b	51		 push	 ecx
  0002c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00031	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00036	85 c0		 test	 eax, eax
  00038	74 01		 je	 SHORT $LN7@OnTCPNetwo
  0003a	cc		 int	 3
$LN7@OnTCPNetwo:

; 1324 : 	if (wDataSize>sizeof(CMD_GC_Update_Coordinate)) return false;

  0003b	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0003f	83 f8 35	 cmp	 eax, 53			; 00000035H
  00042	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  00044	32 c0		 xor	 al, al
  00046	e9 5e 03 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 1325 : 
; 1326 : 	//处理消息
; 1327 : 	CMD_GC_Update_Coordinate * pUpdateCoordinate=(CMD_GC_Update_Coordinate *)pData;

  0004b	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  0004e	89 45 f4	 mov	 DWORD PTR _pUpdateCoordinate$[ebp], eax

; 1328 : 	ASSERT(pUpdateCoordinate!=NULL);

  00051	83 7d f4 00	 cmp	 DWORD PTR _pUpdateCoordinate$[ebp], 0
  00055	75 18		 jne	 SHORT $LN8@OnTCPNetwo
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0005c	83 c0 07	 add	 eax, 7
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00065	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006a	85 c0		 test	 eax, eax
  0006c	74 01		 je	 SHORT $LN8@OnTCPNetwo
  0006e	cc		 int	 3
$LN8@OnTCPNetwo:

; 1329 : 
; 1330 : 	//查找用户
; 1331 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pUpdateCoordinate->dwUserID);

  0006f	8b 45 f4	 mov	 eax, DWORD PTR _pUpdateCoordinate$[ebp]
  00072	8b 08		 mov	 ecx, DWORD PTR [eax]
  00074	51		 push	 ecx
  00075	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00078	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0007b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0007e	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00081	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00084	ff d2		 call	 edx
  00086	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1332 : 	if(pServerUserItem==NULL ) 

  00089	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  0008d	0f 85 8c 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 1333 : 	{
; 1334 : 		//更新反馈
; 1335 : 		CMD_GC_Update_CoordinateEcho Echo;
; 1336 : 		ZeroMemory(&Echo,sizeof(Echo));

  00093	68 84 00 00 00	 push	 132			; 00000084H
  00098	6a 00		 push	 0
  0009a	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _Echo$9[ebp]
  000a0	50		 push	 eax
  000a1	e8 00 00 00 00	 call	 _memset
  000a6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1337 : 		Echo.lErrorCode=CHAT_MSG_ERR;

  000a9	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _Echo$9[ebp], 1

; 1338 : 		lstrcpyn(Echo.szDescribeString,_T("信息超时"),CountArray(Echo.szDescribeString));

  000b3	68 80 00 00 00	 push	 128			; 00000080H
  000b8	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000bd	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _Echo$9[ebp+4]
  000c3	50		 push	 eax
  000c4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1339 : 		WORD wDataSize=CountStringBuffer(Echo.szDescribeString);

  000ca	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _Echo$9[ebp+4]
  000d0	50		 push	 eax
  000d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000d7	83 c0 01	 add	 eax, 1
  000da	66 89 85 68 ff
	ff ff		 mov	 WORD PTR _wDataSize$8[ebp], ax

; 1340 : 		WORD wHeadSize=sizeof(Echo)-sizeof(Echo.szDescribeString);

  000e1	b8 04 00 00 00	 mov	 eax, 4
  000e6	66 89 85 64 ff
	ff ff		 mov	 WORD PTR _wHeadSize$7[ebp], ax

; 1341 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_UPDATE_COORDINATE_ECHO,&Echo,wHeadSize+wDataSize);

  000ed	0f b7 85 64 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$7[ebp]
  000f4	0f b7 8d 68 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$8[ebp]
  000fb	03 c1		 add	 eax, ecx
  000fd	50		 push	 eax
  000fe	8d 95 6c ff ff
	ff		 lea	 edx, DWORD PTR _Echo$9[ebp]
  00104	52		 push	 edx
  00105	68 35 01 00 00	 push	 309			; 00000135H
  0010a	6a 03		 push	 3
  0010c	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0010f	50		 push	 eax
  00110	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00113	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1342 : 		return false;

  00118	32 c0		 xor	 al, al
  0011a	e9 8a 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1343 : 	}
; 1344 : 
; 1345 : 	if (pUpdateCoordinate->dLatitude>180 || pUpdateCoordinate->dLongitude>180)

  0011f	8b 45 f4	 mov	 eax, DWORD PTR _pUpdateCoordinate$[ebp]
  00122	f2 0f 10 40 0c	 movsd	 xmm0, QWORD PTR [eax+12]
  00127	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4066800000000000
  0012f	77 16		 ja	 SHORT $LN5@OnTCPNetwo
  00131	8b 45 f4	 mov	 eax, DWORD PTR _pUpdateCoordinate$[ebp]
  00134	f2 0f 10 40 04	 movsd	 xmm0, QWORD PTR [eax+4]
  00139	66 0f 2f 05 00
	00 00 00	 comisd	 xmm0, QWORD PTR __real@4066800000000000
  00141	0f 86 8c 00 00
	00		 jbe	 $LN4@OnTCPNetwo
$LN5@OnTCPNetwo:

; 1346 : 	{
; 1347 : 		//更新反馈
; 1348 : 		CMD_GC_Update_CoordinateEcho Echo;
; 1349 : 		ZeroMemory(&Echo,sizeof(Echo));

  00147	68 84 00 00 00	 push	 132			; 00000084H
  0014c	6a 00		 push	 0
  0014e	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$6[ebp]
  00154	50		 push	 eax
  00155	e8 00 00 00 00	 call	 _memset
  0015a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1350 : 		Echo.lErrorCode=CHAT_MSG_ERR;

  0015d	c7 85 e0 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _Echo$6[ebp], 1

; 1351 : 		lstrcpyn(Echo.szDescribeString,_T("坐标错误"),CountArray(Echo.szDescribeString));

  00167	68 80 00 00 00	 push	 128			; 00000080H
  0016c	68 00 00 00 00	 push	 OFFSET ??_C@_08BBDBIKKL@?W?x?$LB?j?$LE?m?N?s@
  00171	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$6[ebp+4]
  00177	50		 push	 eax
  00178	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1352 : 		WORD wDataSize=CountStringBuffer(Echo.szDescribeString);

  0017e	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$6[ebp+4]
  00184	50		 push	 eax
  00185	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0018b	83 c0 01	 add	 eax, 1
  0018e	66 89 85 dc fe
	ff ff		 mov	 WORD PTR _wDataSize$5[ebp], ax

; 1353 : 		WORD wHeadSize=sizeof(Echo)-sizeof(Echo.szDescribeString);

  00195	b8 04 00 00 00	 mov	 eax, 4
  0019a	66 89 85 d8 fe
	ff ff		 mov	 WORD PTR _wHeadSize$4[ebp], ax

; 1354 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_UPDATE_COORDINATE_ECHO,&Echo,wHeadSize+wDataSize);

  001a1	0f b7 85 d8 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$4[ebp]
  001a8	0f b7 8d dc fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$5[ebp]
  001af	03 c1		 add	 eax, ecx
  001b1	50		 push	 eax
  001b2	8d 95 e0 fe ff
	ff		 lea	 edx, DWORD PTR _Echo$6[ebp]
  001b8	52		 push	 edx
  001b9	68 35 01 00 00	 push	 309			; 00000135H
  001be	6a 03		 push	 3
  001c0	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  001c3	50		 push	 eax
  001c4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001c7	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1355 : 		return true;

  001cc	b0 01		 mov	 al, 1
  001ce	e9 d6 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN4@OnTCPNetwo:

; 1356 : 	}
; 1357 : 
; 1358 : 	//更新定位
; 1359 : 	WORD wBindIndex=LOWORD(dwSocketID);

  001d3	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  001d6	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  001db	66 89 85 d4 fe
	ff ff		 mov	 WORD PTR _wBindIndex$[ebp], ax

; 1360 : 	tagBindParameter * pBindParameter=GetBindParameter(wBindIndex);

  001e2	0f b7 85 d4 fe
	ff ff		 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  001e9	50		 push	 eax
  001ea	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001ed	e8 00 00 00 00	 call	 ?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ; CAttemperEngineSink::GetBindParameter
  001f2	89 85 d0 fe ff
	ff		 mov	 DWORD PTR _pBindParameter$[ebp], eax

; 1361 : 	tagFriendUserInfo * pUserInfo = ((CLocalUserItem *)pServerUserItem)->GetUserInfo();

  001f8	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  001fb	8b 10		 mov	 edx, DWORD PTR [eax]
  001fd	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00200	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00203	ff d0		 call	 eax
  00205	89 85 cc fe ff
	ff		 mov	 DWORD PTR _pUserInfo$[ebp], eax

; 1362 : 	pUserInfo->dwClientAddr = pBindParameter->dwClientAddr;

  0020b	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  00211	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR _pBindParameter$[ebp]
  00217	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0021a	89 90 ab 01 00
	00		 mov	 DWORD PTR [eax+427], edx

; 1363 : 	pUserInfo->dLongitude = pUpdateCoordinate->dLongitude;

  00220	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  00226	8b 4d f4	 mov	 ecx, DWORD PTR _pUpdateCoordinate$[ebp]
  00229	f2 0f 10 41 04	 movsd	 xmm0, QWORD PTR [ecx+4]
  0022e	f2 0f 11 80 b0
	01 00 00	 movsd	 QWORD PTR [eax+432], xmm0

; 1364 : 	pUserInfo->dLatitude = pUpdateCoordinate->dLatitude;

  00236	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  0023c	8b 4d f4	 mov	 ecx, DWORD PTR _pUpdateCoordinate$[ebp]
  0023f	f2 0f 10 41 0c	 movsd	 xmm0, QWORD PTR [ecx+12]
  00244	f2 0f 11 80 b8
	01 00 00	 movsd	 QWORD PTR [eax+440], xmm0

; 1365 : 	lstrcpyn(pUserInfo->szPlaceName, pUpdateCoordinate->szPlaceName, CountArray(pUpdateCoordinate->szPlaceName));

  0024c	6a 21		 push	 33			; 00000021H
  0024e	8b 45 f4	 mov	 eax, DWORD PTR _pUpdateCoordinate$[ebp]
  00251	83 c0 14	 add	 eax, 20			; 00000014H
  00254	50		 push	 eax
  00255	8b 8d cc fe ff
	ff		 mov	 ecx, DWORD PTR _pUserInfo$[ebp]
  0025b	81 c1 c0 01 00
	00		 add	 ecx, 448		; 000001c0H
  00261	51		 push	 ecx
  00262	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1366 : 	pUserInfo->cbCoordinate = 1;

  00268	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  0026e	c6 80 af 01 00
	00 01		 mov	 BYTE PTR [eax+431], 1

; 1367 : 
; 1368 : 	CMD_GC_Update_CoordinateNotify Notify;
; 1369 : 	Notify.dLatitude = pUserInfo->dLatitude;

  00275	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  0027b	f2 0f 10 80 b8
	01 00 00	 movsd	 xmm0, QWORD PTR [eax+440]
  00283	f2 0f 11 85 bc
	fe ff ff	 movsd	 QWORD PTR _Notify$[ebp+8], xmm0

; 1370 : 	Notify.dLongitude = pUserInfo->dLongitude;

  0028b	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  00291	f2 0f 10 80 b0
	01 00 00	 movsd	 xmm0, QWORD PTR [eax+432]
  00299	f2 0f 11 85 b4
	fe ff ff	 movsd	 QWORD PTR _Notify$[ebp], xmm0

; 1371 : 	Notify.cbCoordinate = 1;

  002a1	c6 85 c4 fe ff
	ff 01		 mov	 BYTE PTR _Notify$[ebp+16], 1

; 1372 : 	Notify.dwClientAddr = pUserInfo->dwClientAddr;

  002a8	8b 85 cc fe ff
	ff		 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  002ae	8b 88 ab 01 00
	00		 mov	 ecx, DWORD PTR [eax+427]
  002b4	89 8d c5 fe ff
	ff		 mov	 DWORD PTR _Notify$[ebp+17], ecx

; 1373 : 	SendData(dwSocketID,MDM_GC_USER,SUB_GC_UPDATE_COORDINATE_NOTIFY,&Notify,sizeof(Notify));

  002ba	6a 15		 push	 21			; 00000015H
  002bc	8d 85 b4 fe ff
	ff		 lea	 eax, DWORD PTR _Notify$[ebp]
  002c2	50		 push	 eax
  002c3	68 d1 00 00 00	 push	 209			; 000000d1H
  002c8	6a 03		 push	 3
  002ca	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  002cd	51		 push	 ecx
  002ce	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002d1	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1374 : 
; 1375 : 	{
; 1376 : 		CMD_GC_Update_CoordinateEcho Echo;
; 1377 : 		ZeroMemory(&Echo,sizeof(Echo));

  002d6	68 84 00 00 00	 push	 132			; 00000084H
  002db	6a 00		 push	 0
  002dd	8d 85 30 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$3[ebp]
  002e3	50		 push	 eax
  002e4	e8 00 00 00 00	 call	 _memset
  002e9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1378 : 		Echo.lErrorCode=CHAT_MSG_OK;

  002ec	c7 85 30 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _Echo$3[ebp], 0

; 1379 : 		lstrcpyn(Echo.szDescribeString,_T(""),CountArray(Echo.szDescribeString));

  002f6	68 80 00 00 00	 push	 128			; 00000080H
  002fb	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  00300	8d 85 34 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$3[ebp+4]
  00306	50		 push	 eax
  00307	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1380 : 		WORD wDataSize=CountStringBuffer(Echo.szDescribeString);

  0030d	8d 85 34 fe ff
	ff		 lea	 eax, DWORD PTR _Echo$3[ebp+4]
  00313	50		 push	 eax
  00314	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0031a	83 c0 01	 add	 eax, 1
  0031d	66 89 85 2c fe
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 1381 : 		WORD wHeadSize=sizeof(Echo)-sizeof(Echo.szDescribeString);

  00324	b8 04 00 00 00	 mov	 eax, 4
  00329	66 89 85 28 fe
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 1382 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_UPDATE_COORDINATE_ECHO,&Echo,wHeadSize+wDataSize);

  00330	0f b7 85 28 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  00337	0f b7 8d 2c fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  0033e	03 c1		 add	 eax, ecx
  00340	50		 push	 eax
  00341	8d 95 30 fe ff
	ff		 lea	 edx, DWORD PTR _Echo$3[ebp]
  00347	52		 push	 edx
  00348	68 35 01 00 00	 push	 309			; 00000135H
  0034d	6a 03		 push	 3
  0034f	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00352	50		 push	 eax
  00353	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00356	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1383 : 	}
; 1384 : 	
; 1385 : 	//构造结构
; 1386 : 	DBR_GR_UpdatePlaceName placeName;
; 1387 : 	placeName.dwUserID = pUpdateCoordinate->dwUserID;

  0035b	8b 45 f4	 mov	 eax, DWORD PTR _pUpdateCoordinate$[ebp]
  0035e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00360	89 8d 00 fe ff
	ff		 mov	 DWORD PTR _placeName$[ebp], ecx

; 1388 : 	lstrcpyn(placeName.szPlaceName, pUpdateCoordinate->szPlaceName, CountArray(placeName.szPlaceName));

  00366	6a 21		 push	 33			; 00000021H
  00368	8b 45 f4	 mov	 eax, DWORD PTR _pUpdateCoordinate$[ebp]
  0036b	83 c0 14	 add	 eax, 20			; 00000014H
  0036e	50		 push	 eax
  0036f	8d 8d 04 fe ff
	ff		 lea	 ecx, DWORD PTR _placeName$[ebp+4]
  00375	51		 push	 ecx
  00376	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1389 : 	
; 1390 : 	//投递请求
; 1391 : 	m_pIDataBaseEngine->PostDataBaseRequest(DBR_GR_UPDATE_PLACENAME, dwSocketID, &placeName, sizeof(placeName));

  0037c	6a 28		 push	 40			; 00000028H
  0037e	8d 85 00 fe ff
	ff		 lea	 eax, DWORD PTR _placeName$[ebp]
  00384	50		 push	 eax
  00385	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00388	51		 push	 ecx
  00389	68 d8 00 00 00	 push	 216			; 000000d8H
  0038e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00391	8b 82 e8 00 00
	00		 mov	 eax, DWORD PTR [edx+232]
  00397	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0039a	8b 10		 mov	 edx, DWORD PTR [eax]
  0039c	8b 89 e8 00 00
	00		 mov	 ecx, DWORD PTR [ecx+232]
  003a2	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  003a5	ff d0		 call	 eax

; 1392 : 	return true;

  003a7	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 1393 : }

  003a9	5f		 pop	 edi
  003aa	5e		 pop	 esi
  003ab	5b		 pop	 ebx
  003ac	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003af	33 cd		 xor	 ecx, ebp
  003b1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003b6	8b e5		 mov	 esp, ebp
  003b8	5d		 pop	 ebp
  003b9	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkUpdateCoordinate
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_DeleteFriend$ = -168					; size = 12
_wHeadSize$1 = -156					; size = 2
_wDataSize$2 = -152					; size = 2
_DeleteEcho$3 = -148					; size = 132
_pServerUserItem$ = -16					; size = 4
_pDeleteFriend$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkDeleteFriend, COMDAT
; _this$ = ecx

; 1284 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e8 00 00
	00		 sub	 esp, 232		; 000000e8H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1285 : 	//效验参数
; 1286 : 	ASSERT(wDataSize<=sizeof(CMD_GC_DeleteFriend));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	83 f8 09	 cmp	 eax, 9
  00020	76 19		 jbe	 SHORT $LN5@OnTCPNetwo
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00028	83 c1 02	 add	 ecx, 2
  0002b	51		 push	 ecx
  0002c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00031	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00036	85 c0		 test	 eax, eax
  00038	74 01		 je	 SHORT $LN5@OnTCPNetwo
  0003a	cc		 int	 3
$LN5@OnTCPNetwo:

; 1287 : 	if (wDataSize>sizeof(CMD_GC_DeleteFriend)) return false;

  0003b	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0003f	83 f8 09	 cmp	 eax, 9
  00042	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  00044	32 c0		 xor	 al, al
  00046	e9 21 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 1288 : 
; 1289 : 	//处理消息
; 1290 : 	CMD_GC_DeleteFriend * pDeleteFriend=(CMD_GC_DeleteFriend *)pData;

  0004b	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  0004e	89 45 f4	 mov	 DWORD PTR _pDeleteFriend$[ebp], eax

; 1291 : 	ASSERT(pDeleteFriend!=NULL);

  00051	83 7d f4 00	 cmp	 DWORD PTR _pDeleteFriend$[ebp], 0
  00055	75 18		 jne	 SHORT $LN6@OnTCPNetwo
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0005c	83 c0 07	 add	 eax, 7
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00065	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006a	85 c0		 test	 eax, eax
  0006c	74 01		 je	 SHORT $LN6@OnTCPNetwo
  0006e	cc		 int	 3
$LN6@OnTCPNetwo:

; 1292 : 
; 1293 : 	//查找用户
; 1294 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pDeleteFriend->dwUserID);

  0006f	8b 45 f4	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  00072	8b 08		 mov	 ecx, DWORD PTR [eax]
  00074	51		 push	 ecx
  00075	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00078	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0007b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0007e	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00081	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00084	ff d2		 call	 edx
  00086	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1295 : 	if(pServerUserItem==NULL ) 

  00089	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  0008d	0f 85 89 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 1296 : 	{
; 1297 : 		//删除反馈
; 1298 : 		CMD_GC_DeleteFriendEcho DeleteEcho;
; 1299 : 		ZeroMemory(&DeleteEcho,sizeof(DeleteEcho));

  00093	68 84 00 00 00	 push	 132			; 00000084H
  00098	6a 00		 push	 0
  0009a	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _DeleteEcho$3[ebp]
  000a0	50		 push	 eax
  000a1	e8 00 00 00 00	 call	 _memset
  000a6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1300 : 		DeleteEcho.lErrorCode=CHAT_MSG_ERR;

  000a9	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _DeleteEcho$3[ebp], 1

; 1301 : 		lstrcpyn(DeleteEcho.szDescribeString,_T("信息超时"),CountArray(DeleteEcho.szDescribeString));

  000b3	68 80 00 00 00	 push	 128			; 00000080H
  000b8	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000bd	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _DeleteEcho$3[ebp+4]
  000c3	50		 push	 eax
  000c4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1302 : 		WORD wDataSize=CountStringBuffer(DeleteEcho.szDescribeString);

  000ca	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _DeleteEcho$3[ebp+4]
  000d0	50		 push	 eax
  000d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000d7	83 c0 01	 add	 eax, 1
  000da	66 89 85 68 ff
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 1303 : 		WORD wHeadSize=sizeof(DeleteEcho)-sizeof(DeleteEcho.szDescribeString);

  000e1	b8 04 00 00 00	 mov	 eax, 4
  000e6	66 89 85 64 ff
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 1304 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_DELETE_FRIEND_ECHO,&DeleteEcho,wHeadSize+wDataSize);

  000ed	0f b7 85 64 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  000f4	0f b7 8d 68 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  000fb	03 c1		 add	 eax, ecx
  000fd	50		 push	 eax
  000fe	8d 95 6c ff ff
	ff		 lea	 edx, DWORD PTR _DeleteEcho$3[ebp]
  00104	52		 push	 edx
  00105	68 32 01 00 00	 push	 306			; 00000132H
  0010a	6a 03		 push	 3
  0010c	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0010f	50		 push	 eax
  00110	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00113	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1305 : 		return false;

  00118	32 c0		 xor	 al, al
  0011a	eb 50		 jmp	 SHORT $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1306 : 	}
; 1307 : 
; 1308 : 	//构造结构
; 1309 : 	DBR_GR_DeleteFriend DeleteFriend;
; 1310 : 	DeleteFriend.dwUserID=pDeleteFriend->dwUserID;

  0011c	8b 45 f4	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  0011f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00121	89 8d 58 ff ff
	ff		 mov	 DWORD PTR _DeleteFriend$[ebp], ecx

; 1311 : 	DeleteFriend.dwFriendUserID=pDeleteFriend->dwFriendUserID;

  00127	8b 45 f4	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  0012a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0012d	89 8d 5c ff ff
	ff		 mov	 DWORD PTR _DeleteFriend$[ebp+4], ecx

; 1312 : 	DeleteFriend.cbGroupID=pDeleteFriend->cbGroupID;

  00133	8b 45 f4	 mov	 eax, DWORD PTR _pDeleteFriend$[ebp]
  00136	8a 48 08	 mov	 cl, BYTE PTR [eax+8]
  00139	88 8d 60 ff ff
	ff		 mov	 BYTE PTR _DeleteFriend$[ebp+8], cl

; 1313 : 
; 1314 : 	//投递请求
; 1315 : 	m_pIDataBaseEngine->PostDataBaseRequest(DBR_GR_DELETE_FRIEND,dwSocketID,&DeleteFriend,sizeof(DeleteFriend));

  0013f	6a 0c		 push	 12			; 0000000cH
  00141	8d 85 58 ff ff
	ff		 lea	 eax, DWORD PTR _DeleteFriend$[ebp]
  00147	50		 push	 eax
  00148	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  0014b	51		 push	 ecx
  0014c	68 d7 00 00 00	 push	 215			; 000000d7H
  00151	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00154	8b 82 e8 00 00
	00		 mov	 eax, DWORD PTR [edx+232]
  0015a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0015d	8b 10		 mov	 edx, DWORD PTR [eax]
  0015f	8b 89 e8 00 00
	00		 mov	 ecx, DWORD PTR [ecx+232]
  00165	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  00168	ff d0		 call	 eax

; 1316 : 
; 1317 : 	return true;

  0016a	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 1318 : }

  0016c	5f		 pop	 edi
  0016d	5e		 pop	 esi
  0016e	5b		 pop	 ebx
  0016f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00172	33 cd		 xor	 ecx, ebp
  00174	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00179	8b e5		 mov	 esp, ebp
  0017b	5d		 pop	 ebp
  0017c	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkDeleteFriend
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_Trumpet$ = -340					; size = 176
_wHeadSize$1 = -164					; size = 2
_wDataSize$2 = -160					; size = 2
_TrumpetEcho$3 = -156					; size = 132
_pServerUserItem$ = -24					; size = 4
_pBindParameter$ = -20					; size = 4
_wBindIndex$ = -16					; size = 2
_pUserChat$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubTrumpet, COMDAT
; _this$ = ecx

; 1240 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 94 01 00
	00		 sub	 esp, 404		; 00000194H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1241 : 	//效验参数
; 1242 : 	ASSERT(wDataSize<=sizeof(CMD_GC_Trumpet));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d aa 00 00 00	 cmp	 eax, 170		; 000000aaH
  00022	76 19		 jbe	 SHORT $LN5@OnTCPNetwo
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN5@OnTCPNetwo
  0003c	cc		 int	 3
$LN5@OnTCPNetwo:

; 1243 : 	if (wDataSize>sizeof(CMD_GC_Trumpet)) return false;

  0003d	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d aa 00 00 00	 cmp	 eax, 170		; 000000aaH
  00046	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  00048	32 c0		 xor	 al, al
  0004a	e9 81 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 1244 : 
; 1245 : 	//处理消息
; 1246 : 	CMD_GC_Trumpet * pUserChat=(CMD_GC_Trumpet *)pData;

  0004f	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pUserChat$[ebp], eax

; 1247 : 	ASSERT(pUserChat!=NULL);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pUserChat$[ebp], 0
  00059	75 18		 jne	 SHORT $LN6@OnTCPNetwo
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN6@OnTCPNetwo
  00072	cc		 int	 3
$LN6@OnTCPNetwo:

; 1248 : 
; 1249 : 	//变量定义
; 1250 : 	WORD wBindIndex=LOWORD(dwSocketID);

  00073	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00076	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0007b	66 89 45 f0	 mov	 WORD PTR _wBindIndex$[ebp], ax

; 1251 : 	tagBindParameter * pBindParameter=GetBindParameter(wBindIndex);

  0007f	0f b7 45 f0	 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  00083	50		 push	 eax
  00084	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00087	e8 00 00 00 00	 call	 ?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ; CAttemperEngineSink::GetBindParameter
  0008c	89 45 ec	 mov	 DWORD PTR _pBindParameter$[ebp], eax

; 1252 : 
; 1253 : 	//查找用户
; 1254 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pUserChat->dwSendUserID);

  0008f	8b 45 f4	 mov	 eax, DWORD PTR _pUserChat$[ebp]
  00092	8b 48 02	 mov	 ecx, DWORD PTR [eax+2]
  00095	51		 push	 ecx
  00096	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00099	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0009c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0009f	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  000a2	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  000a5	ff d2		 call	 edx
  000a7	89 45 e8	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1255 : 	if(pServerUserItem==NULL ) 

  000aa	83 7d e8 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000ae	0f 85 8c 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 1256 : 	{
; 1257 : 		//喇叭反馈
; 1258 : 		CMD_GC_TrumpetEcho TrumpetEcho;
; 1259 : 		ZeroMemory(&TrumpetEcho,sizeof(TrumpetEcho));

  000b4	68 84 00 00 00	 push	 132			; 00000084H
  000b9	6a 00		 push	 0
  000bb	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _TrumpetEcho$3[ebp]
  000c1	50		 push	 eax
  000c2	e8 00 00 00 00	 call	 _memset
  000c7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1260 : 		TrumpetEcho.lErrorCode=CHAT_MSG_ERR;

  000ca	c7 85 64 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _TrumpetEcho$3[ebp], 1

; 1261 : 		lstrcpyn(TrumpetEcho.szDescribeString,_T("信息超时"),CountArray(TrumpetEcho.szDescribeString));

  000d4	68 80 00 00 00	 push	 128			; 00000080H
  000d9	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000de	8d 85 68 ff ff
	ff		 lea	 eax, DWORD PTR _TrumpetEcho$3[ebp+4]
  000e4	50		 push	 eax
  000e5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1262 : 		WORD wDataSize=CountStringBuffer(TrumpetEcho.szDescribeString);

  000eb	8d 85 68 ff ff
	ff		 lea	 eax, DWORD PTR _TrumpetEcho$3[ebp+4]
  000f1	50		 push	 eax
  000f2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000f8	83 c0 01	 add	 eax, 1
  000fb	66 89 85 60 ff
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 1263 : 		WORD wHeadSize=sizeof(TrumpetEcho)-sizeof(TrumpetEcho.szDescribeString);

  00102	b8 04 00 00 00	 mov	 eax, 4
  00107	66 89 85 5c ff
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 1264 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_TRUMPET_ECHO,&TrumpetEcho,wHeadSize+wDataSize);

  0010e	0f b7 85 5c ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  00115	0f b7 8d 60 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  0011c	03 c1		 add	 eax, ecx
  0011e	50		 push	 eax
  0011f	8d 95 64 ff ff
	ff		 lea	 edx, DWORD PTR _TrumpetEcho$3[ebp]
  00125	52		 push	 edx
  00126	68 31 01 00 00	 push	 305			; 00000131H
  0012b	6a 03		 push	 3
  0012d	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00130	50		 push	 eax
  00131	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00134	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1265 : 		return false;

  00139	32 c0		 xor	 al, al
  0013b	e9 90 00 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1266 : 	}
; 1267 : 
; 1268 : 
; 1269 : 	DBR_GR_Trumpet Trumpet;
; 1270 : 	Trumpet.wPropertyID = pUserChat->wPropertyID;

  00140	8b 45 f4	 mov	 eax, DWORD PTR _pUserChat$[ebp]
  00143	66 8b 08	 mov	 cx, WORD PTR [eax]
  00146	66 89 8d b0 fe
	ff ff		 mov	 WORD PTR _Trumpet$[ebp+4], cx

; 1271 : 	Trumpet.dwSendUserID = pUserChat->dwSendUserID;

  0014d	8b 45 f4	 mov	 eax, DWORD PTR _pUserChat$[ebp]
  00150	8b 48 02	 mov	 ecx, DWORD PTR [eax+2]
  00153	89 8d b4 fe ff
	ff		 mov	 DWORD PTR _Trumpet$[ebp+8], ecx

; 1272 : 	Trumpet.TrumpetColor = pUserChat->TrumpetColor;

  00159	8b 45 f4	 mov	 eax, DWORD PTR _pUserChat$[ebp]
  0015c	8b 48 06	 mov	 ecx, DWORD PTR [eax+6]
  0015f	89 8d b8 fe ff
	ff		 mov	 DWORD PTR _Trumpet$[ebp+12], ecx

; 1273 : 	Trumpet.dwClientAddr =pBindParameter->dwClientAddr;

  00165	8b 45 ec	 mov	 eax, DWORD PTR _pBindParameter$[ebp]
  00168	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0016b	89 8d ac fe ff
	ff		 mov	 DWORD PTR _Trumpet$[ebp], ecx

; 1274 : 	lstrcpyn(Trumpet.szSendNickName, pUserChat->szSendNickName, CountArray(Trumpet.szSendNickName));

  00171	6a 20		 push	 32			; 00000020H
  00173	8b 45 f4	 mov	 eax, DWORD PTR _pUserChat$[ebp]
  00176	83 c0 0a	 add	 eax, 10			; 0000000aH
  00179	50		 push	 eax
  0017a	8d 8d bc fe ff
	ff		 lea	 ecx, DWORD PTR _Trumpet$[ebp+16]
  00180	51		 push	 ecx
  00181	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1275 : 	lstrcpyn(Trumpet.szTrumpetContent, pUserChat->szTrumpetContent, CountArray(Trumpet.szTrumpetContent));

  00187	68 80 00 00 00	 push	 128			; 00000080H
  0018c	8b 45 f4	 mov	 eax, DWORD PTR _pUserChat$[ebp]
  0018f	83 c0 2a	 add	 eax, 42			; 0000002aH
  00192	50		 push	 eax
  00193	8d 8d dc fe ff
	ff		 lea	 ecx, DWORD PTR _Trumpet$[ebp+48]
  00199	51		 push	 ecx
  0019a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1276 : 
; 1277 : 	//投递数据
; 1278 : 	m_pIDataBaseEngine->PostDataBaseRequest(DBR_GR_TRUMPET, dwSocketID, &Trumpet, sizeof(Trumpet));

  001a0	68 b0 00 00 00	 push	 176			; 000000b0H
  001a5	8d 85 ac fe ff
	ff		 lea	 eax, DWORD PTR _Trumpet$[ebp]
  001ab	50		 push	 eax
  001ac	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  001af	51		 push	 ecx
  001b0	68 d6 00 00 00	 push	 214			; 000000d6H
  001b5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001b8	8b 82 e8 00 00
	00		 mov	 eax, DWORD PTR [edx+232]
  001be	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001c1	8b 10		 mov	 edx, DWORD PTR [eax]
  001c3	8b 89 e8 00 00
	00		 mov	 ecx, DWORD PTR [ecx+232]
  001c9	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  001cc	ff d0		 call	 eax

; 1279 : 
; 1280 : 	return true;

  001ce	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 1281 : }

  001d0	5f		 pop	 edi
  001d1	5e		 pop	 esi
  001d2	5b		 pop	 ebx
  001d3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001d6	33 cd		 xor	 ecx, ebp
  001d8	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001dd	8b e5		 mov	 esp, ebp
  001df	5d		 pop	 ebp
  001e0	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubTrumpet
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_SearchUser$ = -12					; size = 4
_pSearchUser$ = -8					; size = 4
_this$ = -4						; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubSearchUser, COMDAT
; _this$ = ecx

; 1219 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1220 : 	//效验参数
; 1221 : 	ASSERT(wDataSize<=sizeof(CMD_GC_SearchByGameID));

  0000c	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00010	83 f8 04	 cmp	 eax, 4
  00013	76 19		 jbe	 SHORT $LN4@OnTCPNetwo
  00015	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0001b	83 c1 02	 add	 ecx, 2
  0001e	51		 push	 ecx
  0001f	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00024	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00029	85 c0		 test	 eax, eax
  0002b	74 01		 je	 SHORT $LN4@OnTCPNetwo
  0002d	cc		 int	 3
$LN4@OnTCPNetwo:

; 1222 : 	if (wDataSize>sizeof(CMD_GC_SearchByGameID)) return false;

  0002e	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00032	83 f8 04	 cmp	 eax, 4
  00035	76 04		 jbe	 SHORT $LN2@OnTCPNetwo
  00037	32 c0		 xor	 al, al
  00039	eb 56		 jmp	 SHORT $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 1223 : 
; 1224 : 	//处理消息
; 1225 : 	CMD_GC_SearchByGameID * pSearchUser=(CMD_GC_SearchByGameID *)pData;

  0003b	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  0003e	89 45 f8	 mov	 DWORD PTR _pSearchUser$[ebp], eax

; 1226 : 	ASSERT(pSearchUser!=NULL);

  00041	83 7d f8 00	 cmp	 DWORD PTR _pSearchUser$[ebp], 0
  00045	75 18		 jne	 SHORT $LN5@OnTCPNetwo
  00047	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0004c	83 c0 07	 add	 eax, 7
  0004f	50		 push	 eax
  00050	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00055	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0005a	85 c0		 test	 eax, eax
  0005c	74 01		 je	 SHORT $LN5@OnTCPNetwo
  0005e	cc		 int	 3
$LN5@OnTCPNetwo:

; 1227 : 
; 1228 : 	//变量定义
; 1229 : 	DBR_GR_SearchUser SearchUser;
; 1230 : 	SearchUser.dwSearchByGameID = pSearchUser->dwSearchByGameID;

  0005f	8b 45 f8	 mov	 eax, DWORD PTR _pSearchUser$[ebp]
  00062	8b 08		 mov	 ecx, DWORD PTR [eax]
  00064	89 4d f4	 mov	 DWORD PTR _SearchUser$[ebp], ecx

; 1231 : 
; 1232 : 	//投递请求
; 1233 : 	m_pIDataBaseEngine->PostDataBaseRequest(DBR_GR_SEARCH_USER,dwSocketID,&SearchUser,sizeof(SearchUser));

  00067	6a 04		 push	 4
  00069	8d 45 f4	 lea	 eax, DWORD PTR _SearchUser$[ebp]
  0006c	50		 push	 eax
  0006d	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00070	51		 push	 ecx
  00071	68 cf 00 00 00	 push	 207			; 000000cfH
  00076	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00079	8b 82 e8 00 00
	00		 mov	 eax, DWORD PTR [edx+232]
  0007f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00082	8b 10		 mov	 edx, DWORD PTR [eax]
  00084	8b 89 e8 00 00
	00		 mov	 ecx, DWORD PTR [ecx+232]
  0008a	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  0008d	ff d0		 call	 eax

; 1234 : 
; 1235 : 	return true;

  0008f	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 1236 : }

  00091	5f		 pop	 edi
  00092	5e		 pop	 esi
  00093	5b		 pop	 ebx
  00094	8b e5		 mov	 esp, ebp
  00096	5d		 pop	 ebp
  00097	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubSearchUser
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_wHeadSize$1 = -444					; size = 2
_wDataSize$2 = -440					; size = 2
_UserChatEcho$3 = -436					; size = 132
_wHeadSize$4 = -304					; size = 2
_wDataSize$5 = -300					; size = 2
_UserChatEcho$6 = -296					; size = 132
_pLocalUerItem$7 = -164					; size = 4
_pTargetUserItem$ = -160				; size = 4
_wHeadSize$8 = -156					; size = 2
_wDataSize$9 = -152					; size = 2
_UserChatEcho$10 = -148					; size = 132
_pServerUserItem$ = -16					; size = 4
_pUserChat$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubUserChat, COMDAT
; _this$ = ecx

; 1156 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 01 00
	00		 sub	 esp, 508		; 000001fcH
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1157 : 	//效验参数
; 1158 : 	ASSERT(wDataSize<=sizeof(CMD_GC_UserChat));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d 1e 02 00 00	 cmp	 eax, 542		; 0000021eH
  00022	76 19		 jbe	 SHORT $LN8@OnTCPNetwo
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN8@OnTCPNetwo
  0003c	cc		 int	 3
$LN8@OnTCPNetwo:

; 1159 : 	if (wDataSize>sizeof(CMD_GC_UserChat)) return false;

  0003d	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d 1e 02 00 00	 cmp	 eax, 542		; 0000021eH
  00046	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  00048	32 c0		 xor	 al, al
  0004a	e9 73 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 1160 : 
; 1161 : 	//处理消息
; 1162 : 	CMD_GC_UserChat * pUserChat=(CMD_GC_UserChat *)pData;

  0004f	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pUserChat$[ebp], eax

; 1163 : 	ASSERT(pUserChat!=NULL);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pUserChat$[ebp], 0
  00059	75 18		 jne	 SHORT $LN9@OnTCPNetwo
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN9@OnTCPNetwo
  00072	cc		 int	 3
$LN9@OnTCPNetwo:

; 1164 : 
; 1165 : 	//查找用户
; 1166 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pUserChat->dwSenderID);

  00073	8b 45 f4	 mov	 eax, DWORD PTR _pUserChat$[ebp]
  00076	8b 08		 mov	 ecx, DWORD PTR [eax]
  00078	51		 push	 ecx
  00079	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0007c	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0007f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00082	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00085	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00088	ff d2		 call	 edx
  0008a	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1167 : 	ASSERT(pServerUserItem!=NULL);

  0008d	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00091	75 18		 jne	 SHORT $LN10@OnTCPNetwo
  00093	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00098	83 c0 0b	 add	 eax, 11			; 0000000bH
  0009b	50		 push	 eax
  0009c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000a1	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000a6	85 c0		 test	 eax, eax
  000a8	74 01		 je	 SHORT $LN10@OnTCPNetwo
  000aa	cc		 int	 3
$LN10@OnTCPNetwo:

; 1168 : 	if(pServerUserItem==NULL ) 

  000ab	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000af	0f 85 8c 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 1169 : 	{
; 1170 : 		//聊天反馈
; 1171 : 		CMD_GC_UserChatEcho UserChatEcho;
; 1172 : 		ZeroMemory(&UserChatEcho,sizeof(UserChatEcho));

  000b5	68 84 00 00 00	 push	 132			; 00000084H
  000ba	6a 00		 push	 0
  000bc	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$10[ebp]
  000c2	50		 push	 eax
  000c3	e8 00 00 00 00	 call	 _memset
  000c8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1173 : 		UserChatEcho.lErrorCode=CHAT_MSG_ERR;

  000cb	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _UserChatEcho$10[ebp], 1

; 1174 : 		lstrcpyn(UserChatEcho.szDescribeString,_T("信息超时"),CountArray(UserChatEcho.szDescribeString));

  000d5	68 80 00 00 00	 push	 128			; 00000080H
  000da	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000df	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$10[ebp+4]
  000e5	50		 push	 eax
  000e6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1175 : 		WORD wDataSize=CountStringBuffer(UserChatEcho.szDescribeString);

  000ec	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$10[ebp+4]
  000f2	50		 push	 eax
  000f3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000f9	83 c0 01	 add	 eax, 1
  000fc	66 89 85 68 ff
	ff ff		 mov	 WORD PTR _wDataSize$9[ebp], ax

; 1176 : 		WORD wHeadSize=sizeof(UserChatEcho)-sizeof(UserChatEcho.szDescribeString);

  00103	b8 04 00 00 00	 mov	 eax, 4
  00108	66 89 85 64 ff
	ff ff		 mov	 WORD PTR _wHeadSize$8[ebp], ax

; 1177 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_USER_CHAT_ECHO,&UserChatEcho,wHeadSize+wDataSize);

  0010f	0f b7 85 64 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$8[ebp]
  00116	0f b7 8d 68 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$9[ebp]
  0011d	03 c1		 add	 eax, ecx
  0011f	50		 push	 eax
  00120	8d 95 6c ff ff
	ff		 lea	 edx, DWORD PTR _UserChatEcho$10[ebp]
  00126	52		 push	 edx
  00127	68 2c 01 00 00	 push	 300			; 0000012cH
  0012c	6a 03		 push	 3
  0012e	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00131	50		 push	 eax
  00132	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00135	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1178 : 		return false;

  0013a	32 c0		 xor	 al, al
  0013c	e9 81 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1179 : 	}
; 1180 : 
; 1181 : 
; 1182 : 	//查找用户
; 1183 : 	CServerUserItem * pTargetUserItem = m_ServerUserManager.SearchUserItem(pUserChat->dwTargetUserID);

  00141	8b 45 f4	 mov	 eax, DWORD PTR _pUserChat$[ebp]
  00144	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00147	51		 push	 ecx
  00148	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0014b	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0014e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00151	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00154	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00157	ff d2		 call	 edx
  00159	89 85 60 ff ff
	ff		 mov	 DWORD PTR _pTargetUserItem$[ebp], eax

; 1184 : 	if(pTargetUserItem!=NULL)

  0015f	83 bd 60 ff ff
	ff 00		 cmp	 DWORD PTR _pTargetUserItem$[ebp], 0
  00166	0f 84 c2 00 00
	00		 je	 $LN4@OnTCPNetwo

; 1185 : 	{
; 1186 : 		CLocalUserItem * pLocalUerItem = (CLocalUserItem *)pTargetUserItem;

  0016c	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _pTargetUserItem$[ebp]
  00172	89 85 5c ff ff
	ff		 mov	 DWORD PTR _pLocalUerItem$7[ebp], eax

; 1187 : 		SendData(pLocalUerItem->GetSocketID(),MDM_GC_USER,SUB_GC_USER_CHAT_NOTIFY,pData,wDataSize);

  00178	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0017c	50		 push	 eax
  0017d	8b 4d 08	 mov	 ecx, DWORD PTR _pData$[ebp]
  00180	51		 push	 ecx
  00181	68 c8 00 00 00	 push	 200			; 000000c8H
  00186	6a 03		 push	 3
  00188	8b 95 5c ff ff
	ff		 mov	 edx, DWORD PTR _pLocalUerItem$7[ebp]
  0018e	8b 02		 mov	 eax, DWORD PTR [edx]
  00190	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _pLocalUerItem$7[ebp]
  00196	8b 50 38	 mov	 edx, DWORD PTR [eax+56]
  00199	ff d2		 call	 edx
  0019b	50		 push	 eax
  0019c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0019f	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1188 : 
; 1189 : 		//聊天反馈
; 1190 : 		CMD_GC_UserChatEcho UserChatEcho;
; 1191 : 		ZeroMemory(&UserChatEcho,sizeof(UserChatEcho));

  001a4	68 84 00 00 00	 push	 132			; 00000084H
  001a9	6a 00		 push	 0
  001ab	8d 85 d8 fe ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$6[ebp]
  001b1	50		 push	 eax
  001b2	e8 00 00 00 00	 call	 _memset
  001b7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1192 : 		UserChatEcho.lErrorCode=CHAT_MSG_OK;

  001ba	c7 85 d8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _UserChatEcho$6[ebp], 0

; 1193 : 		lstrcpyn(UserChatEcho.szDescribeString,_T(""),CountArray(UserChatEcho.szDescribeString));

  001c4	68 80 00 00 00	 push	 128			; 00000080H
  001c9	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  001ce	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$6[ebp+4]
  001d4	50		 push	 eax
  001d5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1194 : 		WORD wDataSize=CountStringBuffer(UserChatEcho.szDescribeString);

  001db	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$6[ebp+4]
  001e1	50		 push	 eax
  001e2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001e8	83 c0 01	 add	 eax, 1
  001eb	66 89 85 d4 fe
	ff ff		 mov	 WORD PTR _wDataSize$5[ebp], ax

; 1195 : 		WORD wHeadSize=sizeof(UserChatEcho)-sizeof(UserChatEcho.szDescribeString);

  001f2	b8 04 00 00 00	 mov	 eax, 4
  001f7	66 89 85 d0 fe
	ff ff		 mov	 WORD PTR _wHeadSize$4[ebp], ax

; 1196 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_USER_CHAT_ECHO,&UserChatEcho,wHeadSize+wDataSize);

  001fe	0f b7 85 d0 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$4[ebp]
  00205	0f b7 8d d4 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$5[ebp]
  0020c	03 c1		 add	 eax, ecx
  0020e	50		 push	 eax
  0020f	8d 95 d8 fe ff
	ff		 lea	 edx, DWORD PTR _UserChatEcho$6[ebp]
  00215	52		 push	 edx
  00216	68 2c 01 00 00	 push	 300			; 0000012cH
  0021b	6a 03		 push	 3
  0021d	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00220	50		 push	 eax
  00221	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00224	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
  00229	e9 92 00 00 00	 jmp	 $LN5@OnTCPNetwo
$LN4@OnTCPNetwo:

; 1197 : 
; 1198 : 	}
; 1199 : 	else if(pTargetUserItem==NULL)

  0022e	83 bd 60 ff ff
	ff 00		 cmp	 DWORD PTR _pTargetUserItem$[ebp], 0
  00235	0f 85 85 00 00
	00		 jne	 $LN5@OnTCPNetwo

; 1200 : 	{
; 1201 : 		//聊天反馈
; 1202 : 		CMD_GC_UserChatEcho UserChatEcho;
; 1203 : 		ZeroMemory(&UserChatEcho,sizeof(UserChatEcho));

  0023b	68 84 00 00 00	 push	 132			; 00000084H
  00240	6a 00		 push	 0
  00242	8d 85 4c fe ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$3[ebp]
  00248	50		 push	 eax
  00249	e8 00 00 00 00	 call	 _memset
  0024e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1204 : 		UserChatEcho.lErrorCode=CHAT_MSG_ERR;

  00251	c7 85 4c fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _UserChatEcho$3[ebp], 1

; 1205 : 		lstrcpyn(UserChatEcho.szDescribeString,_T("发送失败，对方已经离线"),CountArray(UserChatEcho.szDescribeString));

  0025b	68 80 00 00 00	 push	 128			; 00000080H
  00260	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@NFEJGOJI@?$LH?$KC?K?M?J?$KH?$LA?$NM?$KD?$KM?$LG?T?$LH?$LN?R?Q?$LO?$KN?$MA?k?O?$NP@
  00265	8d 85 50 fe ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$3[ebp+4]
  0026b	50		 push	 eax
  0026c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1206 : 		WORD wDataSize=CountStringBuffer(UserChatEcho.szDescribeString);

  00272	8d 85 50 fe ff
	ff		 lea	 eax, DWORD PTR _UserChatEcho$3[ebp+4]
  00278	50		 push	 eax
  00279	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0027f	83 c0 01	 add	 eax, 1
  00282	66 89 85 48 fe
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 1207 : 		WORD wHeadSize=sizeof(UserChatEcho)-sizeof(UserChatEcho.szDescribeString);

  00289	b8 04 00 00 00	 mov	 eax, 4
  0028e	66 89 85 44 fe
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 1208 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_USER_CHAT_ECHO,&UserChatEcho,wHeadSize+wDataSize);

  00295	0f b7 85 44 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  0029c	0f b7 8d 48 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  002a3	03 c1		 add	 eax, ecx
  002a5	50		 push	 eax
  002a6	8d 95 4c fe ff
	ff		 lea	 edx, DWORD PTR _UserChatEcho$3[ebp]
  002ac	52		 push	 edx
  002ad	68 2c 01 00 00	 push	 300			; 0000012cH
  002b2	6a 03		 push	 3
  002b4	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  002b7	50		 push	 eax
  002b8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002bb	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN5@OnTCPNetwo:

; 1209 : 
; 1210 : 		////保存消息
; 1211 : 		//SaveOfflineMessage(pUserChat->dwTargetUserID,SUB_GC_USER_CHAT_NOTIFY,pData,wDataSize,dwSocketID);
; 1212 : 	}
; 1213 : 
; 1214 : 	return true;

  002c0	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 1215 : }

  002c2	5f		 pop	 edi
  002c3	5e		 pop	 esi
  002c4	5b		 pop	 ebx
  002c5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002c8	33 cd		 xor	 ecx, ebp
  002ca	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002cf	8b e5		 mov	 esp, ebp
  002d1	5d		 pop	 ebp
  002d2	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubUserChat
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_wHeadSize$ = -724					; size = 2
_wDataSize2$ = -720					; size = 2
_InviteGameEcho$ = -716					; size = 132
_wSize$ = -584						; size = 2
_VipRoomInviteNotify$ = -580				; size = 140
_wHeadSize$1 = -440					; size = 2
_wDataSize$2 = -436					; size = 2
_InviteGameEcho$3 = -432				; size = 132
_wHeadSize$4 = -300					; size = 2
_wDataSize$5 = -296					; size = 2
_InviteGameEcho$6 = -292				; size = 132
_pInvitedUserItem$ = -160				; size = 4
_wHeadSize$7 = -156					; size = 2
_wDataSize$8 = -152					; size = 2
_InviteGameEcho$9 = -148				; size = 132
_pServerUserItem$ = -16					; size = 4
_pVipRoomInvite$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubInvitePersonal, COMDAT
; _this$ = ecx

; 1071 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 54 03 00
	00		 sub	 esp, 852		; 00000354H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1072 : 	//效验参数
; 1073 : 	ASSERT(wDataSize<=sizeof(CMD_GC_InvitePersonalGame));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d 90 00 00 00	 cmp	 eax, 144		; 00000090H
  00022	76 19		 jbe	 SHORT $LN7@OnTCPNetwo
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN7@OnTCPNetwo
  0003c	cc		 int	 3
$LN7@OnTCPNetwo:

; 1074 : 	if (wDataSize>sizeof(CMD_GC_InvitePersonalGame)) return false;

  0003d	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d 90 00 00 00	 cmp	 eax, 144		; 00000090H
  00046	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  00048	32 c0		 xor	 al, al
  0004a	e9 74 03 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 1075 : 
; 1076 : 	//处理消息
; 1077 : 	CMD_GC_InvitePersonalGame * pVipRoomInvite=(CMD_GC_InvitePersonalGame *)pData;

  0004f	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pVipRoomInvite$[ebp], eax

; 1078 : 	ASSERT(pVipRoomInvite!=NULL);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pVipRoomInvite$[ebp], 0
  00059	75 18		 jne	 SHORT $LN8@OnTCPNetwo
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN8@OnTCPNetwo
  00072	cc		 int	 3
$LN8@OnTCPNetwo:

; 1079 : 	pVipRoomInvite->szInviteMsg[128]='\0';

  00073	b8 01 00 00 00	 mov	 eax, 1
  00078	c1 e0 07	 shl	 eax, 7
  0007b	8b 4d f4	 mov	 ecx, DWORD PTR _pVipRoomInvite$[ebp]
  0007e	c6 44 01 10 00	 mov	 BYTE PTR [ecx+eax+16], 0

; 1080 : 
; 1081 : 	//查找用户
; 1082 : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pVipRoomInvite->dwUserID);

  00083	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  00086	8b 08		 mov	 ecx, DWORD PTR [eax]
  00088	51		 push	 ecx
  00089	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0008c	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0008f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00092	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00095	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00098	ff d2		 call	 edx
  0009a	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 1083 : 	ASSERT(pServerUserItem!=NULL);

  0009d	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000a1	75 18		 jne	 SHORT $LN9@OnTCPNetwo
  000a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  000a8	83 c0 0c	 add	 eax, 12			; 0000000cH
  000ab	50		 push	 eax
  000ac	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000b1	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000b6	85 c0		 test	 eax, eax
  000b8	74 01		 je	 SHORT $LN9@OnTCPNetwo
  000ba	cc		 int	 3
$LN9@OnTCPNetwo:

; 1084 : 	if(pServerUserItem==NULL ) 

  000bb	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000bf	0f 85 8c 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 1085 : 	{
; 1086 : 		//邀请反馈
; 1087 : 		CMD_GC_InvitePersonalGameEcho InviteGameEcho;
; 1088 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  000c5	68 84 00 00 00	 push	 132			; 00000084H
  000ca	6a 00		 push	 0
  000cc	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp]
  000d2	50		 push	 eax
  000d3	e8 00 00 00 00	 call	 _memset
  000d8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1089 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  000db	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$9[ebp], 1

; 1090 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("信息超时"),CountArray(InviteGameEcho.szDescribeString));

  000e5	68 80 00 00 00	 push	 128			; 00000080H
  000ea	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000ef	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp+4]
  000f5	50		 push	 eax
  000f6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1091 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  000fc	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp+4]
  00102	50		 push	 eax
  00103	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00109	83 c0 01	 add	 eax, 1
  0010c	66 89 85 68 ff
	ff ff		 mov	 WORD PTR _wDataSize$8[ebp], ax

; 1092 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  00113	b8 04 00 00 00	 mov	 eax, 4
  00118	66 89 85 64 ff
	ff ff		 mov	 WORD PTR _wHeadSize$7[ebp], ax

; 1093 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_INVITE_PERSONAL_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  0011f	0f b7 85 64 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$7[ebp]
  00126	0f b7 8d 68 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$8[ebp]
  0012d	03 c1		 add	 eax, ecx
  0012f	50		 push	 eax
  00130	8d 95 6c ff ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$9[ebp]
  00136	52		 push	 edx
  00137	68 39 01 00 00	 push	 313			; 00000139H
  0013c	6a 03		 push	 3
  0013e	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00141	50		 push	 eax
  00142	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00145	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1094 : 
; 1095 : 		return false;

  0014a	32 c0		 xor	 al, al
  0014c	e9 72 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1096 : 	}
; 1097 : 
; 1098 : 	//查找用户
; 1099 : 	CServerUserItem * pInvitedUserItem = m_ServerUserManager.SearchUserItem(pVipRoomInvite->dwInvitedUserID);

  00151	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  00154	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00157	51		 push	 ecx
  00158	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0015b	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0015e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00161	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00164	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00167	ff d2		 call	 edx
  00169	89 85 60 ff ff
	ff		 mov	 DWORD PTR _pInvitedUserItem$[ebp], eax

; 1100 : 	if(pInvitedUserItem==NULL ) 

  0016f	83 bd 60 ff ff
	ff 00		 cmp	 DWORD PTR _pInvitedUserItem$[ebp], 0
  00176	0f 85 8c 00 00
	00		 jne	 $LN4@OnTCPNetwo

; 1101 : 	{
; 1102 : 		//邀请反馈
; 1103 : 		CMD_GC_InvitePersonalGameEcho InviteGameEcho;
; 1104 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  0017c	68 84 00 00 00	 push	 132			; 00000084H
  00181	6a 00		 push	 0
  00183	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp]
  00189	50		 push	 eax
  0018a	e8 00 00 00 00	 call	 _memset
  0018f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1105 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  00192	c7 85 dc fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$6[ebp], 1

; 1106 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("未找到此用户"),CountArray(InviteGameEcho.szDescribeString));

  0019c	68 80 00 00 00	 push	 128			; 00000080H
  001a1	68 00 00 00 00	 push	 OFFSET ??_C@_0N@CHHLMELJ@?N?$LE?U?R?$LF?$LN?$LE?K?S?C?$LL?$KH@
  001a6	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp+4]
  001ac	50		 push	 eax
  001ad	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1107 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  001b3	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp+4]
  001b9	50		 push	 eax
  001ba	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001c0	83 c0 01	 add	 eax, 1
  001c3	66 89 85 d8 fe
	ff ff		 mov	 WORD PTR _wDataSize$5[ebp], ax

; 1108 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  001ca	b8 04 00 00 00	 mov	 eax, 4
  001cf	66 89 85 d4 fe
	ff ff		 mov	 WORD PTR _wHeadSize$4[ebp], ax

; 1109 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_INVITE_PERSONAL_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  001d6	0f b7 85 d4 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$4[ebp]
  001dd	0f b7 8d d8 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$5[ebp]
  001e4	03 c1		 add	 eax, ecx
  001e6	50		 push	 eax
  001e7	8d 95 dc fe ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$6[ebp]
  001ed	52		 push	 edx
  001ee	68 39 01 00 00	 push	 313			; 00000139H
  001f3	6a 03		 push	 3
  001f5	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  001f8	50		 push	 eax
  001f9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001fc	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1110 : 
; 1111 : 		return true;

  00201	b0 01		 mov	 al, 1
  00203	e9 bb 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN4@OnTCPNetwo:

; 1112 : 	}
; 1113 : 
; 1114 : 	//离线检查
; 1115 : 	if(pInvitedUserItem->GetMainStatus()==FRIEND_US_OFFLINE) 

  00208	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _pInvitedUserItem$[ebp]
  0020e	8b 10		 mov	 edx, DWORD PTR [eax]
  00210	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR _pInvitedUserItem$[ebp]
  00216	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00219	ff d0		 call	 eax
  0021b	0f b6 c8	 movzx	 ecx, al
  0021e	85 c9		 test	 ecx, ecx
  00220	0f 85 8c 00 00
	00		 jne	 $LN5@OnTCPNetwo

; 1116 : 	{
; 1117 : 		//邀请反馈
; 1118 : 		CMD_GC_InvitePersonalGameEcho InviteGameEcho;
; 1119 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  00226	68 84 00 00 00	 push	 132			; 00000084H
  0022b	6a 00		 push	 0
  0022d	8d 85 50 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp]
  00233	50		 push	 eax
  00234	e8 00 00 00 00	 call	 _memset
  00239	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1120 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  0023c	c7 85 50 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$3[ebp], 1

; 1121 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("用户已经离线"),CountArray(InviteGameEcho.szDescribeString));

  00246	68 80 00 00 00	 push	 128			; 00000080H
  0024b	68 00 00 00 00	 push	 OFFSET ??_C@_0N@KFADCKOF@?S?C?$LL?$KH?R?Q?$LO?$KN?$MA?k?O?$NP@
  00250	8d 85 54 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp+4]
  00256	50		 push	 eax
  00257	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1122 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  0025d	8d 85 54 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp+4]
  00263	50		 push	 eax
  00264	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0026a	83 c0 01	 add	 eax, 1
  0026d	66 89 85 4c fe
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 1123 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  00274	b8 04 00 00 00	 mov	 eax, 4
  00279	66 89 85 48 fe
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 1124 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_INVITE_PERSONAL_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  00280	0f b7 85 48 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  00287	0f b7 8d 4c fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  0028e	03 c1		 add	 eax, ecx
  00290	50		 push	 eax
  00291	8d 95 50 fe ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$3[ebp]
  00297	52		 push	 edx
  00298	68 39 01 00 00	 push	 313			; 00000139H
  0029d	6a 03		 push	 3
  0029f	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  002a2	50		 push	 eax
  002a3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002a6	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1125 : 		return true;

  002ab	b0 01		 mov	 al, 1
  002ad	e9 11 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN5@OnTCPNetwo:

; 1126 : 	}
; 1127 : 
; 1128 : 	//发送邀请
; 1129 : 	CMD_GC_InvitePersonalGameNotify VipRoomInviteNotify;
; 1130 : 	VipRoomInviteNotify.dwInviteUserID=pVipRoomInvite->dwUserID;

  002b2	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002b5	8b 08		 mov	 ecx, DWORD PTR [eax]
  002b7	89 8d bc fd ff
	ff		 mov	 DWORD PTR _VipRoomInviteNotify$[ebp], ecx

; 1131 : 	VipRoomInviteNotify.wKindID = pVipRoomInvite->wKindID;

  002bd	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002c0	66 8b 48 08	 mov	 cx, WORD PTR [eax+8]
  002c4	66 89 8d c0 fd
	ff ff		 mov	 WORD PTR _VipRoomInviteNotify$[ebp+4], cx

; 1132 : 	VipRoomInviteNotify.dwServerNumber=pVipRoomInvite->dwServerNumber;

  002cb	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002ce	8b 48 0a	 mov	 ecx, DWORD PTR [eax+10]
  002d1	89 8d c2 fd ff
	ff		 mov	 DWORD PTR _VipRoomInviteNotify$[ebp+6], ecx

; 1133 : 	VipRoomInviteNotify.wTableID=pVipRoomInvite->wTableID;

  002d7	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002da	66 8b 48 0e	 mov	 cx, WORD PTR [eax+14]
  002de	66 89 8d c6 fd
	ff ff		 mov	 WORD PTR _VipRoomInviteNotify$[ebp+10], cx

; 1134 : 	lstrcpyn(VipRoomInviteNotify.szInviteMsg,pVipRoomInvite->szInviteMsg,CountArray(VipRoomInviteNotify.szInviteMsg));

  002e5	68 80 00 00 00	 push	 128			; 00000080H
  002ea	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002ed	83 c0 10	 add	 eax, 16			; 00000010H
  002f0	50		 push	 eax
  002f1	8d 8d c8 fd ff
	ff		 lea	 ecx, DWORD PTR _VipRoomInviteNotify$[ebp+12]
  002f7	51		 push	 ecx
  002f8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1135 : 
; 1136 : 	//发送数据
; 1137 : 	WORD wSize = sizeof(VipRoomInviteNotify);

  002fe	b8 8c 00 00 00	 mov	 eax, 140		; 0000008cH
  00303	66 89 85 b8 fd
	ff ff		 mov	 WORD PTR _wSize$[ebp], ax

; 1138 : 	SendData(((CLocalUserItem *)pInvitedUserItem)->GetSocketID(),MDM_GC_USER,SUB_GC_INVITE_PERSONAL_NOTIFY,&VipRoomInviteNotify,wSize);

  0030a	0f b7 85 b8 fd
	ff ff		 movzx	 eax, WORD PTR _wSize$[ebp]
  00311	50		 push	 eax
  00312	8d 8d bc fd ff
	ff		 lea	 ecx, DWORD PTR _VipRoomInviteNotify$[ebp]
  00318	51		 push	 ecx
  00319	68 d5 00 00 00	 push	 213			; 000000d5H
  0031e	6a 03		 push	 3
  00320	8b 95 60 ff ff
	ff		 mov	 edx, DWORD PTR _pInvitedUserItem$[ebp]
  00326	8b 02		 mov	 eax, DWORD PTR [edx]
  00328	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR _pInvitedUserItem$[ebp]
  0032e	8b 50 38	 mov	 edx, DWORD PTR [eax+56]
  00331	ff d2		 call	 edx
  00333	50		 push	 eax
  00334	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00337	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1139 : 
; 1140 : 	//回应反馈
; 1141 : 	CMD_GC_InvitePersonalGameEcho InviteGameEcho;
; 1142 : 	ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  0033c	68 84 00 00 00	 push	 132			; 00000084H
  00341	6a 00		 push	 0
  00343	8d 85 34 fd ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp]
  00349	50		 push	 eax
  0034a	e8 00 00 00 00	 call	 _memset
  0034f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1143 : 	InviteGameEcho.lErrorCode=CHAT_MSG_OK;

  00352	c7 85 34 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _InviteGameEcho$[ebp], 0

; 1144 : 	lstrcpyn(InviteGameEcho.szDescribeString,_T(""),CountArray(InviteGameEcho.szDescribeString));

  0035c	68 80 00 00 00	 push	 128			; 00000080H
  00361	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  00366	8d 85 38 fd ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp+4]
  0036c	50		 push	 eax
  0036d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1145 : 	WORD wDataSize2=CountStringBuffer(InviteGameEcho.szDescribeString);

  00373	8d 85 38 fd ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp+4]
  00379	50		 push	 eax
  0037a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00380	83 c0 01	 add	 eax, 1
  00383	66 89 85 30 fd
	ff ff		 mov	 WORD PTR _wDataSize2$[ebp], ax

; 1146 : 	WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  0038a	b8 04 00 00 00	 mov	 eax, 4
  0038f	66 89 85 2c fd
	ff ff		 mov	 WORD PTR _wHeadSize$[ebp], ax

; 1147 : 	SendData(dwSocketID,MDM_GC_USER,SUB_GC_INVITE_PERSONAL_ECHO,&InviteGameEcho,wHeadSize+wDataSize2);

  00396	0f b7 85 2c fd
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$[ebp]
  0039d	0f b7 8d 30 fd
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$[ebp]
  003a4	03 c1		 add	 eax, ecx
  003a6	50		 push	 eax
  003a7	8d 95 34 fd ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$[ebp]
  003ad	52		 push	 edx
  003ae	68 39 01 00 00	 push	 313			; 00000139H
  003b3	6a 03		 push	 3
  003b5	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  003b8	50		 push	 eax
  003b9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003bc	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1148 : 
; 1149 : 
; 1150 : 	return true;

  003c1	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 1151 : }

  003c3	5f		 pop	 edi
  003c4	5e		 pop	 esi
  003c5	5b		 pop	 ebx
  003c6	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003c9	33 cd		 xor	 ecx, ebp
  003cb	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003d0	8b e5		 mov	 esp, ebp
  003d2	5d		 pop	 ebp
  003d3	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubInvitePersonal
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_wHeadSize$ = -724					; size = 2
_wDataSize2$ = -720					; size = 2
_InviteGameEcho$ = -716					; size = 132
_wSize$ = -584						; size = 2
_VipRoomInviteNotify$ = -580				; size = 138
_wHeadSize$1 = -440					; size = 2
_wDataSize$2 = -436					; size = 2
_InviteGameEcho$3 = -432				; size = 132
_wHeadSize$4 = -300					; size = 2
_wDataSize$5 = -296					; size = 2
_InviteGameEcho$6 = -292				; size = 132
_pInvitedUserItem$ = -160				; size = 4
_wHeadSize$7 = -156					; size = 2
_wDataSize$8 = -152					; size = 2
_InviteGameEcho$9 = -148				; size = 132
_pServerUserItem$ = -16					; size = 4
_pVipRoomInvite$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubRoomInvite, COMDAT
; _this$ = ecx

; 987  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 54 03 00
	00		 sub	 esp, 852		; 00000354H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 988  : 	//效验参数
; 989  : 	ASSERT(wDataSize<=sizeof(CMD_GC_InviteGame));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	3d 8e 00 00 00	 cmp	 eax, 142		; 0000008eH
  00022	76 19		 jbe	 SHORT $LN7@OnTCPNetwo
  00024	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0002a	83 c1 02	 add	 ecx, 2
  0002d	51		 push	 ecx
  0002e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00033	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00038	85 c0		 test	 eax, eax
  0003a	74 01		 je	 SHORT $LN7@OnTCPNetwo
  0003c	cc		 int	 3
$LN7@OnTCPNetwo:

; 990  : 	if (wDataSize>sizeof(CMD_GC_InviteGame)) return false;

  0003d	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00041	3d 8e 00 00 00	 cmp	 eax, 142		; 0000008eH
  00046	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  00048	32 c0		 xor	 al, al
  0004a	e9 76 03 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 991  : 
; 992  : 	//处理消息
; 993  : 	CMD_GC_InviteGame * pVipRoomInvite=(CMD_GC_InviteGame *)pData;

  0004f	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  00052	89 45 f4	 mov	 DWORD PTR _pVipRoomInvite$[ebp], eax

; 994  : 	ASSERT(pVipRoomInvite!=NULL);

  00055	83 7d f4 00	 cmp	 DWORD PTR _pVipRoomInvite$[ebp], 0
  00059	75 18		 jne	 SHORT $LN8@OnTCPNetwo
  0005b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00060	83 c0 07	 add	 eax, 7
  00063	50		 push	 eax
  00064	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00069	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006e	85 c0		 test	 eax, eax
  00070	74 01		 je	 SHORT $LN8@OnTCPNetwo
  00072	cc		 int	 3
$LN8@OnTCPNetwo:

; 995  : 	pVipRoomInvite->szInviteMsg[128]='\0';

  00073	b8 01 00 00 00	 mov	 eax, 1
  00078	c1 e0 07	 shl	 eax, 7
  0007b	8b 4d f4	 mov	 ecx, DWORD PTR _pVipRoomInvite$[ebp]
  0007e	c6 44 01 0e 00	 mov	 BYTE PTR [ecx+eax+14], 0

; 996  : 
; 997  : 	//查找用户
; 998  : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pVipRoomInvite->dwUserID);

  00083	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  00086	8b 08		 mov	 ecx, DWORD PTR [eax]
  00088	51		 push	 ecx
  00089	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0008c	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0008f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00092	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00095	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00098	ff d2		 call	 edx
  0009a	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 999  : 	ASSERT(pServerUserItem!=NULL);

  0009d	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000a1	75 18		 jne	 SHORT $LN9@OnTCPNetwo
  000a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  000a8	83 c0 0c	 add	 eax, 12			; 0000000cH
  000ab	50		 push	 eax
  000ac	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000b1	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000b6	85 c0		 test	 eax, eax
  000b8	74 01		 je	 SHORT $LN9@OnTCPNetwo
  000ba	cc		 int	 3
$LN9@OnTCPNetwo:

; 1000 : 	if(pServerUserItem==NULL ) 

  000bb	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000bf	0f 85 8c 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 1001 : 	{
; 1002 : 		//邀请反馈
; 1003 : 		CMD_GC_InviteGameEcho InviteGameEcho;
; 1004 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  000c5	68 84 00 00 00	 push	 132			; 00000084H
  000ca	6a 00		 push	 0
  000cc	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp]
  000d2	50		 push	 eax
  000d3	e8 00 00 00 00	 call	 _memset
  000d8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1005 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  000db	c7 85 6c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$9[ebp], 1

; 1006 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("信息超时"),CountArray(InviteGameEcho.szDescribeString));

  000e5	68 80 00 00 00	 push	 128			; 00000080H
  000ea	68 00 00 00 00	 push	 OFFSET ??_C@_08GAAKOEKK@?P?E?O?$KC?$LD?$KM?J?$LB@
  000ef	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp+4]
  000f5	50		 push	 eax
  000f6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1007 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  000fc	8d 85 70 ff ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$9[ebp+4]
  00102	50		 push	 eax
  00103	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00109	83 c0 01	 add	 eax, 1
  0010c	66 89 85 68 ff
	ff ff		 mov	 WORD PTR _wDataSize$8[ebp], ax

; 1008 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  00113	b8 04 00 00 00	 mov	 eax, 4
  00118	66 89 85 64 ff
	ff ff		 mov	 WORD PTR _wHeadSize$7[ebp], ax

; 1009 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_INVITE_GAME_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  0011f	0f b7 85 64 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$7[ebp]
  00126	0f b7 8d 68 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$8[ebp]
  0012d	03 c1		 add	 eax, ecx
  0012f	50		 push	 eax
  00130	8d 95 6c ff ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$9[ebp]
  00136	52		 push	 edx
  00137	68 30 01 00 00	 push	 304			; 00000130H
  0013c	6a 03		 push	 3
  0013e	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00141	50		 push	 eax
  00142	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00145	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1010 : 
; 1011 : 		return false;

  0014a	32 c0		 xor	 al, al
  0014c	e9 74 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 1012 : 	}
; 1013 : 
; 1014 : 	//查找用户
; 1015 : 	CServerUserItem * pInvitedUserItem = m_ServerUserManager.SearchUserItem(pVipRoomInvite->dwInvitedUserID);

  00151	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  00154	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00157	51		 push	 ecx
  00158	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0015b	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0015e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00161	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00164	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00167	ff d2		 call	 edx
  00169	89 85 60 ff ff
	ff		 mov	 DWORD PTR _pInvitedUserItem$[ebp], eax

; 1016 : 	if(pInvitedUserItem==NULL ) 

  0016f	83 bd 60 ff ff
	ff 00		 cmp	 DWORD PTR _pInvitedUserItem$[ebp], 0
  00176	0f 85 8c 00 00
	00		 jne	 $LN4@OnTCPNetwo

; 1017 : 	{
; 1018 : 		//邀请反馈
; 1019 : 		CMD_GC_InviteGameEcho InviteGameEcho;
; 1020 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  0017c	68 84 00 00 00	 push	 132			; 00000084H
  00181	6a 00		 push	 0
  00183	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp]
  00189	50		 push	 eax
  0018a	e8 00 00 00 00	 call	 _memset
  0018f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1021 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  00192	c7 85 dc fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$6[ebp], 1

; 1022 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("未找到此用户"),CountArray(InviteGameEcho.szDescribeString));

  0019c	68 80 00 00 00	 push	 128			; 00000080H
  001a1	68 00 00 00 00	 push	 OFFSET ??_C@_0N@CHHLMELJ@?N?$LE?U?R?$LF?$LN?$LE?K?S?C?$LL?$KH@
  001a6	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp+4]
  001ac	50		 push	 eax
  001ad	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1023 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  001b3	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$6[ebp+4]
  001b9	50		 push	 eax
  001ba	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001c0	83 c0 01	 add	 eax, 1
  001c3	66 89 85 d8 fe
	ff ff		 mov	 WORD PTR _wDataSize$5[ebp], ax

; 1024 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  001ca	b8 04 00 00 00	 mov	 eax, 4
  001cf	66 89 85 d4 fe
	ff ff		 mov	 WORD PTR _wHeadSize$4[ebp], ax

; 1025 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_INVITE_GAME_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  001d6	0f b7 85 d4 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$4[ebp]
  001dd	0f b7 8d d8 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$5[ebp]
  001e4	03 c1		 add	 eax, ecx
  001e6	50		 push	 eax
  001e7	8d 95 dc fe ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$6[ebp]
  001ed	52		 push	 edx
  001ee	68 30 01 00 00	 push	 304			; 00000130H
  001f3	6a 03		 push	 3
  001f5	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  001f8	50		 push	 eax
  001f9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001fc	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1026 : 
; 1027 : 		return true;

  00201	b0 01		 mov	 al, 1
  00203	e9 bd 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN4@OnTCPNetwo:

; 1028 : 	}
; 1029 : 
; 1030 : 	//离线检查
; 1031 : 	if(pInvitedUserItem->GetMainStatus()==FRIEND_US_OFFLINE) 

  00208	8b 85 60 ff ff
	ff		 mov	 eax, DWORD PTR _pInvitedUserItem$[ebp]
  0020e	8b 10		 mov	 edx, DWORD PTR [eax]
  00210	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR _pInvitedUserItem$[ebp]
  00216	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00219	ff d0		 call	 eax
  0021b	0f b6 c8	 movzx	 ecx, al
  0021e	85 c9		 test	 ecx, ecx
  00220	0f 85 8c 00 00
	00		 jne	 $LN5@OnTCPNetwo

; 1032 : 	{
; 1033 : 		//邀请反馈
; 1034 : 		CMD_GC_InviteGameEcho InviteGameEcho;
; 1035 : 		ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  00226	68 84 00 00 00	 push	 132			; 00000084H
  0022b	6a 00		 push	 0
  0022d	8d 85 50 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp]
  00233	50		 push	 eax
  00234	e8 00 00 00 00	 call	 _memset
  00239	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1036 : 		InviteGameEcho.lErrorCode=CHAT_MSG_ERR;

  0023c	c7 85 50 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _InviteGameEcho$3[ebp], 1

; 1037 : 		lstrcpyn(InviteGameEcho.szDescribeString,_T("用户已经离线"),CountArray(InviteGameEcho.szDescribeString));

  00246	68 80 00 00 00	 push	 128			; 00000080H
  0024b	68 00 00 00 00	 push	 OFFSET ??_C@_0N@KFADCKOF@?S?C?$LL?$KH?R?Q?$LO?$KN?$MA?k?O?$NP@
  00250	8d 85 54 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp+4]
  00256	50		 push	 eax
  00257	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1038 : 		WORD wDataSize=CountStringBuffer(InviteGameEcho.szDescribeString);

  0025d	8d 85 54 fe ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$3[ebp+4]
  00263	50		 push	 eax
  00264	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0026a	83 c0 01	 add	 eax, 1
  0026d	66 89 85 4c fe
	ff ff		 mov	 WORD PTR _wDataSize$2[ebp], ax

; 1039 : 		WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  00274	b8 04 00 00 00	 mov	 eax, 4
  00279	66 89 85 48 fe
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 1040 : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_INVITE_GAME_ECHO,&InviteGameEcho,wHeadSize+wDataSize);

  00280	0f b7 85 48 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  00287	0f b7 8d 4c fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize$2[ebp]
  0028e	03 c1		 add	 eax, ecx
  00290	50		 push	 eax
  00291	8d 95 50 fe ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$3[ebp]
  00297	52		 push	 edx
  00298	68 30 01 00 00	 push	 304			; 00000130H
  0029d	6a 03		 push	 3
  0029f	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  002a2	50		 push	 eax
  002a3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002a6	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1041 : 		return true;

  002ab	b0 01		 mov	 al, 1
  002ad	e9 13 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN5@OnTCPNetwo:

; 1042 : 	}
; 1043 : 
; 1044 : 	//发送邀请
; 1045 : 	CMD_GC_InviteGameNotify VipRoomInviteNotify;
; 1046 : 	VipRoomInviteNotify.dwInviteUserID=pVipRoomInvite->dwUserID;

  002b2	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002b5	8b 08		 mov	 ecx, DWORD PTR [eax]
  002b7	89 8d bc fd ff
	ff		 mov	 DWORD PTR _VipRoomInviteNotify$[ebp], ecx

; 1047 : 	VipRoomInviteNotify.wKindID = pVipRoomInvite->wKindID;

  002bd	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002c0	66 8b 48 08	 mov	 cx, WORD PTR [eax+8]
  002c4	66 89 8d c0 fd
	ff ff		 mov	 WORD PTR _VipRoomInviteNotify$[ebp+4], cx

; 1048 : 	VipRoomInviteNotify.wServerID=pVipRoomInvite->wServerID;

  002cb	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002ce	66 8b 48 0a	 mov	 cx, WORD PTR [eax+10]
  002d2	66 89 8d c2 fd
	ff ff		 mov	 WORD PTR _VipRoomInviteNotify$[ebp+6], cx

; 1049 : 	VipRoomInviteNotify.wTableID=pVipRoomInvite->wTableID;

  002d9	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002dc	66 8b 48 0c	 mov	 cx, WORD PTR [eax+12]
  002e0	66 89 8d c4 fd
	ff ff		 mov	 WORD PTR _VipRoomInviteNotify$[ebp+8], cx

; 1050 : 	lstrcpyn(VipRoomInviteNotify.szInviteMsg,pVipRoomInvite->szInviteMsg,CountArray(VipRoomInviteNotify.szInviteMsg));

  002e7	68 80 00 00 00	 push	 128			; 00000080H
  002ec	8b 45 f4	 mov	 eax, DWORD PTR _pVipRoomInvite$[ebp]
  002ef	83 c0 0e	 add	 eax, 14			; 0000000eH
  002f2	50		 push	 eax
  002f3	8d 8d c6 fd ff
	ff		 lea	 ecx, DWORD PTR _VipRoomInviteNotify$[ebp+10]
  002f9	51		 push	 ecx
  002fa	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1051 : 
; 1052 : 	//发送数据
; 1053 : 	WORD wSize = sizeof(VipRoomInviteNotify);

  00300	b8 8a 00 00 00	 mov	 eax, 138		; 0000008aH
  00305	66 89 85 b8 fd
	ff ff		 mov	 WORD PTR _wSize$[ebp], ax

; 1054 : 	SendData(((CLocalUserItem *)pInvitedUserItem)->GetSocketID(),MDM_GC_USER,SUB_GC_INVITE_GAME_NOTIFY,&VipRoomInviteNotify,wSize);

  0030c	0f b7 85 b8 fd
	ff ff		 movzx	 eax, WORD PTR _wSize$[ebp]
  00313	50		 push	 eax
  00314	8d 8d bc fd ff
	ff		 lea	 ecx, DWORD PTR _VipRoomInviteNotify$[ebp]
  0031a	51		 push	 ecx
  0031b	68 cc 00 00 00	 push	 204			; 000000ccH
  00320	6a 03		 push	 3
  00322	8b 95 60 ff ff
	ff		 mov	 edx, DWORD PTR _pInvitedUserItem$[ebp]
  00328	8b 02		 mov	 eax, DWORD PTR [edx]
  0032a	8b 8d 60 ff ff
	ff		 mov	 ecx, DWORD PTR _pInvitedUserItem$[ebp]
  00330	8b 50 38	 mov	 edx, DWORD PTR [eax+56]
  00333	ff d2		 call	 edx
  00335	50		 push	 eax
  00336	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00339	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1055 : 
; 1056 : 	//回应反馈
; 1057 : 	CMD_GC_InviteGameEcho InviteGameEcho;
; 1058 : 	ZeroMemory(&InviteGameEcho,sizeof(InviteGameEcho));

  0033e	68 84 00 00 00	 push	 132			; 00000084H
  00343	6a 00		 push	 0
  00345	8d 85 34 fd ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp]
  0034b	50		 push	 eax
  0034c	e8 00 00 00 00	 call	 _memset
  00351	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1059 : 	InviteGameEcho.lErrorCode=CHAT_MSG_OK;

  00354	c7 85 34 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _InviteGameEcho$[ebp], 0

; 1060 : 	lstrcpyn(InviteGameEcho.szDescribeString,_T(""),CountArray(InviteGameEcho.szDescribeString));

  0035e	68 80 00 00 00	 push	 128			; 00000080H
  00363	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  00368	8d 85 38 fd ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp+4]
  0036e	50		 push	 eax
  0036f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 1061 : 	WORD wDataSize2=CountStringBuffer(InviteGameEcho.szDescribeString);

  00375	8d 85 38 fd ff
	ff		 lea	 eax, DWORD PTR _InviteGameEcho$[ebp+4]
  0037b	50		 push	 eax
  0037c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00382	83 c0 01	 add	 eax, 1
  00385	66 89 85 30 fd
	ff ff		 mov	 WORD PTR _wDataSize2$[ebp], ax

; 1062 : 	WORD wHeadSize=sizeof(InviteGameEcho)-sizeof(InviteGameEcho.szDescribeString);

  0038c	b8 04 00 00 00	 mov	 eax, 4
  00391	66 89 85 2c fd
	ff ff		 mov	 WORD PTR _wHeadSize$[ebp], ax

; 1063 : 	SendData(dwSocketID,MDM_GC_USER,SUB_GC_INVITE_GAME_ECHO,&InviteGameEcho,wHeadSize+wDataSize2);

  00398	0f b7 85 2c fd
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$[ebp]
  0039f	0f b7 8d 30 fd
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$[ebp]
  003a6	03 c1		 add	 eax, ecx
  003a8	50		 push	 eax
  003a9	8d 95 34 fd ff
	ff		 lea	 edx, DWORD PTR _InviteGameEcho$[ebp]
  003af	52		 push	 edx
  003b0	68 30 01 00 00	 push	 304			; 00000130H
  003b5	6a 03		 push	 3
  003b7	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  003ba	50		 push	 eax
  003bb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003be	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 1064 : 
; 1065 : 
; 1066 : 	return true;

  003c3	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 1067 : }

  003c5	5f		 pop	 edi
  003c6	5e		 pop	 esi
  003c7	5b		 pop	 ebx
  003c8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003cb	33 cd		 xor	 ecx, ebp
  003cd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003d2	8b e5		 mov	 esp, ebp
  003d4	5d		 pop	 ebp
  003d5	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubRoomInvite
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_wHeadSize$ = -596					; size = 2
_wDataSize2$ = -592					; size = 2
_RespondFriendEcho$ = -588				; size = 132
_wSize$1 = -456						; size = 2
_RespondNotify$2 = -452					; size = 128
_bBufferMessage$3 = -321				; size = 1
_AddFriend$4 = -320					; size = 16
_wHeadSize$5 = -304					; size = 2
_wDataSize2$6 = -300					; size = 2
_RespondFriendEcho$7 = -296				; size = 132
_pUserFriendGroup$ = -164				; size = 4
_wHeadSize$8 = -160					; size = 2
_wDataSize2$9 = -156					; size = 2
_RespondFriendEcho$10 = -152				; size = 132
_pRequestUserItem$ = -20				; size = 4
_pServerUserItem$ = -16					; size = 4
_pRespondFriend$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubRespondFriend, COMDAT
; _this$ = ecx

; 885  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 02 00
	00		 sub	 esp, 724		; 000002d4H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 886  : 	//效验参数
; 887  : 	ASSERT(wDataSize==sizeof(CMD_GC_RespondFriend));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	83 f8 0b	 cmp	 eax, 11			; 0000000bH
  00020	74 19		 je	 SHORT $LN15@OnTCPNetwo
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00028	83 c1 02	 add	 ecx, 2
  0002b	51		 push	 ecx
  0002c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00031	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00036	85 c0		 test	 eax, eax
  00038	74 01		 je	 SHORT $LN15@OnTCPNetwo
  0003a	cc		 int	 3
$LN15@OnTCPNetwo:

; 888  : 	if (wDataSize!=sizeof(CMD_GC_RespondFriend)) return false;

  0003b	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0003f	83 f8 0b	 cmp	 eax, 11			; 0000000bH
  00042	74 07		 je	 SHORT $LN2@OnTCPNetwo
  00044	32 c0		 xor	 al, al
  00046	e9 a3 03 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 889  : 
; 890  : 	//处理消息
; 891  : 	CMD_GC_RespondFriend * pRespondFriend=(CMD_GC_RespondFriend *)pData;

  0004b	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  0004e	89 45 f4	 mov	 DWORD PTR _pRespondFriend$[ebp], eax

; 892  : 	ASSERT(pRespondFriend!=NULL);

  00051	83 7d f4 00	 cmp	 DWORD PTR _pRespondFriend$[ebp], 0
  00055	75 18		 jne	 SHORT $LN16@OnTCPNetwo
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0005c	83 c0 07	 add	 eax, 7
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00065	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006a	85 c0		 test	 eax, eax
  0006c	74 01		 je	 SHORT $LN16@OnTCPNetwo
  0006e	cc		 int	 3
$LN16@OnTCPNetwo:

; 893  : 
; 894  : 	//查找用户
; 895  : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pRespondFriend->dwUserID);

  0006f	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  00072	8b 08		 mov	 ecx, DWORD PTR [eax]
  00074	51		 push	 ecx
  00075	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00078	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0007b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0007e	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00081	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00084	ff d2		 call	 edx
  00086	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 896  : 	CServerUserItem * pRequestUserItem = m_ServerUserManager.SearchUserItem(pRespondFriend->dwRequestID);

  00089	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  0008c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0008f	51		 push	 ecx
  00090	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00093	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00096	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00099	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0009c	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  0009f	ff d2		 call	 edx
  000a1	89 45 ec	 mov	 DWORD PTR _pRequestUserItem$[ebp], eax

; 897  : 	if(pServerUserItem==NULL ) 

  000a4	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000a8	0f 85 8c 00 00
	00		 jne	 $LN3@OnTCPNetwo

; 898  : 	{
; 899  : 		//回应反馈
; 900  : 		CMD_GC_RespondFriendEcho RespondFriendEcho;
; 901  : 		ZeroMemory(&RespondFriendEcho,sizeof(RespondFriendEcho));

  000ae	68 84 00 00 00	 push	 132			; 00000084H
  000b3	6a 00		 push	 0
  000b5	8d 85 68 ff ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$10[ebp]
  000bb	50		 push	 eax
  000bc	e8 00 00 00 00	 call	 _memset
  000c1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 902  : 		RespondFriendEcho.lErrorCode=CHAT_MSG_ERR;

  000c4	c7 85 68 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _RespondFriendEcho$10[ebp], 1

; 903  : 		lstrcpyn(RespondFriendEcho.szDescribeString,_T("未找到此用户"),CountArray(RespondFriendEcho.szDescribeString));

  000ce	68 80 00 00 00	 push	 128			; 00000080H
  000d3	68 00 00 00 00	 push	 OFFSET ??_C@_0N@CHHLMELJ@?N?$LE?U?R?$LF?$LN?$LE?K?S?C?$LL?$KH@
  000d8	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$10[ebp+4]
  000de	50		 push	 eax
  000df	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 904  : 		WORD wDataSize2=CountStringBuffer(RespondFriendEcho.szDescribeString);

  000e5	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$10[ebp+4]
  000eb	50		 push	 eax
  000ec	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  000f2	83 c0 01	 add	 eax, 1
  000f5	66 89 85 64 ff
	ff ff		 mov	 WORD PTR _wDataSize2$9[ebp], ax

; 905  : 		WORD wHeadSize=sizeof(RespondFriendEcho)-sizeof(RespondFriendEcho.szDescribeString);

  000fc	b8 04 00 00 00	 mov	 eax, 4
  00101	66 89 85 60 ff
	ff ff		 mov	 WORD PTR _wHeadSize$8[ebp], ax

; 906  : 		SendData(dwSocketID,MDM_GC_USER,SUB_GC_RESPOND_FRIEND_ECHO,&RespondFriendEcho,wHeadSize+wDataSize2);

  00108	0f b7 85 60 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$8[ebp]
  0010f	0f b7 8d 64 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$9[ebp]
  00116	03 c1		 add	 eax, ecx
  00118	50		 push	 eax
  00119	8d 95 68 ff ff
	ff		 lea	 edx, DWORD PTR _RespondFriendEcho$10[ebp]
  0011f	52		 push	 edx
  00120	68 2e 01 00 00	 push	 302			; 0000012eH
  00125	6a 03		 push	 3
  00127	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0012a	50		 push	 eax
  0012b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0012e	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 907  : 		return true;

  00133	b0 01		 mov	 al, 1
  00135	e9 b4 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 908  : 	}
; 909  : 
; 910  : 	//查找对象
; 911  : 	CUserFriendGroup * pUserFriendGroup = m_FriendGroupManager.SearchGroupItem(pRespondFriend->dwRequestID);

  0013a	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  0013d	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00140	51		 push	 ecx
  00141	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00144	83 c1 68	 add	 ecx, 104		; 00000068H
  00147	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0014a	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  0014d	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00150	ff d2		 call	 edx
  00152	89 85 5c ff ff
	ff		 mov	 DWORD PTR _pUserFriendGroup$[ebp], eax

; 912  : 	if(pUserFriendGroup!=NULL) 

  00158	83 bd 5c ff ff
	ff 00		 cmp	 DWORD PTR _pUserFriendGroup$[ebp], 0
  0015f	0f 84 a5 00 00
	00		 je	 $LN4@OnTCPNetwo

; 913  : 	{
; 914  : 		if(pUserFriendGroup->SearchFriendItem(pRespondFriend->dwUserID)!=NULL) 

  00165	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  00168	8b 08		 mov	 ecx, DWORD PTR [eax]
  0016a	51		 push	 ecx
  0016b	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _pUserFriendGroup$[ebp]
  00171	e8 00 00 00 00	 call	 ?SearchFriendItem@CUserFriendGroup@@QAEPAUtagServerFriendInfo@@K@Z ; CUserFriendGroup::SearchFriendItem
  00176	85 c0		 test	 eax, eax
  00178	0f 84 8c 00 00
	00		 je	 $LN4@OnTCPNetwo

; 915  : 		{
; 916  : 			//回应反馈
; 917  : 			CMD_GC_RespondFriendEcho RespondFriendEcho;
; 918  : 			ZeroMemory(&RespondFriendEcho,sizeof(RespondFriendEcho));

  0017e	68 84 00 00 00	 push	 132			; 00000084H
  00183	6a 00		 push	 0
  00185	8d 85 d8 fe ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$7[ebp]
  0018b	50		 push	 eax
  0018c	e8 00 00 00 00	 call	 _memset
  00191	83 c4 0c	 add	 esp, 12			; 0000000cH

; 919  : 			RespondFriendEcho.lErrorCode=CHAT_MSG_ERR;

  00194	c7 85 d8 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR _RespondFriendEcho$7[ebp], 1

; 920  : 			lstrcpyn(RespondFriendEcho.szDescribeString,_T("已经是好友"),CountArray(RespondFriendEcho.szDescribeString));

  0019e	68 80 00 00 00	 push	 128			; 00000080H
  001a3	68 00 00 00 00	 push	 OFFSET ??_C@_0L@IPJFNCOP@?R?Q?$LO?$KN?J?G?$LK?C?S?Q@
  001a8	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$7[ebp+4]
  001ae	50		 push	 eax
  001af	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 921  : 			WORD wDataSize2=CountStringBuffer(RespondFriendEcho.szDescribeString);

  001b5	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$7[ebp+4]
  001bb	50		 push	 eax
  001bc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001c2	83 c0 01	 add	 eax, 1
  001c5	66 89 85 d4 fe
	ff ff		 mov	 WORD PTR _wDataSize2$6[ebp], ax

; 922  : 			WORD wHeadSize=sizeof(RespondFriendEcho)-sizeof(RespondFriendEcho.szDescribeString);

  001cc	b8 04 00 00 00	 mov	 eax, 4
  001d1	66 89 85 d0 fe
	ff ff		 mov	 WORD PTR _wHeadSize$5[ebp], ax

; 923  : 			SendData(dwSocketID,MDM_GC_USER,SUB_GC_RESPOND_FRIEND_ECHO,&RespondFriendEcho,wHeadSize+wDataSize2);

  001d8	0f b7 85 d0 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$5[ebp]
  001df	0f b7 8d d4 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$6[ebp]
  001e6	03 c1		 add	 eax, ecx
  001e8	50		 push	 eax
  001e9	8d 95 d8 fe ff
	ff		 lea	 edx, DWORD PTR _RespondFriendEcho$7[ebp]
  001ef	52		 push	 edx
  001f0	68 2e 01 00 00	 push	 302			; 0000012eH
  001f5	6a 03		 push	 3
  001f7	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  001fa	50		 push	 eax
  001fb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001fe	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 924  : 			return true;

  00203	b0 01		 mov	 al, 1
  00205	e9 e4 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN4@OnTCPNetwo:

; 925  : 		}
; 926  : 	}
; 927  : 
; 928  : 	//接受申请
; 929  : 	if(pRespondFriend->bAccepted==true)

  0020a	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  0020d	0f b6 48 0a	 movzx	 ecx, BYTE PTR [eax+10]
  00211	83 f9 01	 cmp	 ecx, 1
  00214	75 73		 jne	 SHORT $LN6@OnTCPNetwo

; 930  : 	{
; 931  : 		//构造结构
; 932  : 		DBR_GR_AddFriend AddFriend;
; 933  : 		AddFriend.bLoadUserInfo = false;

  00216	c6 85 c0 fe ff
	ff 00		 mov	 BYTE PTR _AddFriend$4[ebp], 0

; 934  : 		AddFriend.dwRequestUserID = pRespondFriend->dwRequestID;

  0021d	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  00220	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00223	89 8d c8 fe ff
	ff		 mov	 DWORD PTR _AddFriend$4[ebp+8], ecx

; 935  : 		AddFriend.dwUserID = pRespondFriend->dwUserID;

  00229	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  0022c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0022e	89 8d c4 fe ff
	ff		 mov	 DWORD PTR _AddFriend$4[ebp+4], ecx

; 936  : 		AddFriend.cbRequestGroupID = pRespondFriend->cbRequestGroupID;

  00234	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  00237	8a 48 08	 mov	 cl, BYTE PTR [eax+8]
  0023a	88 8d cd fe ff
	ff		 mov	 BYTE PTR _AddFriend$4[ebp+13], cl

; 937  : 		AddFriend.cbGroupID = pRespondFriend->cbGroupID;		

  00240	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  00243	8a 48 09	 mov	 cl, BYTE PTR [eax+9]
  00246	88 8d cc fe ff
	ff		 mov	 BYTE PTR _AddFriend$4[ebp+12], cl

; 938  : 		if(pRequestUserItem==NULL )

  0024c	83 7d ec 00	 cmp	 DWORD PTR _pRequestUserItem$[ebp], 0
  00250	75 07		 jne	 SHORT $LN8@OnTCPNetwo

; 939  : 		{
; 940  : 			AddFriend.bLoadUserInfo = true;

  00252	c6 85 c0 fe ff
	ff 01		 mov	 BYTE PTR _AddFriend$4[ebp], 1
$LN8@OnTCPNetwo:

; 941  : 		}		
; 942  : 
; 943  : 		//投递请求
; 944  : 		m_pIDataBaseEngine->PostDataBaseRequest(DBR_GR_ADD_FRIEND,dwSocketID,&AddFriend,sizeof(AddFriend));

  00259	6a 10		 push	 16			; 00000010H
  0025b	8d 85 c0 fe ff
	ff		 lea	 eax, DWORD PTR _AddFriend$4[ebp]
  00261	50		 push	 eax
  00262	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00265	51		 push	 ecx
  00266	68 d0 00 00 00	 push	 208			; 000000d0H
  0026b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0026e	8b 82 e8 00 00
	00		 mov	 eax, DWORD PTR [edx+232]
  00274	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00277	8b 10		 mov	 edx, DWORD PTR [eax]
  00279	8b 89 e8 00 00
	00		 mov	 ecx, DWORD PTR [ecx+232]
  0027f	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  00282	ff d0		 call	 eax

; 945  : 	}
; 946  : 	else

  00284	e9 de 00 00 00	 jmp	 $LN7@OnTCPNetwo
$LN6@OnTCPNetwo:

; 947  : 	{
; 948  : 		//变量定义
; 949  : 		bool bBufferMessage=false;

  00289	c6 85 bf fe ff
	ff 00		 mov	 BYTE PTR _bBufferMessage$3[ebp], 0

; 950  : 		if(pRequestUserItem==NULL) bBufferMessage=true;

  00290	83 7d ec 00	 cmp	 DWORD PTR _pRequestUserItem$[ebp], 0
  00294	75 07		 jne	 SHORT $LN9@OnTCPNetwo
  00296	c6 85 bf fe ff
	ff 01		 mov	 BYTE PTR _bBufferMessage$3[ebp], 1
$LN9@OnTCPNetwo:

; 951  : 		if(pRequestUserItem && pRequestUserItem->GetMainStatus()==FRIEND_US_OFFLINE) bBufferMessage=true;

  0029d	83 7d ec 00	 cmp	 DWORD PTR _pRequestUserItem$[ebp], 0
  002a1	74 1b		 je	 SHORT $LN10@OnTCPNetwo
  002a3	8b 45 ec	 mov	 eax, DWORD PTR _pRequestUserItem$[ebp]
  002a6	8b 10		 mov	 edx, DWORD PTR [eax]
  002a8	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  002ab	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  002ae	ff d0		 call	 eax
  002b0	0f b6 c8	 movzx	 ecx, al
  002b3	85 c9		 test	 ecx, ecx
  002b5	75 07		 jne	 SHORT $LN10@OnTCPNetwo
  002b7	c6 85 bf fe ff
	ff 01		 mov	 BYTE PTR _bBufferMessage$3[ebp], 1
$LN10@OnTCPNetwo:

; 952  : 
; 953  : 		//构造结构
; 954  : 		CMD_GC_RespondNotify RespondNotify;
; 955  : 		_sntprintf(RespondNotify.szNotifyContent,CountArray(RespondNotify.szNotifyContent),TEXT("%s 拒绝了您的好友申请！"),((CLocalUserItem *)pServerUserItem)->GetNickName());

  002be	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  002c1	8b 10		 mov	 edx, DWORD PTR [eax]
  002c3	8b 4d f0	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  002c6	8b 42 34	 mov	 eax, DWORD PTR [edx+52]
  002c9	ff d0		 call	 eax
  002cb	50		 push	 eax
  002cc	68 00 00 00 00	 push	 OFFSET ??_C@_0BI@KMJOMEDM@?$CFs?5?$LO?$NM?$LO?x?A?K?D?z?$LF?D?$LK?C?S?Q?I?j?G?k?$KD?$KB@
  002d1	68 80 00 00 00	 push	 128			; 00000080H
  002d6	8d 8d 3c fe ff
	ff		 lea	 ecx, DWORD PTR _RespondNotify$2[ebp]
  002dc	51		 push	 ecx
  002dd	e8 00 00 00 00	 call	 __snprintf
  002e2	83 c4 10	 add	 esp, 16			; 00000010H

; 956  : 
; 957  : 		//缓存消息
; 958  : 		if(bBufferMessage==true)

  002e5	0f b6 85 bf fe
	ff ff		 movzx	 eax, BYTE PTR _bBufferMessage$3[ebp]
  002ec	83 f8 01	 cmp	 eax, 1
  002ef	75 40		 jne	 SHORT $LN11@OnTCPNetwo

; 959  : 		{
; 960  : 			WORD wSize = sizeof(RespondNotify)-sizeof(RespondNotify.szNotifyContent)+CountStringBuffer(RespondNotify.szNotifyContent);

  002f1	8d 85 3c fe ff
	ff		 lea	 eax, DWORD PTR _RespondNotify$2[ebp]
  002f7	50		 push	 eax
  002f8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  002fe	83 c0 01	 add	 eax, 1
  00301	66 89 85 38 fe
	ff ff		 mov	 WORD PTR _wSize$1[ebp], ax

; 961  : 			SaveOfflineMessage(pRespondFriend->dwRequestID,SUB_GC_RESPOND_NOTIFY,&RespondNotify,wSize,dwSocketID);

  00308	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0030b	50		 push	 eax
  0030c	0f b7 8d 38 fe
	ff ff		 movzx	 ecx, WORD PTR _wSize$1[ebp]
  00313	51		 push	 ecx
  00314	8d 95 3c fe ff
	ff		 lea	 edx, DWORD PTR _RespondNotify$2[ebp]
  0031a	52		 push	 edx
  0031b	68 ca 00 00 00	 push	 202			; 000000caH
  00320	8b 45 f4	 mov	 eax, DWORD PTR _pRespondFriend$[ebp]
  00323	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00326	51		 push	 ecx
  00327	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0032a	e8 00 00 00 00	 call	 ?SaveOfflineMessage@CAttemperEngineSink@@IAE_NKGPAXGK@Z ; CAttemperEngineSink::SaveOfflineMessage

; 962  : 
; 963  : 		}
; 964  : 		else

  0032f	eb 36		 jmp	 SHORT $LN7@OnTCPNetwo
$LN11@OnTCPNetwo:

; 965  : 		{
; 966  : 			if(pRequestUserItem->GetUserItemKind()==enLocalKind)

  00331	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  00334	e8 00 00 00 00	 call	 ?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ; CServerUserItem::GetUserItemKind
  00339	83 f8 01	 cmp	 eax, 1
  0033c	75 29		 jne	 SHORT $LN7@OnTCPNetwo

; 967  : 			{
; 968  : 				SendData(((CLocalUserItem*)pRequestUserItem)->GetSocketID(),MDM_GC_USER,SUB_GC_RESPOND_NOTIFY,&RespondNotify,sizeof(RespondNotify));

  0033e	68 80 00 00 00	 push	 128			; 00000080H
  00343	8d 85 3c fe ff
	ff		 lea	 eax, DWORD PTR _RespondNotify$2[ebp]
  00349	50		 push	 eax
  0034a	68 ca 00 00 00	 push	 202			; 000000caH
  0034f	6a 03		 push	 3
  00351	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  00354	8b 11		 mov	 edx, DWORD PTR [ecx]
  00356	8b 4d ec	 mov	 ecx, DWORD PTR _pRequestUserItem$[ebp]
  00359	8b 42 38	 mov	 eax, DWORD PTR [edx+56]
  0035c	ff d0		 call	 eax
  0035e	50		 push	 eax
  0035f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00362	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN7@OnTCPNetwo:

; 969  : 			}
; 970  : 		}
; 971  : 	}
; 972  : 
; 973  : 	//回应反馈
; 974  : 	CMD_GC_RespondFriendEcho RespondFriendEcho;
; 975  : 	ZeroMemory(&RespondFriendEcho,sizeof(RespondFriendEcho));

  00367	68 84 00 00 00	 push	 132			; 00000084H
  0036c	6a 00		 push	 0
  0036e	8d 85 b4 fd ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$[ebp]
  00374	50		 push	 eax
  00375	e8 00 00 00 00	 call	 _memset
  0037a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 976  : 	RespondFriendEcho.lErrorCode=CHAT_MSG_OK;

  0037d	c7 85 b4 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _RespondFriendEcho$[ebp], 0

; 977  : 	lstrcpyn(RespondFriendEcho.szDescribeString,_T(""),CountArray(RespondFriendEcho.szDescribeString));

  00387	68 80 00 00 00	 push	 128			; 00000080H
  0038c	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  00391	8d 85 b8 fd ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$[ebp+4]
  00397	50		 push	 eax
  00398	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 978  : 	WORD wDataSize2=CountStringBuffer(RespondFriendEcho.szDescribeString);

  0039e	8d 85 b8 fd ff
	ff		 lea	 eax, DWORD PTR _RespondFriendEcho$[ebp+4]
  003a4	50		 push	 eax
  003a5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  003ab	83 c0 01	 add	 eax, 1
  003ae	66 89 85 b0 fd
	ff ff		 mov	 WORD PTR _wDataSize2$[ebp], ax

; 979  : 	WORD wHeadSize=sizeof(RespondFriendEcho)-sizeof(RespondFriendEcho.szDescribeString);

  003b5	b8 04 00 00 00	 mov	 eax, 4
  003ba	66 89 85 ac fd
	ff ff		 mov	 WORD PTR _wHeadSize$[ebp], ax

; 980  : 	SendData(dwSocketID,MDM_GC_USER,SUB_GC_RESPOND_FRIEND_ECHO,&RespondFriendEcho,wHeadSize+wDataSize2);

  003c1	0f b7 85 ac fd
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$[ebp]
  003c8	0f b7 8d b0 fd
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$[ebp]
  003cf	03 c1		 add	 eax, ecx
  003d1	50		 push	 eax
  003d2	8d 95 b4 fd ff
	ff		 lea	 edx, DWORD PTR _RespondFriendEcho$[ebp]
  003d8	52		 push	 edx
  003d9	68 2e 01 00 00	 push	 302			; 0000012eH
  003de	6a 03		 push	 3
  003e0	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  003e3	50		 push	 eax
  003e4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003e7	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 981  : 
; 982  : 	return true;

  003ec	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 983  : }

  003ee	5f		 pop	 edi
  003ef	5e		 pop	 esi
  003f0	5b		 pop	 ebx
  003f1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003f4	33 cd		 xor	 ecx, ebp
  003f6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003fb	8b e5		 mov	 esp, ebp
  003fd	5d		 pop	 ebp
  003fe	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubRespondFriend
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_wHeadSize$ = -352					; size = 2
_wDataSize2$ = -348					; size = 2
_ApplyForFriend$ = -344					; size = 132
_ApplyForNotify$ = -212					; size = 37
_pServerUserItem$ = -172				; size = 4
_bBufferMessage$ = -165					; size = 1
_pFriendUserItem$ = -164				; size = 4
_wHeadSize$1 = -160					; size = 2
_wDataSize2$2 = -156					; size = 2
_ApplyForFriend$3 = -152				; size = 132
_pServerFriendInfo$4 = -20				; size = 4
_pUserFriendGroup$ = -16				; size = 4
_pApplyForFriend$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubApplyForFriend, COMDAT
; _this$ = ecx

; 801  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a0 01 00
	00		 sub	 esp, 416		; 000001a0H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 802  : 	//效验参数
; 803  : 	ASSERT(wDataSize==sizeof(CMD_GC_ApplyForFriend));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	83 f8 09	 cmp	 eax, 9
  00020	74 19		 je	 SHORT $LN14@OnTCPNetwo
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00028	83 c1 02	 add	 ecx, 2
  0002b	51		 push	 ecx
  0002c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00031	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00036	85 c0		 test	 eax, eax
  00038	74 01		 je	 SHORT $LN14@OnTCPNetwo
  0003a	cc		 int	 3
$LN14@OnTCPNetwo:

; 804  : 	if (wDataSize!=sizeof(CMD_GC_ApplyForFriend)) return false;

  0003b	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0003f	83 f8 09	 cmp	 eax, 9
  00042	74 07		 je	 SHORT $LN2@OnTCPNetwo
  00044	32 c0		 xor	 al, al
  00046	e9 c7 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 805  : 
; 806  : 	//处理消息
; 807  : 	CMD_GC_ApplyForFriend * pApplyForFriend=(CMD_GC_ApplyForFriend *)pData;

  0004b	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  0004e	89 45 f4	 mov	 DWORD PTR _pApplyForFriend$[ebp], eax

; 808  : 	ASSERT(pApplyForFriend!=NULL);

  00051	83 7d f4 00	 cmp	 DWORD PTR _pApplyForFriend$[ebp], 0
  00055	75 18		 jne	 SHORT $LN15@OnTCPNetwo
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  0005c	83 c0 07	 add	 eax, 7
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00065	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006a	85 c0		 test	 eax, eax
  0006c	74 01		 je	 SHORT $LN15@OnTCPNetwo
  0006e	cc		 int	 3
$LN15@OnTCPNetwo:

; 809  : 
; 810  : 	//查找对象
; 811  : 	CUserFriendGroup * pUserFriendGroup = m_FriendGroupManager.SearchGroupItem(pApplyForFriend->dwUserID);

  0006f	8b 45 f4	 mov	 eax, DWORD PTR _pApplyForFriend$[ebp]
  00072	8b 08		 mov	 ecx, DWORD PTR [eax]
  00074	51		 push	 ecx
  00075	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00078	83 c1 68	 add	 ecx, 104		; 00000068H
  0007b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0007e	8b 42 68	 mov	 eax, DWORD PTR [edx+104]
  00081	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00084	ff d2		 call	 edx
  00086	89 45 f0	 mov	 DWORD PTR _pUserFriendGroup$[ebp], eax

; 812  : 	if(pUserFriendGroup!=NULL) 

  00089	83 7d f0 00	 cmp	 DWORD PTR _pUserFriendGroup$[ebp], 0
  0008d	0f 84 b7 00 00
	00		 je	 $LN3@OnTCPNetwo

; 813  : 	{
; 814  : 		tagServerFriendInfo * pServerFriendInfo = pUserFriendGroup->SearchFriendItem(pApplyForFriend->dwFriendID);

  00093	8b 45 f4	 mov	 eax, DWORD PTR _pApplyForFriend$[ebp]
  00096	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00099	51		 push	 ecx
  0009a	8b 4d f0	 mov	 ecx, DWORD PTR _pUserFriendGroup$[ebp]
  0009d	e8 00 00 00 00	 call	 ?SearchFriendItem@CUserFriendGroup@@QAEPAUtagServerFriendInfo@@K@Z ; CUserFriendGroup::SearchFriendItem
  000a2	89 45 ec	 mov	 DWORD PTR _pServerFriendInfo$4[ebp], eax

; 815  : 		if(pServerFriendInfo!=NULL && pServerFriendInfo->cbGroupID!=0) 

  000a5	83 7d ec 00	 cmp	 DWORD PTR _pServerFriendInfo$4[ebp], 0
  000a9	0f 84 9b 00 00
	00		 je	 $LN3@OnTCPNetwo
  000af	8b 45 ec	 mov	 eax, DWORD PTR _pServerFriendInfo$4[ebp]
  000b2	0f b6 48 06	 movzx	 ecx, BYTE PTR [eax+6]
  000b6	85 c9		 test	 ecx, ecx
  000b8	0f 84 8c 00 00
	00		 je	 $LN3@OnTCPNetwo

; 816  : 		{
; 817  : 			//申请反馈
; 818  : 			CMD_GC_ApplyForFriendEcho ApplyForFriend;
; 819  : 			ZeroMemory(&ApplyForFriend,sizeof(ApplyForFriend));

  000be	68 84 00 00 00	 push	 132			; 00000084H
  000c3	6a 00		 push	 0
  000c5	8d 85 68 ff ff
	ff		 lea	 eax, DWORD PTR _ApplyForFriend$3[ebp]
  000cb	50		 push	 eax
  000cc	e8 00 00 00 00	 call	 _memset
  000d1	83 c4 0c	 add	 esp, 12			; 0000000cH

; 820  : 			ApplyForFriend.lErrorCode=CHAT_MSG_ERR;

  000d4	c7 85 68 ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _ApplyForFriend$3[ebp], 1

; 821  : 			lstrcpyn(ApplyForFriend.szDescribeString,_T("已经是好友，无需申请"),CountArray(ApplyForFriend.szDescribeString));

  000de	68 80 00 00 00	 push	 128			; 00000080H
  000e3	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@HIDGIOJB@?R?Q?$LO?$KN?J?G?$LK?C?S?Q?$KD?$KM?N?$NO?P?h?I?j?G?k@
  000e8	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _ApplyForFriend$3[ebp+4]
  000ee	50		 push	 eax
  000ef	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 822  : 			WORD wDataSize2=CountStringBuffer(ApplyForFriend.szDescribeString);

  000f5	8d 85 6c ff ff
	ff		 lea	 eax, DWORD PTR _ApplyForFriend$3[ebp+4]
  000fb	50		 push	 eax
  000fc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  00102	83 c0 01	 add	 eax, 1
  00105	66 89 85 64 ff
	ff ff		 mov	 WORD PTR _wDataSize2$2[ebp], ax

; 823  : 			WORD wHeadSize=sizeof(ApplyForFriend)-sizeof(ApplyForFriend.szDescribeString);

  0010c	b8 04 00 00 00	 mov	 eax, 4
  00111	66 89 85 60 ff
	ff ff		 mov	 WORD PTR _wHeadSize$1[ebp], ax

; 824  : 			SendData(dwSocketID,MDM_GC_USER,SUB_GC_APPLYFOR_FRIEND_ECHO,&ApplyForFriend,wHeadSize+wDataSize2);

  00118	0f b7 85 60 ff
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$1[ebp]
  0011f	0f b7 8d 64 ff
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$2[ebp]
  00126	03 c1		 add	 eax, ecx
  00128	50		 push	 eax
  00129	8d 95 68 ff ff
	ff		 lea	 edx, DWORD PTR _ApplyForFriend$3[ebp]
  0012f	52		 push	 edx
  00130	68 2d 01 00 00	 push	 301			; 0000012dH
  00135	6a 03		 push	 3
  00137	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0013a	50		 push	 eax
  0013b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0013e	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 825  : 
; 826  : 			return true;

  00143	b0 01		 mov	 al, 1
  00145	e9 c8 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN3@OnTCPNetwo:

; 827  : 		}
; 828  : 	}
; 829  : 
; 830  : 	//查找用户
; 831  : 	CServerUserItem * pFriendUserItem = m_ServerUserManager.SearchUserItem(pApplyForFriend->dwFriendID);

  0014a	8b 45 f4	 mov	 eax, DWORD PTR _pApplyForFriend$[ebp]
  0014d	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00150	51		 push	 ecx
  00151	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00154	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00157	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0015a	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0015d	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00160	ff d2		 call	 edx
  00162	89 85 5c ff ff
	ff		 mov	 DWORD PTR _pFriendUserItem$[ebp], eax

; 832  : 
; 833  : 	//变量定义
; 834  : 	bool bBufferMessage=false;

  00168	c6 85 5b ff ff
	ff 00		 mov	 BYTE PTR _bBufferMessage$[ebp], 0

; 835  : 	if(pFriendUserItem==NULL) bBufferMessage=true;

  0016f	83 bd 5c ff ff
	ff 00		 cmp	 DWORD PTR _pFriendUserItem$[ebp], 0
  00176	75 07		 jne	 SHORT $LN5@OnTCPNetwo
  00178	c6 85 5b ff ff
	ff 01		 mov	 BYTE PTR _bBufferMessage$[ebp], 1
$LN5@OnTCPNetwo:

; 836  : 	if(pFriendUserItem && pFriendUserItem->GetMainStatus()==FRIEND_US_OFFLINE) bBufferMessage=true; 

  0017f	83 bd 5c ff ff
	ff 00		 cmp	 DWORD PTR _pFriendUserItem$[ebp], 0
  00186	74 21		 je	 SHORT $LN7@OnTCPNetwo
  00188	8b 85 5c ff ff
	ff		 mov	 eax, DWORD PTR _pFriendUserItem$[ebp]
  0018e	8b 10		 mov	 edx, DWORD PTR [eax]
  00190	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _pFriendUserItem$[ebp]
  00196	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00199	ff d0		 call	 eax
  0019b	0f b6 c8	 movzx	 ecx, al
  0019e	85 c9		 test	 ecx, ecx
  001a0	75 07		 jne	 SHORT $LN7@OnTCPNetwo
  001a2	c6 85 5b ff ff
	ff 01		 mov	 BYTE PTR _bBufferMessage$[ebp], 1
$LN7@OnTCPNetwo:

; 837  : 
; 838  : 	if(pFriendUserItem!=NULL)
; 839  : 	{
; 840  : 		//TCHAR szMessage[256]=TEXT("");
; 841  : 		//_sntprintf(szMessage,CountArray(szMessage),TEXT(".........%d申请加%d为好友,%d当前状态为%d"),pApplyForFriend->dwUserID,pApplyForFriend->dwFriendID,pApplyForFriend->dwFriendID,pFriendUserItem->GetMainStatus());
; 842  : 
; 843  : 		////错误信息
; 844  : 		//CTraceService::TraceString(szMessage,TraceLevel_Normal);	
; 845  : 	}
; 846  : 
; 847  : 	//查找用户
; 848  : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pApplyForFriend->dwUserID);

  001a9	8b 45 f4	 mov	 eax, DWORD PTR _pApplyForFriend$[ebp]
  001ac	8b 08		 mov	 ecx, DWORD PTR [eax]
  001ae	51		 push	 ecx
  001af	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001b2	83 c1 1c	 add	 ecx, 28			; 0000001cH
  001b5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001b8	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  001bb	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  001be	ff d2		 call	 edx
  001c0	89 85 54 ff ff
	ff		 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 849  : 	if(pServerUserItem==NULL || pServerUserItem->GetUserItemKind()!=enLocalKind) return false;

  001c6	83 bd 54 ff ff
	ff 00		 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  001cd	74 10		 je	 SHORT $LN9@OnTCPNetwo
  001cf	8b 8d 54 ff ff
	ff		 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  001d5	e8 00 00 00 00	 call	 ?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ; CServerUserItem::GetUserItemKind
  001da	83 f8 01	 cmp	 eax, 1
  001dd	74 07		 je	 SHORT $LN8@OnTCPNetwo
$LN9@OnTCPNetwo:
  001df	32 c0		 xor	 al, al
  001e1	e9 2c 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN8@OnTCPNetwo:

; 850  : 
; 851  : 	//构造结构
; 852  : 	CMD_GC_ApplyForNotify ApplyForNotify;
; 853  : 	ApplyForNotify.dwRequestID = pApplyForFriend->dwUserID;

  001e6	8b 45 f4	 mov	 eax, DWORD PTR _pApplyForFriend$[ebp]
  001e9	8b 08		 mov	 ecx, DWORD PTR [eax]
  001eb	89 8d 2c ff ff
	ff		 mov	 DWORD PTR _ApplyForNotify$[ebp], ecx

; 854  : 	ApplyForNotify.cbGroupID=pApplyForFriend->cbGroupID;

  001f1	8b 45 f4	 mov	 eax, DWORD PTR _pApplyForFriend$[ebp]
  001f4	8a 48 08	 mov	 cl, BYTE PTR [eax+8]
  001f7	88 8d 30 ff ff
	ff		 mov	 BYTE PTR _ApplyForNotify$[ebp+4], cl

; 855  : 	lstrcpyn(ApplyForNotify.szNickName,((CLocalUserItem *)pServerUserItem)->GetNickName(),CountArray(ApplyForNotify.szNickName));

  001fd	6a 20		 push	 32			; 00000020H
  001ff	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  00205	8b 10		 mov	 edx, DWORD PTR [eax]
  00207	8b 8d 54 ff ff
	ff		 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  0020d	8b 42 34	 mov	 eax, DWORD PTR [edx+52]
  00210	ff d0		 call	 eax
  00212	50		 push	 eax
  00213	8d 8d 31 ff ff
	ff		 lea	 ecx, DWORD PTR _ApplyForNotify$[ebp+5]
  00219	51		 push	 ecx
  0021a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 856  : 
; 857  : 	//缓冲判断
; 858  : 	if(bBufferMessage==true)

  00220	0f b6 85 5b ff
	ff ff		 movzx	 eax, BYTE PTR _bBufferMessage$[ebp]
  00227	83 f8 01	 cmp	 eax, 1
  0022a	75 23		 jne	 SHORT $LN10@OnTCPNetwo

; 859  : 	{
; 860  : 		SaveOfflineMessage(pApplyForFriend->dwFriendID,SUB_GC_APPLYFOR_NOTIFY,&ApplyForNotify,sizeof(ApplyForNotify),dwSocketID);

  0022c	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0022f	50		 push	 eax
  00230	6a 25		 push	 37			; 00000025H
  00232	8d 8d 2c ff ff
	ff		 lea	 ecx, DWORD PTR _ApplyForNotify$[ebp]
  00238	51		 push	 ecx
  00239	68 c9 00 00 00	 push	 201			; 000000c9H
  0023e	8b 55 f4	 mov	 edx, DWORD PTR _pApplyForFriend$[ebp]
  00241	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00244	50		 push	 eax
  00245	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00248	e8 00 00 00 00	 call	 ?SaveOfflineMessage@CAttemperEngineSink@@IAE_NKGPAXGK@Z ; CAttemperEngineSink::SaveOfflineMessage

; 861  : 	}
; 862  : 	else

  0024d	eb 3c		 jmp	 SHORT $LN11@OnTCPNetwo
$LN10@OnTCPNetwo:

; 863  : 	{
; 864  : 		if(pFriendUserItem->GetUserItemKind()==enLocalKind)

  0024f	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _pFriendUserItem$[ebp]
  00255	e8 00 00 00 00	 call	 ?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ; CServerUserItem::GetUserItemKind
  0025a	83 f8 01	 cmp	 eax, 1
  0025d	75 2c		 jne	 SHORT $LN11@OnTCPNetwo

; 865  : 		{
; 866  : 			SendData(((CLocalUserItem *)pFriendUserItem)->GetSocketID(),MDM_GC_USER,SUB_GC_APPLYFOR_NOTIFY,&ApplyForNotify,sizeof(ApplyForNotify));

  0025f	6a 25		 push	 37			; 00000025H
  00261	8d 85 2c ff ff
	ff		 lea	 eax, DWORD PTR _ApplyForNotify$[ebp]
  00267	50		 push	 eax
  00268	68 c9 00 00 00	 push	 201			; 000000c9H
  0026d	6a 03		 push	 3
  0026f	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _pFriendUserItem$[ebp]
  00275	8b 11		 mov	 edx, DWORD PTR [ecx]
  00277	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _pFriendUserItem$[ebp]
  0027d	8b 42 38	 mov	 eax, DWORD PTR [edx+56]
  00280	ff d0		 call	 eax
  00282	50		 push	 eax
  00283	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00286	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN11@OnTCPNetwo:

; 867  : 		}
; 868  : 	}
; 869  : 
; 870  : 	//申请反馈
; 871  : 	CMD_GC_ApplyForFriendEcho ApplyForFriend;
; 872  : 	ZeroMemory(&ApplyForFriend,sizeof(ApplyForFriend));

  0028b	68 84 00 00 00	 push	 132			; 00000084H
  00290	6a 00		 push	 0
  00292	8d 85 a8 fe ff
	ff		 lea	 eax, DWORD PTR _ApplyForFriend$[ebp]
  00298	50		 push	 eax
  00299	e8 00 00 00 00	 call	 _memset
  0029e	83 c4 0c	 add	 esp, 12			; 0000000cH

; 873  : 	ApplyForFriend.lErrorCode=CHAT_MSG_OK;

  002a1	c7 85 a8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _ApplyForFriend$[ebp], 0

; 874  : 	lstrcpyn(ApplyForFriend.szDescribeString,_T(""),CountArray(ApplyForFriend.szDescribeString));

  002ab	68 80 00 00 00	 push	 128			; 00000080H
  002b0	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@@
  002b5	8d 85 ac fe ff
	ff		 lea	 eax, DWORD PTR _ApplyForFriend$[ebp+4]
  002bb	50		 push	 eax
  002bc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 875  : 	WORD wDataSize2=CountStringBuffer(ApplyForFriend.szDescribeString);

  002c2	8d 85 ac fe ff
	ff		 lea	 eax, DWORD PTR _ApplyForFriend$[ebp+4]
  002c8	50		 push	 eax
  002c9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  002cf	83 c0 01	 add	 eax, 1
  002d2	66 89 85 a4 fe
	ff ff		 mov	 WORD PTR _wDataSize2$[ebp], ax

; 876  : 	WORD wHeadSize=sizeof(ApplyForFriend)-sizeof(ApplyForFriend.szDescribeString);

  002d9	b8 04 00 00 00	 mov	 eax, 4
  002de	66 89 85 a0 fe
	ff ff		 mov	 WORD PTR _wHeadSize$[ebp], ax

; 877  : 	SendData(dwSocketID,MDM_GC_USER,SUB_GC_APPLYFOR_FRIEND_ECHO,&ApplyForFriend,wHeadSize+wDataSize2);

  002e5	0f b7 85 a0 fe
	ff ff		 movzx	 eax, WORD PTR _wHeadSize$[ebp]
  002ec	0f b7 8d a4 fe
	ff ff		 movzx	 ecx, WORD PTR _wDataSize2$[ebp]
  002f3	03 c1		 add	 eax, ecx
  002f5	50		 push	 eax
  002f6	8d 95 a8 fe ff
	ff		 lea	 edx, DWORD PTR _ApplyForFriend$[ebp]
  002fc	52		 push	 edx
  002fd	68 2d 01 00 00	 push	 301			; 0000012dH
  00302	6a 03		 push	 3
  00304	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00307	50		 push	 eax
  00308	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0030b	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData

; 878  : 
; 879  : 
; 880  : 	return true;

  00310	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 881  : }

  00312	5f		 pop	 edi
  00313	5e		 pop	 esi
  00314	5b		 pop	 ebx
  00315	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00318	33 cd		 xor	 ecx, ebp
  0031a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0031f	8b e5		 mov	 esp, ebp
  00321	5d		 pop	 ebp
  00322	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubApplyForFriend
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z
_TEXT	SEGMENT
_wSize$1 = -224						; size = 2
_UserLogonAfresh$2 = -220				; size = 128
_pLocalUserItem$3 = -92					; size = 4
_pServerUserItem$ = -88					; size = 4
_LogonUserID$ = -84					; size = 64
_pLogonUserID$ = -20					; size = 4
_pBindParameter$ = -16					; size = 4
_wBindIndex$ = -12					; size = 2
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_dwSocketID$ = 16					; size = 4
?OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkSubMBLogonByUserID, COMDAT
; _this$ = ecx

; 711  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 712  : 	//效验参数
; 713  : 	ASSERT(wDataSize<=sizeof(CMD_GC_MB_LogonByUserID));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	83 f8 3a	 cmp	 eax, 58			; 0000003aH
  00020	76 19		 jbe	 SHORT $LN11@OnTCPNetwo
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z@4JA
  00028	83 c1 02	 add	 ecx, 2
  0002b	51		 push	 ecx
  0002c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00031	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00036	85 c0		 test	 eax, eax
  00038	74 01		 je	 SHORT $LN11@OnTCPNetwo
  0003a	cc		 int	 3
$LN11@OnTCPNetwo:

; 714  : 	if (wDataSize>sizeof(CMD_GC_MB_LogonByUserID)) return false;

  0003b	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0003f	83 f8 3a	 cmp	 eax, 58			; 0000003aH
  00042	76 07		 jbe	 SHORT $LN2@OnTCPNetwo
  00044	32 c0		 xor	 al, al
  00046	e9 3b 02 00 00	 jmp	 $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 715  : 
; 716  : 	//变量定义
; 717  : 	WORD wBindIndex=LOWORD(dwSocketID);

  0004b	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0004e	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00053	66 89 45 f4	 mov	 WORD PTR _wBindIndex$[ebp], ax

; 718  : 	tagBindParameter * pBindParameter=GetBindParameter(wBindIndex);

  00057	0f b7 45 f4	 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  0005b	50		 push	 eax
  0005c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005f	e8 00 00 00 00	 call	 ?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ; CAttemperEngineSink::GetBindParameter
  00064	89 45 f0	 mov	 DWORD PTR _pBindParameter$[ebp], eax

; 719  : 
; 720  : 	//处理消息
; 721  : 	CMD_GC_MB_LogonByUserID * pLogonUserID=(CMD_GC_MB_LogonByUserID *)pData;

  00067	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  0006a	89 45 ec	 mov	 DWORD PTR _pLogonUserID$[ebp], eax

; 722  : 	pLogonUserID->szPassword[CountArray(pLogonUserID->szPassword)-1]=0;

  0006d	b8 01 00 00 00	 mov	 eax, 1
  00072	c1 e0 05	 shl	 eax, 5
  00075	8b 4d ec	 mov	 ecx, DWORD PTR _pLogonUserID$[ebp]
  00078	c6 44 01 04 00	 mov	 BYTE PTR [ecx+eax+4], 0

; 723  : 
; 724  : 	//变量定义
; 725  : 	DBR_GR_LogonUserID LogonUserID;
; 726  : 	ZeroMemory(&LogonUserID,sizeof(LogonUserID));

  0007d	6a 40		 push	 64			; 00000040H
  0007f	6a 00		 push	 0
  00081	8d 45 ac	 lea	 eax, DWORD PTR _LogonUserID$[ebp]
  00084	50		 push	 eax
  00085	e8 00 00 00 00	 call	 _memset
  0008a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 727  : 
; 728  : 	//构造数据
; 729  : 	LogonUserID.dwUserID=pLogonUserID->dwUserID;

  0008d	8b 45 ec	 mov	 eax, DWORD PTR _pLogonUserID$[ebp]
  00090	8b 08		 mov	 ecx, DWORD PTR [eax]
  00092	89 4d ac	 mov	 DWORD PTR _LogonUserID$[ebp], ecx

; 730  : 	LogonUserID.dwClientAddr=pBindParameter->dwClientAddr;

  00095	8b 45 f0	 mov	 eax, DWORD PTR _pBindParameter$[ebp]
  00098	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0009b	89 4d e8	 mov	 DWORD PTR _LogonUserID$[ebp+60], ecx

; 731  : 	LogonUserID.wLogonComand=LOGON_COMMAND_USERINFO|LOGON_COMMAND_GROUPINFO|LOGON_COMMAND_FRIENDS;

  0009e	c6 45 e6 0b	 mov	 BYTE PTR _LogonUserID$[ebp+58], 11 ; 0000000bH

; 732  : 	lstrcpyn(LogonUserID.szPassword,pLogonUserID->szPassword,CountArray(LogonUserID.szPassword));

  000a2	6a 21		 push	 33			; 00000021H
  000a4	8b 45 ec	 mov	 eax, DWORD PTR _pLogonUserID$[ebp]
  000a7	83 c0 04	 add	 eax, 4
  000aa	50		 push	 eax
  000ab	8d 4d b0	 lea	 ecx, DWORD PTR _LogonUserID$[ebp+4]
  000ae	51		 push	 ecx
  000af	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 733  : 	lstrcpyn(LogonUserID.szPhoneMode,pLogonUserID->szPhoneMode,CountArray(LogonUserID.szPhoneMode));

  000b5	6a 15		 push	 21			; 00000015H
  000b7	8b 45 ec	 mov	 eax, DWORD PTR _pLogonUserID$[ebp]
  000ba	83 c0 25	 add	 eax, 37			; 00000025H
  000bd	50		 push	 eax
  000be	8d 4d d1	 lea	 ecx, DWORD PTR _LogonUserID$[ebp+37]
  000c1	51		 push	 ecx
  000c2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 734  : 
; 735  : 	//查找用户
; 736  : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pLogonUserID->dwUserID);

  000c8	8b 45 ec	 mov	 eax, DWORD PTR _pLogonUserID$[ebp]
  000cb	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cd	51		 push	 ecx
  000ce	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000d1	83 c1 1c	 add	 ecx, 28			; 0000001cH
  000d4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000d7	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  000da	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  000dd	ff d2		 call	 edx
  000df	89 45 a8	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 737  : 	if(pServerUserItem!=NULL)

  000e2	83 7d a8 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  000e6	0f 84 73 01 00
	00		 je	 $LN3@OnTCPNetwo

; 738  : 	{
; 739  : 		//本地用户
; 740  : 		if(pServerUserItem->GetUserItemKind()==enLocalKind)

  000ec	8b 4d a8	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  000ef	e8 00 00 00 00	 call	 ?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ; CServerUserItem::GetUserItemKind
  000f4	83 f8 01	 cmp	 eax, 1
  000f7	0f 85 62 01 00
	00		 jne	 $LN3@OnTCPNetwo

; 741  : 		{
; 742  : 			//变量定义
; 743  : 			CLocalUserItem * pLocalUserItem = (CLocalUserItem *)pServerUserItem;			

  000fd	8b 45 a8	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  00100	89 45 a4	 mov	 DWORD PTR _pLocalUserItem$3[ebp], eax

; 744  : 
; 745  : 			//校验密码
; 746  : 			if(pLocalUserItem->ContrastLogonPass(pLogonUserID->szPassword)==false)

  00103	8b 45 ec	 mov	 eax, DWORD PTR _pLogonUserID$[ebp]
  00106	83 c0 04	 add	 eax, 4
  00109	50		 push	 eax
  0010a	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  0010d	8b 11		 mov	 edx, DWORD PTR [ecx]
  0010f	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  00112	8b 42 40	 mov	 eax, DWORD PTR [edx+64]
  00115	ff d0		 call	 eax
  00117	0f b6 c8	 movzx	 ecx, al
  0011a	85 c9		 test	 ecx, ecx
  0011c	75 1a		 jne	 SHORT $LN5@OnTCPNetwo

; 747  : 			{
; 748  : 				SendLogonFailure(TEXT("您输入的账号或密码不正确,请确认后重新登录！"),0,dwSocketID);

  0011e	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00121	50		 push	 eax
  00122	6a 00		 push	 0
  00124	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@HGMNIANO@?D?z?J?d?H?k?$LF?D?U?K?$LK?E?$LL?r?C?$NM?B?k?$LC?$LL?U?$PN?H?$LH?0?G?k?H?$LH?H?O@
  00129	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0012c	e8 00 00 00 00	 call	 ?SendLogonFailure@CAttemperEngineSink@@IAE_NPBDJK@Z ; CAttemperEngineSink::SendLogonFailure

; 749  : 
; 750  : 				return true;

  00131	b0 01		 mov	 al, 1
  00133	e9 4e 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN5@OnTCPNetwo:

; 751  : 			}
; 752  : 
; 753  : 			//重包判断
; 754  : 			if(pLocalUserItem->GetMainStatus()!=FRIEND_US_OFFLINE)

  00138	8b 45 a4	 mov	 eax, DWORD PTR _pLocalUserItem$3[ebp]
  0013b	8b 10		 mov	 edx, DWORD PTR [eax]
  0013d	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  00140	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00143	ff d0		 call	 eax
  00145	0f b6 c8	 movzx	 ecx, al
  00148	85 c9		 test	 ecx, ecx
  0014a	74 26		 je	 SHORT $LN6@OnTCPNetwo

; 755  : 			{
; 756  : 				if(GetTickCount()-pLocalUserItem->GetLogonTime()< LOGON_TIME_SPACE)

  0014c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00152	8b f0		 mov	 esi, eax
  00154	8b 45 a4	 mov	 eax, DWORD PTR _pLocalUserItem$3[ebp]
  00157	8b 10		 mov	 edx, DWORD PTR [eax]
  00159	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  0015c	8b 42 48	 mov	 eax, DWORD PTR [edx+72]
  0015f	ff d0		 call	 eax
  00161	2b f0		 sub	 esi, eax
  00163	81 fe e8 03 00
	00		 cmp	 esi, 1000		; 000003e8H
  00169	73 07		 jae	 SHORT $LN6@OnTCPNetwo

; 757  : 				{
; 758  : 					return true;

  0016b	b0 01		 mov	 al, 1
  0016d	e9 14 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN6@OnTCPNetwo:

; 759  : 				}
; 760  : 			}
; 761  : 
; 762  : 			//发送下线消息
; 763  : 			if(pLocalUserItem->GetMainStatus()!=FRIEND_US_OFFLINE && (pServerUserItem->GetClientAddr()!=pBindParameter->dwClientAddr ))

  00172	8b 45 a4	 mov	 eax, DWORD PTR _pLocalUserItem$3[ebp]
  00175	8b 10		 mov	 edx, DWORD PTR [eax]
  00177	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  0017a	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  0017d	ff d0		 call	 eax
  0017f	0f b6 c8	 movzx	 ecx, al
  00182	85 c9		 test	 ecx, ecx
  00184	0f 84 83 00 00
	00		 je	 $LN8@OnTCPNetwo
  0018a	8b 45 a8	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  0018d	8b 10		 mov	 edx, DWORD PTR [eax]
  0018f	8b 4d a8	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00192	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  00195	ff d0		 call	 eax
  00197	8b 4d f0	 mov	 ecx, DWORD PTR _pBindParameter$[ebp]
  0019a	3b 41 04	 cmp	 eax, DWORD PTR [ecx+4]
  0019d	74 6e		 je	 SHORT $LN8@OnTCPNetwo

; 764  : 			{
; 765  : 				if(pLocalUserItem->GetSocketID()!=dwSocketID)

  0019f	8b 45 a4	 mov	 eax, DWORD PTR _pLocalUserItem$3[ebp]
  001a2	8b 10		 mov	 edx, DWORD PTR [eax]
  001a4	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  001a7	8b 42 38	 mov	 eax, DWORD PTR [edx+56]
  001aa	ff d0		 call	 eax
  001ac	3b 45 10	 cmp	 eax, DWORD PTR _dwSocketID$[ebp]
  001af	74 5c		 je	 SHORT $LN8@OnTCPNetwo

; 766  : 				{
; 767  : 					//TCHAR szMessage[256]=TEXT("");
; 768  : 					//_sntprintf(szMessage,CountArray(szMessage),TEXT("dwSocketID0=%d,Address0=%d,dwSocketID1=%d,Address1=%d"),
; 769  : 					//	pLocalUserItem->GetSocketID(),pLocalUserItem->GetClientAddr(),dwSocketID,pBindParameter->dwClientAddr);
; 770  : 
; 771  : 					////错误信息
; 772  : 					//CTraceService::TraceString(szMessage,TraceLevel_Normal);	
; 773  : 
; 774  : 					//构造结构
; 775  : 					CMD_GC_UserLogonAfresh UserLogonAfresh;
; 776  : 					_sntprintf(UserLogonAfresh.wNotifyMessage,CountArray(UserLogonAfresh.wNotifyMessage),TEXT("您的账号在别处登录,您被迫下线！"));

  001b1	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@GNINJEOM@?D?z?$LF?D?U?K?$LK?E?T?Z?$LB?p?$LE?$KG?$LF?G?B?$LM?0?D?z?$LB?$LL?F?H?O?B?O?$NP?$KD?$KB@
  001b6	68 80 00 00 00	 push	 128			; 00000080H
  001bb	8d 85 24 ff ff
	ff		 lea	 eax, DWORD PTR _UserLogonAfresh$2[ebp]
  001c1	50		 push	 eax
  001c2	e8 00 00 00 00	 call	 __snprintf
  001c7	83 c4 0c	 add	 esp, 12			; 0000000cH

; 777  : 
; 778  : 					//发送数据
; 779  : 					WORD wSize = sizeof(UserLogonAfresh)-sizeof(UserLogonAfresh.wNotifyMessage)+CountStringBuffer(UserLogonAfresh.wNotifyMessage);

  001ca	8d 85 24 ff ff
	ff		 lea	 eax, DWORD PTR _UserLogonAfresh$2[ebp]
  001d0	50		 push	 eax
  001d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  001d7	83 c0 01	 add	 eax, 1
  001da	66 89 85 20 ff
	ff ff		 mov	 WORD PTR _wSize$1[ebp], ax

; 780  : 					SendData(pLocalUserItem->GetSocketID(),MDM_GC_LOGON,SUB_S_LOGON_AFRESH,&UserLogonAfresh,wSize);

  001e1	0f b7 85 20 ff
	ff ff		 movzx	 eax, WORD PTR _wSize$1[ebp]
  001e8	50		 push	 eax
  001e9	8d 8d 24 ff ff
	ff		 lea	 ecx, DWORD PTR _UserLogonAfresh$2[ebp]
  001ef	51		 push	 ecx
  001f0	68 32 01 00 00	 push	 306			; 00000132H
  001f5	6a 01		 push	 1
  001f7	8b 55 a4	 mov	 edx, DWORD PTR _pLocalUserItem$3[ebp]
  001fa	8b 02		 mov	 eax, DWORD PTR [edx]
  001fc	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  001ff	8b 50 38	 mov	 edx, DWORD PTR [eax+56]
  00202	ff d2		 call	 edx
  00204	50		 push	 eax
  00205	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00208	e8 00 00 00 00	 call	 ?SendData@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendData
$LN8@OnTCPNetwo:

; 781  : 				}
; 782  : 			}			
; 783  : 
; 784  : 			//修改用户状态
; 785  : 			pLocalUserItem->SetSocketID(dwSocketID);

  0020d	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00210	50		 push	 eax
  00211	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  00214	8b 11		 mov	 edx, DWORD PTR [ecx]
  00216	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  00219	8b 42 44	 mov	 eax, DWORD PTR [edx+68]
  0021c	ff d0		 call	 eax

; 786  : 			pLocalUserItem->SetLogonTime(GetTickCount());

  0021e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00224	50		 push	 eax
  00225	8b 45 a4	 mov	 eax, DWORD PTR _pLocalUserItem$3[ebp]
  00228	8b 10		 mov	 edx, DWORD PTR [eax]
  0022a	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  0022d	8b 42 4c	 mov	 eax, DWORD PTR [edx+76]
  00230	ff d0		 call	 eax

; 787  : 			pLocalUserItem->GetUserInfo()->cbMainStatus=FRIEND_US_ONLINE;

  00232	8b 45 a4	 mov	 eax, DWORD PTR _pLocalUserItem$3[ebp]
  00235	8b 10		 mov	 edx, DWORD PTR [eax]
  00237	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  0023a	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0023d	ff d0		 call	 eax
  0023f	c6 80 6c 01 00
	00 01		 mov	 BYTE PTR [eax+364], 1

; 788  : 			pLocalUserItem->GetUserInfo()->dwClientAddr=pBindParameter->dwClientAddr;

  00246	8b 45 a4	 mov	 eax, DWORD PTR _pLocalUserItem$3[ebp]
  00249	8b 10		 mov	 edx, DWORD PTR [eax]
  0024b	8b 4d a4	 mov	 ecx, DWORD PTR _pLocalUserItem$3[ebp]
  0024e	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  00251	ff d0		 call	 eax
  00253	8b 4d f0	 mov	 ecx, DWORD PTR _pBindParameter$[ebp]
  00256	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00259	89 90 ab 01 00
	00		 mov	 DWORD PTR [eax+427], edx
$LN3@OnTCPNetwo:

; 789  : 		}
; 790  : 	}	
; 791  : 
; 792  : 	//投递请求
; 793  : 	m_pIDataBaseEngine->PostDataBaseRequest(DBR_GR_LOGON_USERID,dwSocketID,&LogonUserID,sizeof(LogonUserID));

  0025f	6a 40		 push	 64			; 00000040H
  00261	8d 45 ac	 lea	 eax, DWORD PTR _LogonUserID$[ebp]
  00264	50		 push	 eax
  00265	8b 4d 10	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00268	51		 push	 ecx
  00269	6a 64		 push	 100			; 00000064H
  0026b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0026e	8b 82 e8 00 00
	00		 mov	 eax, DWORD PTR [edx+232]
  00274	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00277	8b 10		 mov	 edx, DWORD PTR [eax]
  00279	8b 89 e8 00 00
	00		 mov	 ecx, DWORD PTR [ecx+232]
  0027f	8b 42 20	 mov	 eax, DWORD PTR [edx+32]
  00282	ff d0		 call	 eax

; 794  : 
; 795  : 
; 796  : 	return true;

  00284	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 797  : }

  00286	5f		 pop	 edi
  00287	5e		 pop	 esi
  00288	5b		 pop	 ebx
  00289	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0028c	33 cd		 xor	 ecx, ebp
  0028e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00293	8b e5		 mov	 esp, ebp
  00295	5d		 pop	 ebp
  00296	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkSubMBLogonByUserID
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkMainLogon@CAttemperEngineSink@@IAE_NGPAXGK@Z
_TEXT	SEGMENT
tv65 = -72						; size = 4
_this$ = -4						; size = 4
_wSubCmdID$ = 8						; size = 2
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
_dwSocketID$ = 20					; size = 4
?OnTCPNetworkMainLogon@CAttemperEngineSink@@IAE_NGPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkMainLogon, COMDAT
; _this$ = ecx

; 637  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 638  : 	switch (wSubCmdID)

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _wSubCmdID$[ebp]
  00010	89 45 b8	 mov	 DWORD PTR tv65[ebp], eax
  00013	83 7d b8 64	 cmp	 DWORD PTR tv65[ebp], 100 ; 00000064H
  00017	7c 1f		 jl	 SHORT $LN2@OnTCPNetwo
  00019	83 7d b8 65	 cmp	 DWORD PTR tv65[ebp], 101 ; 00000065H
  0001d	7e 02		 jle	 SHORT $LN4@OnTCPNetwo
  0001f	eb 17		 jmp	 SHORT $LN2@OnTCPNetwo
$LN4@OnTCPNetwo:

; 639  : 	{
; 640  : 	case SUB_GC_PC_LOGON_USERID:		//I D 登录
; 641  : 	case SUB_GC_MB_LOGON_USERID:		//I D 登录
; 642  : 		{
; 643  : 			return OnTCPNetworkSubMBLogonByUserID(pData,wDataSize,dwSocketID);

  00021	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00024	50		 push	 eax
  00025	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00029	51		 push	 ecx
  0002a	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  0002d	52		 push	 edx
  0002e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00031	e8 00 00 00 00	 call	 ?OnTCPNetworkSubMBLogonByUserID@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubMBLogonByUserID
  00036	eb 02		 jmp	 SHORT $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 644  : 		}
; 645  : 	}
; 646  : 
; 647  : 	return true;

  00038	b0 01		 mov	 al, 1
$LN1@OnTCPNetwo:

; 648  : }

  0003a	5f		 pop	 edi
  0003b	5e		 pop	 esi
  0003c	5b		 pop	 ebx
  0003d	8b e5		 mov	 esp, ebp
  0003f	5d		 pop	 ebp
  00040	c2 10 00	 ret	 16			; 00000010H
?OnTCPNetworkMainLogon@CAttemperEngineSink@@IAE_NGPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkMainLogon
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPNetworkMainUser@CAttemperEngineSink@@IAE_NGPAXGK@Z
_TEXT	SEGMENT
tv65 = -72						; size = 4
_this$ = -4						; size = 4
_wSubCmdID$ = 8						; size = 2
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
_dwSocketID$ = 20					; size = 4
?OnTCPNetworkMainUser@CAttemperEngineSink@@IAE_NGPAXGK@Z PROC ; CAttemperEngineSink::OnTCPNetworkMainUser, COMDAT
; _this$ = ecx

; 652  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 653  : 	switch (wSubCmdID)

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _wSubCmdID$[ebp]
  00010	89 45 b8	 mov	 DWORD PTR tv65[ebp], eax
  00013	8b 4d b8	 mov	 ecx, DWORD PTR tv65[ebp]
  00016	83 e9 64	 sub	 ecx, 100		; 00000064H
  00019	89 4d b8	 mov	 DWORD PTR tv65[ebp], ecx
  0001c	83 7d b8 0d	 cmp	 DWORD PTR tv65[ebp], 13	; 0000000dH
  00020	0f 87 30 01 00
	00		 ja	 $LN2@OnTCPNetwo
  00026	8b 55 b8	 mov	 edx, DWORD PTR tv65[ebp]
  00029	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN17@OnTCPNetwo[edx*4]
$LN4@OnTCPNetwo:

; 654  : 	{
; 655  : 	case SUB_GC_APPLYFOR_FRIEND:		//好友申请
; 656  : 		{
; 657  : 			return OnTCPNetworkSubApplyForFriend(pData,wDataSize,dwSocketID);

  00030	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00033	50		 push	 eax
  00034	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00038	51		 push	 ecx
  00039	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  0003c	52		 push	 edx
  0003d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00040	e8 00 00 00 00	 call	 ?OnTCPNetworkSubApplyForFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubApplyForFriend
  00045	e9 0e 01 00 00	 jmp	 $LN1@OnTCPNetwo
$LN5@OnTCPNetwo:

; 658  : 		}
; 659  : 	case SUB_GC_RESPOND_FRIEND:			//好友回应
; 660  : 		{
; 661  : 			return OnTCPNetworkSubRespondFriend(pData,wDataSize,dwSocketID);

  0004a	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0004d	50		 push	 eax
  0004e	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00052	51		 push	 ecx
  00053	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  00056	52		 push	 edx
  00057	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0005a	e8 00 00 00 00	 call	 ?OnTCPNetworkSubRespondFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubRespondFriend
  0005f	e9 f4 00 00 00	 jmp	 $LN1@OnTCPNetwo
$LN6@OnTCPNetwo:

; 662  : 		}
; 663  : 	case SUB_GC_INVITE_GAME:			//邀请游戏
; 664  : 		{
; 665  : 			return OnTCPNetworkSubRoomInvite(pData,wDataSize,dwSocketID);

  00064	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00067	50		 push	 eax
  00068	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  0006c	51		 push	 ecx
  0006d	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  00070	52		 push	 edx
  00071	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00074	e8 00 00 00 00	 call	 ?OnTCPNetworkSubRoomInvite@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubRoomInvite
  00079	e9 da 00 00 00	 jmp	 $LN1@OnTCPNetwo
$LN7@OnTCPNetwo:

; 666  : 		}
; 667  : 	case SUB_GC_INVITE_PERSONAL:
; 668  : 		{
; 669  : 			return OnTCPNetworkSubInvitePersonal(pData,wDataSize,dwSocketID);

  0007e	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00081	50		 push	 eax
  00082	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00086	51		 push	 ecx
  00087	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  0008a	52		 push	 edx
  0008b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0008e	e8 00 00 00 00	 call	 ?OnTCPNetworkSubInvitePersonal@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubInvitePersonal
  00093	e9 c0 00 00 00	 jmp	 $LN1@OnTCPNetwo
$LN8@OnTCPNetwo:

; 670  : 		}
; 671  : 	case SUB_GC_USER_CHAT:				//用户聊天
; 672  : 		{
; 673  : 			return OnTCPNetworkSubUserChat(pData,wDataSize,dwSocketID);

  00098	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0009b	50		 push	 eax
  0009c	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  000a0	51		 push	 ecx
  000a1	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  000a4	52		 push	 edx
  000a5	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000a8	e8 00 00 00 00	 call	 ?OnTCPNetworkSubUserChat@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubUserChat
  000ad	e9 a6 00 00 00	 jmp	 $LN1@OnTCPNetwo
$LN9@OnTCPNetwo:

; 674  : 		}
; 675  : 	case SUB_GC_SEARCH_USER:			//查找用户
; 676  : 		{
; 677  : 			return OnTCPNetworkSubSearchUser(pData,wDataSize,dwSocketID);

  000b2	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  000b5	50		 push	 eax
  000b6	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  000ba	51		 push	 ecx
  000bb	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  000be	52		 push	 edx
  000bf	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000c2	e8 00 00 00 00	 call	 ?OnTCPNetworkSubSearchUser@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubSearchUser
  000c7	e9 8c 00 00 00	 jmp	 $LN1@OnTCPNetwo
$LN10@OnTCPNetwo:

; 678  : 		}
; 679  : 	case SUB_GC_TRUMPET:				//喇叭消息
; 680  : 		{
; 681  : 			return OnTCPNetworkSubTrumpet(pData,wDataSize,dwSocketID);

  000cc	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  000cf	50		 push	 eax
  000d0	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  000d4	51		 push	 ecx
  000d5	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  000d8	52		 push	 edx
  000d9	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000dc	e8 00 00 00 00	 call	 ?OnTCPNetworkSubTrumpet@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubTrumpet
  000e1	eb 75		 jmp	 SHORT $LN1@OnTCPNetwo
$LN11@OnTCPNetwo:

; 682  : 		}
; 683  : 	case SUB_GC_DELETE_FRIEND:			//删除好友
; 684  : 		{
; 685  : 			return OnTCPNetworkDeleteFriend(pData,wDataSize,dwSocketID);

  000e3	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  000e6	50		 push	 eax
  000e7	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  000eb	51		 push	 ecx
  000ec	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  000ef	52		 push	 edx
  000f0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000f3	e8 00 00 00 00	 call	 ?OnTCPNetworkDeleteFriend@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkDeleteFriend
  000f8	eb 5e		 jmp	 SHORT $LN1@OnTCPNetwo
$LN12@OnTCPNetwo:

; 686  : 		}
; 687  : 	case SUB_GC_UPDATE_COORDINATE:
; 688  : 		{
; 689  : 			return OnTCPNetworkUpdateCoordinate(pData,wDataSize,dwSocketID);

  000fa	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  000fd	50		 push	 eax
  000fe	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00102	51		 push	 ecx
  00103	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  00106	52		 push	 edx
  00107	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0010a	e8 00 00 00 00	 call	 ?OnTCPNetworkUpdateCoordinate@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkUpdateCoordinate
  0010f	eb 47		 jmp	 SHORT $LN1@OnTCPNetwo
$LN13@OnTCPNetwo:

; 690  : 		}
; 691  : 	case SUB_GC_GET_NEARUSER:
; 692  : 		{
; 693  : 			return OnTCPNetworkGetNearuser(pData,wDataSize,dwSocketID);

  00111	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00114	50		 push	 eax
  00115	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00119	51		 push	 ecx
  0011a	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  0011d	52		 push	 edx
  0011e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00121	e8 00 00 00 00	 call	 ?OnTCPNetworkGetNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkGetNearuser
  00126	eb 30		 jmp	 SHORT $LN1@OnTCPNetwo
$LN14@OnTCPNetwo:

; 694  : 		}
; 695  : 	case SUB_GC_QUERY_NEARUSER:
; 696  : 		{
; 697  : 			return OnTCPNetworkQueryNearuser(pData,wDataSize,dwSocketID);

  00128	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0012b	50		 push	 eax
  0012c	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00130	51		 push	 ecx
  00131	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  00134	52		 push	 edx
  00135	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00138	e8 00 00 00 00	 call	 ?OnTCPNetworkQueryNearuser@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkQueryNearuser
  0013d	eb 19		 jmp	 SHORT $LN1@OnTCPNetwo
$LN15@OnTCPNetwo:

; 698  : 		}
; 699  : 	case SUB_GC_USER_SHARE:
; 700  : 		{
; 701  : 			return OnTCPNetworkSubUserShare(pData,wDataSize,dwSocketID);

  0013f	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00142	50		 push	 eax
  00143	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00147	51		 push	 ecx
  00148	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  0014b	52		 push	 edx
  0014c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0014f	e8 00 00 00 00	 call	 ?OnTCPNetworkSubUserShare@CAttemperEngineSink@@IAE_NPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkSubUserShare
  00154	eb 02		 jmp	 SHORT $LN1@OnTCPNetwo
$LN2@OnTCPNetwo:

; 702  : 		}
; 703  : 	}
; 704  : 
; 705  : 	return false;

  00156	32 c0		 xor	 al, al
$LN1@OnTCPNetwo:

; 706  : }

  00158	5f		 pop	 edi
  00159	5e		 pop	 esi
  0015a	5b		 pop	 ebx
  0015b	8b e5		 mov	 esp, ebp
  0015d	5d		 pop	 ebp
  0015e	c2 10 00	 ret	 16			; 00000010H
  00161	0f 1f 00	 npad	 3
$LN17@OnTCPNetwo:
  00164	00 00 00 00	 DD	 $LN8@OnTCPNetwo
  00168	00 00 00 00	 DD	 $LN4@OnTCPNetwo
  0016c	00 00 00 00	 DD	 $LN5@OnTCPNetwo
  00170	00 00 00 00	 DD	 $LN9@OnTCPNetwo
  00174	00 00 00 00	 DD	 $LN6@OnTCPNetwo
  00178	00 00 00 00	 DD	 $LN10@OnTCPNetwo
  0017c	00 00 00 00	 DD	 $LN11@OnTCPNetwo
  00180	00 00 00 00	 DD	 $LN2@OnTCPNetwo
  00184	00 00 00 00	 DD	 $LN2@OnTCPNetwo
  00188	00 00 00 00	 DD	 $LN12@OnTCPNetwo
  0018c	00 00 00 00	 DD	 $LN13@OnTCPNetwo
  00190	00 00 00 00	 DD	 $LN14@OnTCPNetwo
  00194	00 00 00 00	 DD	 $LN15@OnTCPNetwo
  00198	00 00 00 00	 DD	 $LN7@OnTCPNetwo
?OnTCPNetworkMainUser@CAttemperEngineSink@@IAE_NGPAXGK@Z ENDP ; CAttemperEngineSink::OnTCPNetworkMainUser
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPNetworkRead@CAttemperEngineSink@@UAE_NUTCP_Command@@PAXGK@Z
_TEXT	SEGMENT
tv65 = -72						; size = 4
_this$ = -4						; size = 4
_Command$ = 8						; size = 4
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
_dwSocketID$ = 20					; size = 4
?OnEventTCPNetworkRead@CAttemperEngineSink@@UAE_NUTCP_Command@@PAXGK@Z PROC ; CAttemperEngineSink::OnEventTCPNetworkRead, COMDAT
; _this$ = ecx

; 541  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 542  : 	switch (Command.wMainCmdID)

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _Command$[ebp]
  00010	89 45 b8	 mov	 DWORD PTR tv65[ebp], eax
  00013	83 7d b8 01	 cmp	 DWORD PTR tv65[ebp], 1
  00017	74 08		 je	 SHORT $LN4@OnEventTCP
  00019	83 7d b8 03	 cmp	 DWORD PTR tv65[ebp], 3
  0001d	74 1e		 je	 SHORT $LN5@OnEventTCP
  0001f	eb 38		 jmp	 SHORT $LN2@OnEventTCP
$LN4@OnEventTCP:

; 543  : 	{
; 544  : 	case MDM_GC_LOGON:		//登录命令
; 545  : 		{
; 546  : 			return OnTCPNetworkMainLogon(Command.wSubCmdID,pData,wDataSize,dwSocketID);

  00021	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00024	50		 push	 eax
  00025	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00029	51		 push	 ecx
  0002a	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  0002d	52		 push	 edx
  0002e	0f b7 45 0a	 movzx	 eax, WORD PTR _Command$[ebp+2]
  00032	50		 push	 eax
  00033	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00036	e8 00 00 00 00	 call	 ?OnTCPNetworkMainLogon@CAttemperEngineSink@@IAE_NGPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkMainLogon
  0003b	eb 1e		 jmp	 SHORT $LN1@OnEventTCP
$LN5@OnEventTCP:

; 547  : 		}
; 548  : 	case MDM_GC_USER:		//用户命令
; 549  : 		{
; 550  : 			return OnTCPNetworkMainUser(Command.wSubCmdID,pData,wDataSize,dwSocketID);

  0003d	8b 45 14	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00040	50		 push	 eax
  00041	0f b7 4d 10	 movzx	 ecx, WORD PTR _wDataSize$[ebp]
  00045	51		 push	 ecx
  00046	8b 55 0c	 mov	 edx, DWORD PTR _pData$[ebp]
  00049	52		 push	 edx
  0004a	0f b7 45 0a	 movzx	 eax, WORD PTR _Command$[ebp+2]
  0004e	50		 push	 eax
  0004f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00052	e8 00 00 00 00	 call	 ?OnTCPNetworkMainUser@CAttemperEngineSink@@IAE_NGPAXGK@Z ; CAttemperEngineSink::OnTCPNetworkMainUser
  00057	eb 02		 jmp	 SHORT $LN1@OnEventTCP
$LN2@OnEventTCP:

; 551  : 		}
; 552  : 	}
; 553  : 
; 554  : 	return true;

  00059	b0 01		 mov	 al, 1
$LN1@OnEventTCP:

; 555  : }

  0005b	5f		 pop	 edi
  0005c	5e		 pop	 esi
  0005d	5b		 pop	 ebx
  0005e	8b e5		 mov	 esp, ebp
  00060	5d		 pop	 ebp
  00061	c2 10 00	 ret	 16			; 00000010H
?OnEventTCPNetworkRead@CAttemperEngineSink@@UAE_NUTCP_Command@@PAXGK@Z ENDP ; CAttemperEngineSink::OnEventTCPNetworkRead
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z
_TEXT	SEGMENT
tv168 = -248						; size = 4
tv167 = -248						; size = 4
tv169 = -245						; size = 1
tv166 = -245						; size = 1
_szMessage$2 = -180					; size = 128
_UserOnLine$3 = -52					; size = 5
_pUserInfo$4 = -44					; size = 4
_pLocalUserItem$5 = -40					; size = 4
_pServerUserItem$ = -36					; size = 4
_pBindParameter$ = -32					; size = 4
_wBindIndex$ = -28					; size = 2
_this$ = -24						; size = 4
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_dwClientAddr$ = 8					; size = 4
_dwActiveTime$ = 12					; size = 4
_dwSocketID$ = 16					; size = 4
?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z PROC ; CAttemperEngineSink::OnEventTCPNetworkShut, COMDAT
; _this$ = ecx

; 485  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec e8 00 00
	00		 sub	 esp, 232		; 000000e8H
  00018	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001d	33 c5		 xor	 eax, ebp
  0001f	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00022	53		 push	 ebx
  00023	56		 push	 esi
  00024	57		 push	 edi
  00025	50		 push	 eax
  00026	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00029	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0002f	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp
  00032	89 4d e8	 mov	 DWORD PTR _this$[ebp], ecx

; 486  : 	//变量定义
; 487  : 	WORD wBindIndex=LOWORD(dwSocketID);

  00035	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  00038	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0003d	66 89 45 e4	 mov	 WORD PTR _wBindIndex$[ebp], ax

; 488  : 	tagBindParameter * pBindParameter=GetBindParameter(wBindIndex);

  00041	0f b7 45 e4	 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  00045	50		 push	 eax
  00046	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00049	e8 00 00 00 00	 call	 ?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ; CAttemperEngineSink::GetBindParameter
  0004e	89 45 e0	 mov	 DWORD PTR _pBindParameter$[ebp], eax

; 489  : 	if(pBindParameter==NULL) return false;

  00051	83 7d e0 00	 cmp	 DWORD PTR _pBindParameter$[ebp], 0
  00055	75 07		 jne	 SHORT $LN2@OnEventTCP
  00057	32 c0		 xor	 al, al
  00059	e9 a0 01 00 00	 jmp	 $LN1@OnEventTCP
$LN2@OnEventTCP:

; 490  : 
; 491  : 	//获取用户
; 492  : 	CServerUserItem * pServerUserItem =pBindParameter->pServerUserItem;

  0005e	8b 45 e0	 mov	 eax, DWORD PTR _pBindParameter$[ebp]
  00061	8b 48 1c	 mov	 ecx, DWORD PTR [eax+28]
  00064	89 4d dc	 mov	 DWORD PTR _pServerUserItem$[ebp], ecx

; 493  : 
; 494  : 	try

  00067	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0

; 495  : 	{
; 496  : 		//用户处理
; 497  : 		if (pServerUserItem!=NULL)

  0006e	83 7d dc 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  00072	0f 84 0f 01 00
	00		 je	 $LN4@OnEventTCP

; 498  : 		{
; 499  : 			//状态判断
; 500  : 			if(pServerUserItem->GetMainStatus()==FRIEND_US_OFFLINE) return true;

  00078	8b 45 dc	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  0007b	8b 10		 mov	 edx, DWORD PTR [eax]
  0007d	8b 4d dc	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00080	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00083	ff d0		 call	 eax
  00085	88 85 0b ff ff
	ff		 mov	 BYTE PTR tv166[ebp], al
  0008b	0f b6 8d 0b ff
	ff ff		 movzx	 ecx, BYTE PTR tv166[ebp]
  00092	85 c9		 test	 ecx, ecx
  00094	75 07		 jne	 SHORT $LN5@OnEventTCP
  00096	b0 01		 mov	 al, 1
  00098	e9 61 01 00 00	 jmp	 $LN1@OnEventTCP
$LN5@OnEventTCP:

; 501  : 
; 502  : 			//更改状态
; 503  : 			CLocalUserItem * pLocalUserItem = (CLocalUserItem *)pServerUserItem;

  0009d	8b 45 dc	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  000a0	89 45 d8	 mov	 DWORD PTR _pLocalUserItem$5[ebp], eax

; 504  : 			tagFriendUserInfo * pUserInfo = pLocalUserItem->GetUserInfo();

  000a3	8b 45 d8	 mov	 eax, DWORD PTR _pLocalUserItem$5[ebp]
  000a6	8b 10		 mov	 edx, DWORD PTR [eax]
  000a8	8b 4d d8	 mov	 ecx, DWORD PTR _pLocalUserItem$5[ebp]
  000ab	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  000ae	ff d0		 call	 eax
  000b0	89 85 08 ff ff
	ff		 mov	 DWORD PTR tv167[ebp], eax
  000b6	8b 8d 08 ff ff
	ff		 mov	 ecx, DWORD PTR tv167[ebp]
  000bc	89 4d d4	 mov	 DWORD PTR _pUserInfo$4[ebp], ecx

; 505  : 			pUserInfo->cbMainStatus=FRIEND_US_OFFLINE;

  000bf	8b 45 d4	 mov	 eax, DWORD PTR _pUserInfo$4[ebp]
  000c2	c6 80 6c 01 00
	00 00		 mov	 BYTE PTR [eax+364], 0

; 506  : 			pUserInfo->cbGameStatus=US_NULL;

  000c9	8b 45 d4	 mov	 eax, DWORD PTR _pUserInfo$4[ebp]
  000cc	c6 80 6d 01 00
	00 00		 mov	 BYTE PTR [eax+365], 0

; 507  : 			pUserInfo->wKindID=INVALID_KIND;

  000d3	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  000d8	8b 4d d4	 mov	 ecx, DWORD PTR _pUserInfo$4[ebp]
  000db	66 89 81 6e 01
	00 00		 mov	 WORD PTR [ecx+366], ax

; 508  : 			pUserInfo->wServerID=INVALID_SERVER;

  000e2	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  000e7	8b 4d d4	 mov	 ecx, DWORD PTR _pUserInfo$4[ebp]
  000ea	66 89 81 70 01
	00 00		 mov	 WORD PTR [ecx+368], ax

; 509  : 			pUserInfo->wTableID=INVALID_TABLE;

  000f1	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  000f6	8b 4d d4	 mov	 ecx, DWORD PTR _pUserInfo$4[ebp]
  000f9	66 89 81 72 01
	00 00		 mov	 WORD PTR [ecx+370], ax

; 510  : 			pUserInfo->wChairID=INVALID_CHAIR;

  00100	b8 ff ff 00 00	 mov	 eax, 65535		; 0000ffffH
  00105	8b 4d d4	 mov	 ecx, DWORD PTR _pUserInfo$4[ebp]
  00108	66 89 81 74 01
	00 00		 mov	 WORD PTR [ecx+372], ax

; 511  : 			ZeroMemory(pUserInfo->szServerName,CountArray(pUserInfo->szServerName));

  0010f	6a 20		 push	 32			; 00000020H
  00111	6a 00		 push	 0
  00113	8b 45 d4	 mov	 eax, DWORD PTR _pUserInfo$4[ebp]
  00116	05 76 01 00 00	 add	 eax, 374		; 00000176H
  0011b	50		 push	 eax
  0011c	e8 00 00 00 00	 call	 _memset
  00121	83 c4 0c	 add	 esp, 12			; 0000000cH

; 512  : 
; 513  : 			//TCHAR szMessage[256]=TEXT("");
; 514  : 			//_sntprintf(szMessage,CountArray(szMessage),TEXT("%d-----下线通知"),pServerUserItem->GetUserID());
; 515  : 			//CTraceService::TraceString(szMessage,TraceLevel_Normal);
; 516  : 
; 517  : 			//用户离线
; 518  : 			CMD_GC_UserOnlineStatusNotify UserOnLine;
; 519  : 			UserOnLine.dwUserID=pServerUserItem->GetUserID();

  00124	8b 45 dc	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  00127	8b 10		 mov	 edx, DWORD PTR [eax]
  00129	8b 4d dc	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  0012c	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0012f	ff d0		 call	 eax
  00131	89 85 08 ff ff
	ff		 mov	 DWORD PTR tv168[ebp], eax
  00137	8b 8d 08 ff ff
	ff		 mov	 ecx, DWORD PTR tv168[ebp]
  0013d	89 4d cc	 mov	 DWORD PTR _UserOnLine$3[ebp], ecx

; 520  : 			UserOnLine.cbMainStatus=pServerUserItem->GetMainStatus();	

  00140	8b 45 dc	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  00143	8b 10		 mov	 edx, DWORD PTR [eax]
  00145	8b 4d dc	 mov	 ecx, DWORD PTR _pServerUserItem$[ebp]
  00148	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  0014b	ff d0		 call	 eax
  0014d	88 85 0b ff ff
	ff		 mov	 BYTE PTR tv169[ebp], al
  00153	8a 8d 0b ff ff
	ff		 mov	 cl, BYTE PTR tv169[ebp]
  00159	88 4d d0	 mov	 BYTE PTR _UserOnLine$3[ebp+4], cl

; 521  : 			SendDataToUserFriend(UserOnLine.dwUserID,MDM_GC_USER,SUB_GC_USER_STATUS_NOTIFY,&UserOnLine,sizeof(UserOnLine));

  0015c	6a 05		 push	 5
  0015e	8d 45 cc	 lea	 eax, DWORD PTR _UserOnLine$3[ebp]
  00161	50		 push	 eax
  00162	6a 01		 push	 1
  00164	6a 03		 push	 3
  00166	8b 4d cc	 mov	 ecx, DWORD PTR _UserOnLine$3[ebp]
  00169	51		 push	 ecx
  0016a	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0016d	e8 00 00 00 00	 call	 ?SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendDataToUserFriend

; 522  : 
; 523  : 			//清理用户
; 524  : 			m_ServerUserManager.DeleteUserItem(UserOnLine.dwUserID);

  00172	8b 45 cc	 mov	 eax, DWORD PTR _UserOnLine$3[ebp]
  00175	50		 push	 eax
  00176	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00179	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0017c	8b 55 e8	 mov	 edx, DWORD PTR _this$[ebp]
  0017f	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00182	8b 50 10	 mov	 edx, DWORD PTR [eax+16]
  00185	ff d2		 call	 edx
$LN4@OnEventTCP:

; 525  : 		}
; 526  : 	}

  00187	eb 53		 jmp	 SHORT $LN7@OnEventTCP
__catch$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z$0:

; 527  : 	catch(...)
; 528  : 	{
; 529  : 		TCHAR szMessage[128]=TEXT("");

  00189	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@@
  0018e	88 85 4c ff ff
	ff		 mov	 BYTE PTR _szMessage$2[ebp], al
  00194	6a 7f		 push	 127			; 0000007fH
  00196	6a 00		 push	 0
  00198	8d 85 4d ff ff
	ff		 lea	 eax, DWORD PTR _szMessage$2[ebp+1]
  0019e	50		 push	 eax
  0019f	e8 00 00 00 00	 call	 _memset
  001a4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 530  : 		_sntprintf(szMessage,CountArray(szMessage),TEXT("关闭连接异常: dwSocketID=%d"),dwSocketID);

  001a7	8b 45 10	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  001aa	50		 push	 eax
  001ab	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@DDKDJNDD@?$LJ?X?$LB?U?A?$KM?$LN?S?R?l?$LD?$KD?3?5dwSocketID?$DN?$CFd@
  001b0	68 80 00 00 00	 push	 128			; 00000080H
  001b5	8d 8d 4c ff ff
	ff		 lea	 ecx, DWORD PTR _szMessage$2[ebp]
  001bb	51		 push	 ecx
  001bc	e8 00 00 00 00	 call	 __snprintf
  001c1	83 c4 10	 add	 esp, 16			; 00000010H

; 531  : 		CTraceService::TraceString(szMessage,TraceLevel_Normal);

  001c4	6a 01		 push	 1
  001c6	8d 85 4c ff ff
	ff		 lea	 eax, DWORD PTR _szMessage$2[ebp]
  001cc	50		 push	 eax
  001cd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?TraceString@CTraceService@@SA_NPBDW4enTraceLevel@@@Z
  001d3	83 c4 08	 add	 esp, 8

; 532  : 	}

  001d6	b8 00 00 00 00	 mov	 eax, $LN10@OnEventTCP
  001db	c3		 ret	 0
$LN7@OnEventTCP:
  001dc	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  001e3	eb 07		 jmp	 SHORT __tryend$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z$1
$LN10@OnEventTCP:
  001e5	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
__tryend$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z$1:

; 533  : 	//清除信息
; 534  : 	ZeroMemory(pBindParameter,sizeof(tagBindParameter));

  001ec	6a 20		 push	 32			; 00000020H
  001ee	6a 00		 push	 0
  001f0	8b 45 e0	 mov	 eax, DWORD PTR _pBindParameter$[ebp]
  001f3	50		 push	 eax
  001f4	e8 00 00 00 00	 call	 _memset
  001f9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 535  : 
; 536  : 	return false;

  001fc	32 c0		 xor	 al, al
$LN1@OnEventTCP:

; 537  : }

  001fe	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  00201	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00208	59		 pop	 ecx
  00209	5f		 pop	 edi
  0020a	5e		 pop	 esi
  0020b	5b		 pop	 ebx
  0020c	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0020f	33 cd		 xor	 ecx, ebp
  00211	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00216	8b e5		 mov	 esp, ebp
  00218	5d		 pop	 ebp
  00219	c2 0c 00	 ret	 12			; 0000000cH
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a 04 ff ff
	ff		 mov	 ecx, DWORD PTR [edx-252]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?OnEventTCPNetworkShut@CAttemperEngineSink@@UAE_NKKK@Z ENDP ; CAttemperEngineSink::OnEventTCPNetworkShut
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z
_TEXT	SEGMENT
_pBindParameter$ = -12					; size = 4
_wBindIndex$ = -8					; size = 2
_this$ = -4						; size = 4
_dwClientAddr$ = 8					; size = 4
_dwSocketID$ = 12					; size = 4
?OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z PROC ; CAttemperEngineSink::OnEventTCPNetworkBind, COMDAT
; _this$ = ecx

; 462  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 463  : 	//变量定义
; 464  : 	WORD wBindIndex=LOWORD(dwSocketID);

  0000c	8b 45 0c	 mov	 eax, DWORD PTR _dwSocketID$[ebp]
  0000f	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00014	66 89 45 f8	 mov	 WORD PTR _wBindIndex$[ebp], ax

; 465  : 	tagBindParameter * pBindParameter=GetBindParameter(wBindIndex);

  00018	0f b7 45 f8	 movzx	 eax, WORD PTR _wBindIndex$[ebp]
  0001c	50		 push	 eax
  0001d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00020	e8 00 00 00 00	 call	 ?GetBindParameter@CAttemperEngineSink@@IAEPAUtagBindParameter@@G@Z ; CAttemperEngineSink::GetBindParameter
  00025	89 45 f4	 mov	 DWORD PTR _pBindParameter$[ebp], eax

; 466  : 
; 467  : 	//设置变量
; 468  : 	if (pBindParameter!=NULL)

  00028	83 7d f4 00	 cmp	 DWORD PTR _pBindParameter$[ebp], 0
  0002c	74 25		 je	 SHORT $LN2@OnEventTCP

; 469  : 	{
; 470  : 		pBindParameter->dwSocketID=dwSocketID;

  0002e	8b 45 f4	 mov	 eax, DWORD PTR _pBindParameter$[ebp]
  00031	8b 4d 0c	 mov	 ecx, DWORD PTR _dwSocketID$[ebp]
  00034	89 08		 mov	 DWORD PTR [eax], ecx

; 471  : 		pBindParameter->dwClientAddr=dwClientAddr;

  00036	8b 45 f4	 mov	 eax, DWORD PTR _pBindParameter$[ebp]
  00039	8b 4d 08	 mov	 ecx, DWORD PTR _dwClientAddr$[ebp]
  0003c	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 472  : 		pBindParameter->dwActiveTime=(DWORD)time(NULL);

  0003f	6a 00		 push	 0
  00041	e8 00 00 00 00	 call	 _time
  00046	83 c4 04	 add	 esp, 4
  00049	8b 4d f4	 mov	 ecx, DWORD PTR _pBindParameter$[ebp]
  0004c	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 473  : 
; 474  : 		return true;

  0004f	b0 01		 mov	 al, 1
  00051	eb 1f		 jmp	 SHORT $LN1@OnEventTCP
$LN2@OnEventTCP:

; 475  : 	}
; 476  : 
; 477  : 	//错误断言
; 478  : 	ASSERT(FALSE);

  00053	33 c0		 xor	 eax, eax
  00055	75 19		 jne	 SHORT $LN4@OnEventTCP
  00057	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z@4JA
  0005d	83 c1 10	 add	 ecx, 16			; 00000010H
  00060	51		 push	 ecx
  00061	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00066	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006b	85 c0		 test	 eax, eax
  0006d	74 01		 je	 SHORT $LN4@OnEventTCP
  0006f	cc		 int	 3
$LN4@OnEventTCP:

; 479  : 
; 480  : 	return false;

  00070	32 c0		 xor	 al, al
$LN1@OnEventTCP:

; 481  : }

  00072	5f		 pop	 edi
  00073	5e		 pop	 esi
  00074	5b		 pop	 ebx
  00075	8b e5		 mov	 esp, ebp
  00077	5d		 pop	 ebp
  00078	c2 08 00	 ret	 8
?OnEventTCPNetworkBind@CAttemperEngineSink@@UAE_NKK@Z ENDP ; CAttemperEngineSink::OnEventTCPNetworkBind
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?SendUIControlPacket@CAttemperEngineSink@@QAE_NGPAXG@Z
_TEXT	SEGMENT
_pServiceUnits$ = -8					; size = 4
_this$ = -4						; size = 4
_wRequestID$ = 8					; size = 2
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?SendUIControlPacket@CAttemperEngineSink@@QAE_NGPAXG@Z PROC ; CAttemperEngineSink::SendUIControlPacket, COMDAT
; _this$ = ecx

; 452  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 453  : 	//发送数据
; 454  : 	CServiceUnits * pServiceUnits=CServiceUnits::g_pServiceUnits;

  0000c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_pServiceUnits@CServiceUnits@@2PAV1@A ; CServiceUnits::g_pServiceUnits
  00011	89 45 f8	 mov	 DWORD PTR _pServiceUnits$[ebp], eax

; 455  : 	pServiceUnits->PostControlRequest(wRequestID,pData,wDataSize);

  00014	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 0c	 mov	 ecx, DWORD PTR _pData$[ebp]
  0001c	51		 push	 ecx
  0001d	0f b7 55 08	 movzx	 edx, WORD PTR _wRequestID$[ebp]
  00021	52		 push	 edx
  00022	8b 4d f8	 mov	 ecx, DWORD PTR _pServiceUnits$[ebp]
  00025	e8 00 00 00 00	 call	 ?PostControlRequest@CServiceUnits@@QAE_NGPAXG@Z ; CServiceUnits::PostControlRequest

; 456  : 
; 457  : 	return true;

  0002a	b0 01		 mov	 al, 1

; 458  : }

  0002c	5f		 pop	 edi
  0002d	5e		 pop	 esi
  0002e	5b		 pop	 ebx
  0002f	8b e5		 mov	 esp, ebp
  00031	5d		 pop	 ebp
  00032	c2 0c 00	 ret	 12			; 0000000cH
?SendUIControlPacket@CAttemperEngineSink@@QAE_NGPAXG@Z ENDP ; CAttemperEngineSink::SendUIControlPacket
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnTCPSocketMainManagerService@CAttemperEngineSink@@IAE_NGPAXG@Z
_TEXT	SEGMENT
tv65 = -72						; size = 4
_this$ = -4						; size = 4
_wSubCmdID$ = 8						; size = 2
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnTCPSocketMainManagerService@CAttemperEngineSink@@IAE_NGPAXG@Z PROC ; CAttemperEngineSink::OnTCPSocketMainManagerService, COMDAT
; _this$ = ecx

; 352  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 353  : 	switch (wSubCmdID)

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _wSubCmdID$[ebp]
  00010	89 45 b8	 mov	 DWORD PTR tv65[ebp], eax
  00013	81 7d b8 c8 00
	00 00		 cmp	 DWORD PTR tv65[ebp], 200 ; 000000c8H
  0001a	74 02		 je	 SHORT $LN4@OnTCPSocke
  0001c	eb 32		 jmp	 SHORT $LN2@OnTCPSocke
$LN4@OnTCPSocke:

; 354  : 	{
; 355  : 	case SUB_CS_S_PROPERTY_TRUMPET:  //喇叭消息
; 356  : 		{
; 357  : 			//广播数据
; 358  : 			m_pITCPNetworkEngine->SendDataBatch(MDM_GC_USER,SUB_GC_TRUMPET_NOTIFY,pData,wDataSize,0xFF);

  0001e	68 ff 00 00 00	 push	 255			; 000000ffH
  00023	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00027	50		 push	 eax
  00028	8b 4d 0c	 mov	 ecx, DWORD PTR _pData$[ebp]
  0002b	51		 push	 ecx
  0002c	68 cd 00 00 00	 push	 205			; 000000cdH
  00031	6a 03		 push	 3
  00033	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00036	8b 82 e4 00 00
	00		 mov	 eax, DWORD PTR [edx+228]
  0003c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0003f	8b 10		 mov	 edx, DWORD PTR [eax]
  00041	8b 89 e4 00 00
	00		 mov	 ecx, DWORD PTR [ecx+228]
  00047	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0004a	ff d0		 call	 eax

; 359  : 			return true;

  0004c	b0 01		 mov	 al, 1
  0004e	eb 02		 jmp	 SHORT $LN1@OnTCPSocke
$LN2@OnTCPSocke:

; 360  : 		}
; 361  : 
; 362  : 	}	
; 363  : 
; 364  : 	return true;

  00050	b0 01		 mov	 al, 1
$LN1@OnTCPSocke:

; 365  : }

  00052	5f		 pop	 edi
  00053	5e		 pop	 esi
  00054	5b		 pop	 ebx
  00055	8b e5		 mov	 esp, ebp
  00057	5d		 pop	 ebp
  00058	c2 0c 00	 ret	 12			; 0000000cH
?OnTCPSocketMainManagerService@CAttemperEngineSink@@IAE_NGPAXG@Z ENDP ; CAttemperEngineSink::OnTCPSocketMainManagerService
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z
_TEXT	SEGMENT
_UserGameStatusNotify$ = -68				; size = 43
_pUserInfo$ = -24					; size = 4
_pLocalUserItem$ = -20					; size = 4
_pServerUserItem$ = -16					; size = 4
_pUserGameStatus$ = -12					; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
?OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z PROC ; CAttemperEngineSink::OnEventTCPSocketSubUserStatus, COMDAT
; _this$ = ecx

; 400  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 84 00 00
	00		 sub	 esp, 132		; 00000084H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 401  : 	//参数验证
; 402  : 	ASSERT(wDataSize==sizeof(CMD_CS_S_UserGameStatus));

  00019	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001d	83 f8 2d	 cmp	 eax, 45			; 0000002dH
  00020	74 19		 je	 SHORT $LN7@OnEventTCP
  00022	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z@4JA
  00028	83 c1 02	 add	 ecx, 2
  0002b	51		 push	 ecx
  0002c	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00031	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00036	85 c0		 test	 eax, eax
  00038	74 01		 je	 SHORT $LN7@OnEventTCP
  0003a	cc		 int	 3
$LN7@OnEventTCP:

; 403  : 	if(wDataSize!=sizeof(CMD_CS_S_UserGameStatus)) return false;

  0003b	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0003f	83 f8 2d	 cmp	 eax, 45			; 0000002dH
  00042	74 07		 je	 SHORT $LN2@OnEventTCP
  00044	32 c0		 xor	 al, al
  00046	e9 91 01 00 00	 jmp	 $LN1@OnEventTCP
$LN2@OnEventTCP:

; 404  : 
; 405  : 	//提取数据
; 406  : 	CMD_CS_S_UserGameStatus * pUserGameStatus = (CMD_CS_S_UserGameStatus *)pData;

  0004b	8b 45 08	 mov	 eax, DWORD PTR _pData$[ebp]
  0004e	89 45 f4	 mov	 DWORD PTR _pUserGameStatus$[ebp], eax

; 407  : 	ASSERT(pUserGameStatus!=NULL);

  00051	83 7d f4 00	 cmp	 DWORD PTR _pUserGameStatus$[ebp], 0
  00055	75 18		 jne	 SHORT $LN8@OnEventTCP
  00057	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z@4JA
  0005c	83 c0 07	 add	 eax, 7
  0005f	50		 push	 eax
  00060	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00065	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0006a	85 c0		 test	 eax, eax
  0006c	74 01		 je	 SHORT $LN8@OnEventTCP
  0006e	cc		 int	 3
$LN8@OnEventTCP:

; 408  : 	if(pUserGameStatus==NULL) return false;

  0006f	83 7d f4 00	 cmp	 DWORD PTR _pUserGameStatus$[ebp], 0
  00073	75 07		 jne	 SHORT $LN3@OnEventTCP
  00075	32 c0		 xor	 al, al
  00077	e9 60 01 00 00	 jmp	 $LN1@OnEventTCP
$LN3@OnEventTCP:

; 409  : 
; 410  : 	//查找用户
; 411  : 	CServerUserItem * pServerUserItem = m_ServerUserManager.SearchUserItem(pUserGameStatus->dwUserID);

  0007c	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  0007f	8b 08		 mov	 ecx, DWORD PTR [eax]
  00081	51		 push	 ecx
  00082	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00085	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00088	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0008b	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  0008e	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00091	ff d2		 call	 edx
  00093	89 45 f0	 mov	 DWORD PTR _pServerUserItem$[ebp], eax

; 412  : 	if(pServerUserItem==NULL ) return true;

  00096	83 7d f0 00	 cmp	 DWORD PTR _pServerUserItem$[ebp], 0
  0009a	75 07		 jne	 SHORT $LN4@OnEventTCP
  0009c	b0 01		 mov	 al, 1
  0009e	e9 39 01 00 00	 jmp	 $LN1@OnEventTCP
$LN4@OnEventTCP:

; 413  : 
; 414  : 	//获取对象
; 415  : 	CLocalUserItem * pLocalUserItem = (CLocalUserItem *)pServerUserItem;

  000a3	8b 45 f0	 mov	 eax, DWORD PTR _pServerUserItem$[ebp]
  000a6	89 45 ec	 mov	 DWORD PTR _pLocalUserItem$[ebp], eax

; 416  : 
; 417  : 	//重包判断
; 418  : 	if((pUserGameStatus->cbGameStatus==pLocalUserItem->GetGameStatus()) &&
; 419  : 		(pUserGameStatus->wServerID==pLocalUserItem->GetServerID()) && 

  000a9	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  000ac	0f b6 70 04	 movzx	 esi, BYTE PTR [eax+4]
  000b0	8b 4d ec	 mov	 ecx, DWORD PTR _pLocalUserItem$[ebp]
  000b3	8b 11		 mov	 edx, DWORD PTR [ecx]
  000b5	8b 4d ec	 mov	 ecx, DWORD PTR _pLocalUserItem$[ebp]
  000b8	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  000bb	ff d0		 call	 eax
  000bd	0f b6 c8	 movzx	 ecx, al
  000c0	3b f1		 cmp	 esi, ecx
  000c2	75 3d		 jne	 SHORT $LN5@OnEventTCP
  000c4	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  000c7	0f b7 70 07	 movzx	 esi, WORD PTR [eax+7]
  000cb	8b 4d ec	 mov	 ecx, DWORD PTR _pLocalUserItem$[ebp]
  000ce	8b 11		 mov	 edx, DWORD PTR [ecx]
  000d0	8b 4d ec	 mov	 ecx, DWORD PTR _pLocalUserItem$[ebp]
  000d3	8b 42 18	 mov	 eax, DWORD PTR [edx+24]
  000d6	ff d0		 call	 eax
  000d8	0f b7 c8	 movzx	 ecx, ax
  000db	3b f1		 cmp	 esi, ecx
  000dd	75 22		 jne	 SHORT $LN5@OnEventTCP
  000df	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  000e2	0f b7 70 09	 movzx	 esi, WORD PTR [eax+9]
  000e6	8b 4d ec	 mov	 ecx, DWORD PTR _pLocalUserItem$[ebp]
  000e9	8b 11		 mov	 edx, DWORD PTR [ecx]
  000eb	8b 4d ec	 mov	 ecx, DWORD PTR _pLocalUserItem$[ebp]
  000ee	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  000f1	ff d0		 call	 eax
  000f3	0f b7 c8	 movzx	 ecx, ax
  000f6	3b f1		 cmp	 esi, ecx
  000f8	75 07		 jne	 SHORT $LN5@OnEventTCP

; 420  : 		(pUserGameStatus->wTableID==pLocalUserItem->GetTableID()) )
; 421  : 	{
; 422  : 		return true;

  000fa	b0 01		 mov	 al, 1
  000fc	e9 db 00 00 00	 jmp	 $LN1@OnEventTCP
$LN5@OnEventTCP:

; 423  : 	}
; 424  : 
; 425  : 	//更改状态
; 426  : 	tagFriendUserInfo* pUserInfo=pLocalUserItem->GetUserInfo();

  00101	8b 45 ec	 mov	 eax, DWORD PTR _pLocalUserItem$[ebp]
  00104	8b 10		 mov	 edx, DWORD PTR [eax]
  00106	8b 4d ec	 mov	 ecx, DWORD PTR _pLocalUserItem$[ebp]
  00109	8b 42 28	 mov	 eax, DWORD PTR [edx+40]
  0010c	ff d0		 call	 eax
  0010e	89 45 e8	 mov	 DWORD PTR _pUserInfo$[ebp], eax

; 427  : 	pUserInfo->cbGameStatus=pUserGameStatus->cbGameStatus;

  00111	8b 45 e8	 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  00114	8b 4d f4	 mov	 ecx, DWORD PTR _pUserGameStatus$[ebp]
  00117	8a 51 04	 mov	 dl, BYTE PTR [ecx+4]
  0011a	88 90 6d 01 00
	00		 mov	 BYTE PTR [eax+365], dl

; 428  : 	pUserInfo->wKindID = pUserGameStatus->wKindID;

  00120	8b 45 e8	 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  00123	8b 4d f4	 mov	 ecx, DWORD PTR _pUserGameStatus$[ebp]
  00126	66 8b 51 05	 mov	 dx, WORD PTR [ecx+5]
  0012a	66 89 90 6e 01
	00 00		 mov	 WORD PTR [eax+366], dx

; 429  : 	pUserInfo->wServerID=pUserGameStatus->wServerID;

  00131	8b 45 e8	 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  00134	8b 4d f4	 mov	 ecx, DWORD PTR _pUserGameStatus$[ebp]
  00137	66 8b 51 07	 mov	 dx, WORD PTR [ecx+7]
  0013b	66 89 90 70 01
	00 00		 mov	 WORD PTR [eax+368], dx

; 430  : 	pUserInfo->wTableID=pUserGameStatus->wTableID;

  00142	8b 45 e8	 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  00145	8b 4d f4	 mov	 ecx, DWORD PTR _pUserGameStatus$[ebp]
  00148	66 8b 51 09	 mov	 dx, WORD PTR [ecx+9]
  0014c	66 89 90 72 01
	00 00		 mov	 WORD PTR [eax+370], dx

; 431  : 	pUserInfo->wChairID=pUserGameStatus->wChairID;

  00153	8b 45 e8	 mov	 eax, DWORD PTR _pUserInfo$[ebp]
  00156	8b 4d f4	 mov	 ecx, DWORD PTR _pUserGameStatus$[ebp]
  00159	66 8b 51 0b	 mov	 dx, WORD PTR [ecx+11]
  0015d	66 89 90 74 01
	00 00		 mov	 WORD PTR [eax+372], dx

; 432  : 	lstrcpyn(pUserInfo->szServerName,pUserGameStatus->szServerName,CountArray(pUserInfo->szServerName));

  00164	6a 20		 push	 32			; 00000020H
  00166	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  00169	83 c0 0d	 add	 eax, 13			; 0000000dH
  0016c	50		 push	 eax
  0016d	8b 4d e8	 mov	 ecx, DWORD PTR _pUserInfo$[ebp]
  00170	81 c1 76 01 00
	00		 add	 ecx, 374		; 00000176H
  00176	51		 push	 ecx
  00177	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 433  : 
; 434  : 	//广播状态
; 435  : 	CMD_GC_UserGameStatusNotify UserGameStatusNotify;
; 436  : 	UserGameStatusNotify.dwUserID=pUserGameStatus->dwUserID;

  0017d	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  00180	8b 08		 mov	 ecx, DWORD PTR [eax]
  00182	89 4d bc	 mov	 DWORD PTR _UserGameStatusNotify$[ebp], ecx

; 437  : 	UserGameStatusNotify.cbGameStatus=pUserGameStatus->cbGameStatus;

  00185	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  00188	8a 48 04	 mov	 cl, BYTE PTR [eax+4]
  0018b	88 4d c0	 mov	 BYTE PTR _UserGameStatusNotify$[ebp+4], cl

; 438  : 	UserGameStatusNotify.wKindID = pUserGameStatus->wKindID;

  0018e	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  00191	66 8b 48 05	 mov	 cx, WORD PTR [eax+5]
  00195	66 89 4d c1	 mov	 WORD PTR _UserGameStatusNotify$[ebp+5], cx

; 439  : 	UserGameStatusNotify.wServerID=pUserGameStatus->wServerID;

  00199	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  0019c	66 8b 48 07	 mov	 cx, WORD PTR [eax+7]
  001a0	66 89 4d c3	 mov	 WORD PTR _UserGameStatusNotify$[ebp+7], cx

; 440  : 	UserGameStatusNotify.wTableID=pUserGameStatus->wTableID;

  001a4	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  001a7	66 8b 48 09	 mov	 cx, WORD PTR [eax+9]
  001ab	66 89 4d c5	 mov	 WORD PTR _UserGameStatusNotify$[ebp+9], cx

; 441  : 	lstrcpyn(UserGameStatusNotify.szServerName,pUserGameStatus->szServerName,CountArray(UserGameStatusNotify.szServerName));

  001af	6a 20		 push	 32			; 00000020H
  001b1	8b 45 f4	 mov	 eax, DWORD PTR _pUserGameStatus$[ebp]
  001b4	83 c0 0d	 add	 eax, 13			; 0000000dH
  001b7	50		 push	 eax
  001b8	8d 4d c7	 lea	 ecx, DWORD PTR _UserGameStatusNotify$[ebp+11]
  001bb	51		 push	 ecx
  001bc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 442  : 
; 443  : 	//广播给好友
; 444  : 	SendDataToUserFriend(pUserGameStatus->dwUserID,MDM_GC_USER,SUB_GC_GAME_STATUS_NOTIFY,&UserGameStatusNotify,sizeof(UserGameStatusNotify));

  001c2	6a 2b		 push	 43			; 0000002bH
  001c4	8d 45 bc	 lea	 eax, DWORD PTR _UserGameStatusNotify$[ebp]
  001c7	50		 push	 eax
  001c8	6a 02		 push	 2
  001ca	6a 03		 push	 3
  001cc	8b 4d f4	 mov	 ecx, DWORD PTR _pUserGameStatus$[ebp]
  001cf	8b 11		 mov	 edx, DWORD PTR [ecx]
  001d1	52		 push	 edx
  001d2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d5	e8 00 00 00 00	 call	 ?SendDataToUserFriend@CAttemperEngineSink@@IAE_NKGGPAXG@Z ; CAttemperEngineSink::SendDataToUserFriend

; 445  : 
; 446  : 
; 447  : 	return true;

  001da	b0 01		 mov	 al, 1
$LN1@OnEventTCP:

; 448  : }

  001dc	5f		 pop	 edi
  001dd	5e		 pop	 esi
  001de	5b		 pop	 ebx
  001df	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001e2	33 cd		 xor	 ecx, ebp
  001e4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001e9	8b e5		 mov	 esp, ebp
  001eb	5d		 pop	 ebp
  001ec	c2 08 00	 ret	 8
?OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z ENDP ; CAttemperEngineSink::OnEventTCPSocketSubUserStatus
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPSocketMainUserCollect@CAttemperEngineSink@@IAE_NGPAXG@Z
_TEXT	SEGMENT
tv65 = -72						; size = 4
_this$ = -4						; size = 4
_wSubCmdID$ = 8						; size = 2
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnEventTCPSocketMainUserCollect@CAttemperEngineSink@@IAE_NGPAXG@Z PROC ; CAttemperEngineSink::OnEventTCPSocketMainUserCollect, COMDAT
; _this$ = ecx

; 387  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 388  : 	switch (wSubCmdID)

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _wSubCmdID$[ebp]
  00010	89 45 b8	 mov	 DWORD PTR tv65[ebp], eax
  00013	83 7d b8 65	 cmp	 DWORD PTR tv65[ebp], 101 ; 00000065H
  00017	74 02		 je	 SHORT $LN4@OnEventTCP
  00019	eb 13		 jmp	 SHORT $LN2@OnEventTCP
$LN4@OnEventTCP:

; 389  : 	{
; 390  : 	case SUB_CS_S_USER_GAMESTATE:	//聊天服务
; 391  : 		{
; 392  : 			return OnEventTCPSocketSubUserStatus(pData,wDataSize);

  0001b	0f b7 45 10	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0001f	50		 push	 eax
  00020	8b 4d 0c	 mov	 ecx, DWORD PTR _pData$[ebp]
  00023	51		 push	 ecx
  00024	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00027	e8 00 00 00 00	 call	 ?OnEventTCPSocketSubUserStatus@CAttemperEngineSink@@IAE_NPAXG@Z ; CAttemperEngineSink::OnEventTCPSocketSubUserStatus
  0002c	eb 02		 jmp	 SHORT $LN1@OnEventTCP
$LN2@OnEventTCP:

; 393  : 		}
; 394  : 	}	
; 395  : 
; 396  : 	return true;

  0002e	b0 01		 mov	 al, 1
$LN1@OnEventTCP:

; 397  : }

  00030	5f		 pop	 edi
  00031	5e		 pop	 esi
  00032	5b		 pop	 ebx
  00033	8b e5		 mov	 esp, ebp
  00035	5d		 pop	 ebp
  00036	c2 0c 00	 ret	 12			; 0000000cH
?OnEventTCPSocketMainUserCollect@CAttemperEngineSink@@IAE_NGPAXG@Z ENDP ; CAttemperEngineSink::OnEventTCPSocketMainUserCollect
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPSocketMainServiceInfo@CAttemperEngineSink@@IAE_NGPAXG@Z
_TEXT	SEGMENT
tv65 = -76						; size = 4
_ControlResult$1 = -5					; size = 1
_this$ = -4						; size = 4
_wSubCmdID$ = 8						; size = 2
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnEventTCPSocketMainServiceInfo@CAttemperEngineSink@@IAE_NGPAXG@Z PROC ; CAttemperEngineSink::OnEventTCPSocketMainServiceInfo, COMDAT
; _this$ = ecx

; 368  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 369  : 	switch (wSubCmdID)

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _wSubCmdID$[ebp]
  00010	89 45 b4	 mov	 DWORD PTR tv65[ebp], eax
  00013	81 7d b4 82 00
	00 00		 cmp	 DWORD PTR tv65[ebp], 130 ; 00000082H
  0001a	74 02		 je	 SHORT $LN4@OnEventTCP
  0001c	eb 18		 jmp	 SHORT $LN2@OnEventTCP
$LN4@OnEventTCP:

; 370  : 	{
; 371  : 	case SUB_CS_S_CHAT_INSERT:	//聊天服务
; 372  : 		{
; 373  : 			//事件通知
; 374  : 			CP_ControlResult ControlResult;
; 375  : 			ControlResult.cbSuccess=ER_SUCCESS;

  0001e	c6 45 fb 01	 mov	 BYTE PTR _ControlResult$1[ebp], 1

; 376  : 			SendUIControlPacket(UI_CORRESPOND_RESULT,&ControlResult,sizeof(ControlResult));

  00022	6a 01		 push	 1
  00024	8d 45 fb	 lea	 eax, DWORD PTR _ControlResult$1[ebp]
  00027	50		 push	 eax
  00028	6a 01		 push	 1
  0002a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0002d	e8 00 00 00 00	 call	 ?SendUIControlPacket@CAttemperEngineSink@@QAE_NGPAXG@Z ; CAttemperEngineSink::SendUIControlPacket

; 377  : 
; 378  : 			return true;

  00032	b0 01		 mov	 al, 1
  00034	eb 02		 jmp	 SHORT $LN1@OnEventTCP
$LN2@OnEventTCP:

; 379  : 		}
; 380  : 
; 381  : 	}	
; 382  : 
; 383  : 	return true;

  00036	b0 01		 mov	 al, 1
$LN1@OnEventTCP:

; 384  : }

  00038	5f		 pop	 edi
  00039	5e		 pop	 esi
  0003a	5b		 pop	 ebx
  0003b	8b e5		 mov	 esp, ebp
  0003d	5d		 pop	 ebp
  0003e	c2 0c 00	 ret	 12			; 0000000cH
?OnEventTCPSocketMainServiceInfo@CAttemperEngineSink@@IAE_NGPAXG@Z ENDP ; CAttemperEngineSink::OnEventTCPSocketMainServiceInfo
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPSocketRead@CAttemperEngineSink@@UAE_NGUTCP_Command@@PAXG@Z
_TEXT	SEGMENT
tv67 = -72						; size = 4
_this$ = -4						; size = 4
_wServiceID$ = 8					; size = 2
_Command$ = 12						; size = 4
_pData$ = 16						; size = 4
_wDataSize$ = 20					; size = 2
?OnEventTCPSocketRead@CAttemperEngineSink@@UAE_NGUTCP_Command@@PAXG@Z PROC ; CAttemperEngineSink::OnEventTCPSocketRead, COMDAT
; _this$ = ecx

; 327  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 328  : 	//协调连接
; 329  : 	if (wServiceID==NETWORK_CORRESPOND)

  0000c	0f b7 45 08	 movzx	 eax, WORD PTR _wServiceID$[ebp]
  00010	83 f8 01	 cmp	 eax, 1
  00013	75 63		 jne	 SHORT $LN4@OnEventTCP

; 330  : 	{
; 331  : 		switch (Command.wMainCmdID)

  00015	0f b7 45 0c	 movzx	 eax, WORD PTR _Command$[ebp]
  00019	89 45 b8	 mov	 DWORD PTR tv67[ebp], eax
  0001c	83 7d b8 02	 cmp	 DWORD PTR tv67[ebp], 2
  00020	74 0e		 je	 SHORT $LN5@OnEventTCP
  00022	83 7d b8 03	 cmp	 DWORD PTR tv67[ebp], 3
  00026	74 20		 je	 SHORT $LN6@OnEventTCP
  00028	83 7d b8 05	 cmp	 DWORD PTR tv67[ebp], 5
  0002c	74 32		 je	 SHORT $LN7@OnEventTCP
  0002e	eb 48		 jmp	 SHORT $LN4@OnEventTCP
$LN5@OnEventTCP:

; 332  : 		{
; 333  : 		case MDM_CS_SERVICE_INFO:	//服务信息
; 334  : 			{
; 335  : 				return OnEventTCPSocketMainServiceInfo(Command.wSubCmdID,pData,wDataSize);

  00030	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00034	50		 push	 eax
  00035	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00038	51		 push	 ecx
  00039	0f b7 55 0e	 movzx	 edx, WORD PTR _Command$[ebp+2]
  0003d	52		 push	 edx
  0003e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00041	e8 00 00 00 00	 call	 ?OnEventTCPSocketMainServiceInfo@CAttemperEngineSink@@IAE_NGPAXG@Z ; CAttemperEngineSink::OnEventTCPSocketMainServiceInfo
  00046	eb 32		 jmp	 SHORT $LN1@OnEventTCP
$LN6@OnEventTCP:

; 336  : 			}
; 337  : 		case MDM_CS_USER_COLLECT:	//用户信息
; 338  : 			{
; 339  : 				return OnEventTCPSocketMainUserCollect(Command.wSubCmdID,pData,wDataSize);

  00048	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  0004c	50		 push	 eax
  0004d	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00050	51		 push	 ecx
  00051	0f b7 55 0e	 movzx	 edx, WORD PTR _Command$[ebp+2]
  00055	52		 push	 edx
  00056	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00059	e8 00 00 00 00	 call	 ?OnEventTCPSocketMainUserCollect@CAttemperEngineSink@@IAE_NGPAXG@Z ; CAttemperEngineSink::OnEventTCPSocketMainUserCollect
  0005e	eb 1a		 jmp	 SHORT $LN1@OnEventTCP
$LN7@OnEventTCP:

; 340  : 			}
; 341  : 		case MDM_CS_MANAGER_SERVICE: //管理服务
; 342  : 			{
; 343  : 				return OnTCPSocketMainManagerService(Command.wSubCmdID,pData,wDataSize);

  00060	0f b7 45 14	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00064	50		 push	 eax
  00065	8b 4d 10	 mov	 ecx, DWORD PTR _pData$[ebp]
  00068	51		 push	 ecx
  00069	0f b7 55 0e	 movzx	 edx, WORD PTR _Command$[ebp+2]
  0006d	52		 push	 edx
  0006e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00071	e8 00 00 00 00	 call	 ?OnTCPSocketMainManagerService@CAttemperEngineSink@@IAE_NGPAXG@Z ; CAttemperEngineSink::OnTCPSocketMainManagerService
  00076	eb 02		 jmp	 SHORT $LN1@OnEventTCP
$LN4@OnEventTCP:

; 344  : 			}
; 345  : 		}
; 346  : 	}
; 347  : 
; 348  : 	return true;

  00078	b0 01		 mov	 al, 1
$LN1@OnEventTCP:

; 349  : }

  0007a	5f		 pop	 edi
  0007b	5e		 pop	 esi
  0007c	5b		 pop	 ebx
  0007d	8b e5		 mov	 esp, ebp
  0007f	5d		 pop	 ebp
  00080	c2 10 00	 ret	 16			; 00000010H
?OnEventTCPSocketRead@CAttemperEngineSink@@UAE_NGUTCP_Command@@PAXG@Z ENDP ; CAttemperEngineSink::OnEventTCPSocketRead
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z
_TEXT	SEGMENT
_szDescribe$1 = -136					; size = 128
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_wServiceID$ = 8					; size = 2
_cbShutReason$ = 12					; size = 1
?OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z PROC ; CAttemperEngineSink::OnEventTCPSocketShut, COMDAT
; _this$ = ecx

; 294  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c8 00 00
	00		 sub	 esp, 200		; 000000c8H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 295  : 	//协调连接
; 296  : 	if (wServiceID==NETWORK_CORRESPOND)

  00019	0f b7 45 08	 movzx	 eax, WORD PTR _wServiceID$[ebp]
  0001d	83 f8 01	 cmp	 eax, 1
  00020	0f 85 df 00 00
	00		 jne	 $LN2@OnEventTCP

; 297  : 	{
; 298  : 		//设置变量
; 299  : 		m_bCollectUser=false;

  00026	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00029	c6 40 04 00	 mov	 BYTE PTR [eax+4], 0

; 300  : 
; 301  : 		//删除时间
; 302  : 		m_pITimerEngine->KillTimer(IDI_CONNECT_CORRESPOND);

  0002d	6a 01		 push	 1
  0002f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00032	8b 88 d8 00 00
	00		 mov	 ecx, DWORD PTR [eax+216]
  00038	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0003b	8b 01		 mov	 eax, DWORD PTR [ecx]
  0003d	8b 8a d8 00 00
	00		 mov	 ecx, DWORD PTR [edx+216]
  00043	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  00046	ff d2		 call	 edx

; 303  : 
; 304  : 		//重连判断
; 305  : 		if (m_bNeekCorrespond==true)

  00048	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0004b	0f b6 48 05	 movzx	 ecx, BYTE PTR [eax+5]
  0004f	83 f9 01	 cmp	 ecx, 1
  00052	0f 85 a9 00 00
	00		 jne	 $LN3@OnEventTCP

; 306  : 		{
; 307  : 			//构造提示
; 308  : 			TCHAR szDescribe[128]=TEXT("");

  00058	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@@
  0005d	88 85 78 ff ff
	ff		 mov	 BYTE PTR _szDescribe$1[ebp], al
  00063	6a 7f		 push	 127			; 0000007fH
  00065	6a 00		 push	 0
  00067	8d 85 79 ff ff
	ff		 lea	 eax, DWORD PTR _szDescribe$1[ebp+1]
  0006d	50		 push	 eax
  0006e	e8 00 00 00 00	 call	 _memset
  00073	83 c4 0c	 add	 esp, 12			; 0000000cH

; 309  : 			_sntprintf(szDescribe,CountArray(szDescribe),TEXT("与协调服务器的连接关闭了，%ld 秒后将重新连接"),m_pInitParameter->m_wConnectTime);

  00076	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00079	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  0007c	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  00080	52		 push	 edx
  00081	68 00 00 00 00	 push	 OFFSET ??_C@_0CN@HPLNLDC@?S?k?P?$KN?$LF?w?$LH?$PO?N?q?F?w?$LF?D?A?$KM?$LN?S?$LJ?X?$LB?U?A?K?$KD?$KM?$CFld?5?C@
  00086	68 80 00 00 00	 push	 128			; 00000080H
  0008b	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _szDescribe$1[ebp]
  00091	50		 push	 eax
  00092	e8 00 00 00 00	 call	 __snprintf
  00097	83 c4 10	 add	 esp, 16			; 00000010H

; 310  : 
; 311  : 			//提示消息
; 312  : 			CTraceService::TraceString(szDescribe,TraceLevel_Warning);

  0009a	6a 02		 push	 2
  0009c	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _szDescribe$1[ebp]
  000a2	50		 push	 eax
  000a3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?TraceString@CTraceService@@SA_NPBDW4enTraceLevel@@@Z
  000a9	83 c4 08	 add	 esp, 8

; 313  : 
; 314  : 			//设置时间
; 315  : 			ASSERT(m_pITimerEngine!=NULL);

  000ac	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000af	83 b8 d8 00 00
	00 00		 cmp	 DWORD PTR [eax+216], 0
  000b6	75 19		 jne	 SHORT $LN5@OnEventTCP
  000b8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z@4JA
  000be	83 c1 15	 add	 ecx, 21			; 00000015H
  000c1	51		 push	 ecx
  000c2	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000c7	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000cc	85 c0		 test	 eax, eax
  000ce	74 01		 je	 SHORT $LN5@OnEventTCP
  000d0	cc		 int	 3
$LN5@OnEventTCP:

; 316  : 			m_pITimerEngine->SetTimer(IDI_CONNECT_CORRESPOND,m_pInitParameter->m_wConnectTime*1000L,1,0);

  000d1	6a 00		 push	 0
  000d3	6a 01		 push	 1
  000d5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d8	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000db	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  000df	69 c2 e8 03 00
	00		 imul	 eax, edx, 1000
  000e5	50		 push	 eax
  000e6	6a 01		 push	 1
  000e8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000eb	8b 91 d8 00 00
	00		 mov	 edx, DWORD PTR [ecx+216]
  000f1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000f4	8b 12		 mov	 edx, DWORD PTR [edx]
  000f6	8b 88 d8 00 00
	00		 mov	 ecx, DWORD PTR [eax+216]
  000fc	8b 42 18	 mov	 eax, DWORD PTR [edx+24]
  000ff	ff d0		 call	 eax
$LN3@OnEventTCP:

; 317  : 		}
; 318  : 
; 319  : 		return true;

  00101	b0 01		 mov	 al, 1
  00103	eb 02		 jmp	 SHORT $LN1@OnEventTCP
$LN2@OnEventTCP:

; 320  : 	}
; 321  : 
; 322  : 	return false;

  00105	32 c0		 xor	 al, al
$LN1@OnEventTCP:

; 323  : }

  00107	5f		 pop	 edi
  00108	5e		 pop	 esi
  00109	5b		 pop	 ebx
  0010a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0010d	33 cd		 xor	 ecx, ebp
  0010f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c2 08 00	 ret	 8
?OnEventTCPSocketShut@CAttemperEngineSink@@UAE_NGE@Z ENDP ; CAttemperEngineSink::OnEventTCPSocketShut
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z
_TEXT	SEGMENT
_szDescribe$1 = -136					; size = 128
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_wServiceID$ = 8					; size = 2
_nErrorCode$ = 12					; size = 4
?OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z PROC ; CAttemperEngineSink::OnEventTCPSocketLink, COMDAT
; _this$ = ecx

; 252  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c8 00 00
	00		 sub	 esp, 200		; 000000c8H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 253  : 	//协调连接
; 254  : 	if (wServiceID==NETWORK_CORRESPOND)

  00019	0f b7 45 08	 movzx	 eax, WORD PTR _wServiceID$[ebp]
  0001d	83 f8 01	 cmp	 eax, 1
  00020	0f 85 34 01 00
	00		 jne	 $LN2@OnEventTCP

; 255  : 	{
; 256  : 		//错误判断
; 257  : 		if (nErrorCode!=0)

  00026	83 7d 0c 00	 cmp	 DWORD PTR _nErrorCode$[ebp], 0
  0002a	0f 84 b1 00 00
	00		 je	 $LN3@OnEventTCP

; 258  : 		{
; 259  : 			//构造提示
; 260  : 			TCHAR szDescribe[128]=TEXT("");

  00030	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@@
  00035	88 85 78 ff ff
	ff		 mov	 BYTE PTR _szDescribe$1[ebp], al
  0003b	6a 7f		 push	 127			; 0000007fH
  0003d	6a 00		 push	 0
  0003f	8d 85 79 ff ff
	ff		 lea	 eax, DWORD PTR _szDescribe$1[ebp+1]
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 _memset
  0004b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 261  : 			_sntprintf(szDescribe,CountArray(szDescribe),TEXT("协调服务器连接失败 [ %ld ]，%ld 秒后将重新连接"),

  0004e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00051	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00054	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  00058	52		 push	 edx
  00059	8b 45 0c	 mov	 eax, DWORD PTR _nErrorCode$[ebp]
  0005c	50		 push	 eax
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@NEANHCGA@?P?$KN?$LF?w?$LH?$PO?N?q?F?w?A?$KM?$LN?S?J?$KH?$LA?$NM?5?$FL?5?$CFld?5?$FN?$KD?$KM?$CFld@
  00062	68 80 00 00 00	 push	 128			; 00000080H
  00067	8d 8d 78 ff ff
	ff		 lea	 ecx, DWORD PTR _szDescribe$1[ebp]
  0006d	51		 push	 ecx
  0006e	e8 00 00 00 00	 call	 __snprintf
  00073	83 c4 14	 add	 esp, 20			; 00000014H

; 262  : 				nErrorCode,m_pInitParameter->m_wConnectTime);
; 263  : 
; 264  : 			//提示消息
; 265  : 			CTraceService::TraceString(szDescribe,TraceLevel_Warning);

  00076	6a 02		 push	 2
  00078	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _szDescribe$1[ebp]
  0007e	50		 push	 eax
  0007f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?TraceString@CTraceService@@SA_NPBDW4enTraceLevel@@@Z
  00085	83 c4 08	 add	 esp, 8

; 266  : 
; 267  : 			//设置时间
; 268  : 			ASSERT(m_pITimerEngine!=NULL);

  00088	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0008b	83 b8 d8 00 00
	00 00		 cmp	 DWORD PTR [eax+216], 0
  00092	75 19		 jne	 SHORT $LN5@OnEventTCP
  00094	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z@4JA
  0009a	83 c1 10	 add	 ecx, 16			; 00000010H
  0009d	51		 push	 ecx
  0009e	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000a3	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000a8	85 c0		 test	 eax, eax
  000aa	74 01		 je	 SHORT $LN5@OnEventTCP
  000ac	cc		 int	 3
$LN5@OnEventTCP:

; 269  : 			m_pITimerEngine->SetTimer(IDI_CONNECT_CORRESPOND,m_pInitParameter->m_wConnectTime*1000L,1,0);

  000ad	6a 00		 push	 0
  000af	6a 01		 push	 1
  000b1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b4	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000b7	0f b7 51 04	 movzx	 edx, WORD PTR [ecx+4]
  000bb	69 c2 e8 03 00
	00		 imul	 eax, edx, 1000
  000c1	50		 push	 eax
  000c2	6a 01		 push	 1
  000c4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000c7	8b 91 d8 00 00
	00		 mov	 edx, DWORD PTR [ecx+216]
  000cd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d0	8b 12		 mov	 edx, DWORD PTR [edx]
  000d2	8b 88 d8 00 00
	00		 mov	 ecx, DWORD PTR [eax+216]
  000d8	8b 42 18	 mov	 eax, DWORD PTR [edx+24]
  000db	ff d0		 call	 eax

; 270  : 
; 271  : 			return false;

  000dd	32 c0		 xor	 al, al
  000df	eb 7b		 jmp	 SHORT $LN1@OnEventTCP
$LN3@OnEventTCP:

; 272  : 		}
; 273  : 	
; 274  : #ifdef _DEBUG
; 275  : 			m_pITimerEngine->SetTimer(IDI_LOAD_SYSTEM_MESSAGE, 15 * 1000L, TIMES_INFINITY, NULL);

  000e1	6a 00		 push	 0
  000e3	6a ff		 push	 -1
  000e5	68 98 3a 00 00	 push	 15000			; 00003a98H
  000ea	6a 02		 push	 2
  000ec	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ef	8b 88 d8 00 00
	00		 mov	 ecx, DWORD PTR [eax+216]
  000f5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000f8	8b 01		 mov	 eax, DWORD PTR [ecx]
  000fa	8b 8a d8 00 00
	00		 mov	 ecx, DWORD PTR [edx+216]
  00100	8b 50 18	 mov	 edx, DWORD PTR [eax+24]
  00103	ff d2		 call	 edx

; 276  : 			m_pITimerEngine->SetTimer(IDI_SEND_SYSTEM_MESSAGE, 5 * 1000L, TIMES_INFINITY, NULL);

  00105	6a 00		 push	 0
  00107	6a ff		 push	 -1
  00109	68 88 13 00 00	 push	 5000			; 00001388H
  0010e	6a 03		 push	 3
  00110	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00113	8b 88 d8 00 00
	00		 mov	 ecx, DWORD PTR [eax+216]
  00119	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0011c	8b 01		 mov	 eax, DWORD PTR [ecx]
  0011e	8b 8a d8 00 00
	00		 mov	 ecx, DWORD PTR [edx+216]
  00124	8b 50 18	 mov	 edx, DWORD PTR [eax+24]
  00127	ff d2		 call	 edx

; 277  : #else
; 278  : 			m_pITimerEngine->SetTimer(IDI_LOAD_SYSTEM_MESSAGE, TIME_LOAD_SYSTEM_MESSAGE * 1000L, TIMES_INFINITY, NULL);
; 279  : 			m_pITimerEngine->SetTimer(IDI_SEND_SYSTEM_MESSAGE, TIME_SEND_SYSTEM_MESSAGE * 1000L, TIMES_INFINITY, NULL);
; 280  : #endif	
; 281  : 		//提示消息
; 282  : 		CTraceService::TraceString(TEXT("正在注册游戏聊天服务器..."),TraceLevel_Normal);

  00129	6a 01		 push	 1
  0012b	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@HFEPLLFN@?U?$PN?T?Z?W?$KC?$LC?a?S?N?O?$LH?A?D?L?l?$LH?$PO?N?q?F?w?4?4?4@
  00130	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?TraceString@CTraceService@@SA_NPBDW4enTraceLevel@@@Z
  00136	83 c4 08	 add	 esp, 8

; 283  : 
; 284  : 		//注册聊天
; 285  : 		m_pITCPSocketService->SendData(MDM_CS_REGISTER, SUB_CS_C_REGISTER_CHAT);

  00139	6a 67		 push	 103			; 00000067H
  0013b	6a 01		 push	 1
  0013d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00140	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  00146	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00149	8b 01		 mov	 eax, DWORD PTR [ecx]
  0014b	8b 8a e0 00 00
	00		 mov	 ecx, DWORD PTR [edx+224]
  00151	8b 50 28	 mov	 edx, DWORD PTR [eax+40]
  00154	ff d2		 call	 edx

; 286  : 
; 287  : 		return true;

  00156	b0 01		 mov	 al, 1
  00158	eb 02		 jmp	 SHORT $LN1@OnEventTCP
$LN2@OnEventTCP:

; 288  : 	}
; 289  : 	return false;

  0015a	32 c0		 xor	 al, al
$LN1@OnEventTCP:

; 290  : }

  0015c	5f		 pop	 edi
  0015d	5e		 pop	 esi
  0015e	5b		 pop	 ebx
  0015f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00162	33 cd		 xor	 ecx, ebp
  00164	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00169	8b e5		 mov	 esp, ebp
  0016b	5d		 pop	 ebp
  0016c	c2 08 00	 ret	 8
?OnEventTCPSocketLink@CAttemperEngineSink@@UAE_NGH@Z ENDP ; CAttemperEngineSink::OnEventTCPSocketLink
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z
_TEXT	SEGMENT
tv271 = -848						; size = 8
tv270 = -840						; size = 4
tv200 = -840						; size = 4
tv194 = -840						; size = 4
tv188 = -840						; size = 4
tv64 = -840						; size = 4
$T2 = -836						; size = 4
_wSendSize$3 = -704					; size = 2
_SendMessageA$4 = -700					; size = 146
_pTagSystemMessage$5 = -552				; size = 4
_nIndex$6 = -548					; size = 4
_dwCurrTime$7 = -544					; size = 4
_szString$8 = -540					; size = 512
_pCorrespondAddress$9 = -28				; size = 4
_this$ = -24						; size = 4
__$ArrayPad$ = -20					; size = 4
__$EHRec$ = -16						; size = 16
_dwTimerID$ = 8						; size = 4
_wBindParam$ = 12					; size = 4
?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z PROC	; CAttemperEngineSink::OnEventTimer, COMDAT
; _this$ = ecx

; 170  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	81 ec 40 03 00
	00		 sub	 esp, 832		; 00000340H
  00018	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001d	33 c5		 xor	 eax, ebp
  0001f	89 45 ec	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00022	53		 push	 ebx
  00023	56		 push	 esi
  00024	57		 push	 edi
  00025	50		 push	 eax
  00026	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00029	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0002f	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp
  00032	89 4d e8	 mov	 DWORD PTR _this$[ebp], ecx

; 171  : 	switch (dwTimerID)

  00035	8b 45 08	 mov	 eax, DWORD PTR _dwTimerID$[ebp]
  00038	89 85 b8 fc ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  0003e	83 bd b8 fc ff
	ff 01		 cmp	 DWORD PTR tv64[ebp], 1
  00045	74 1f		 je	 SHORT $LN7@OnEventTim
  00047	83 bd b8 fc ff
	ff 02		 cmp	 DWORD PTR tv64[ebp], 2
  0004e	0f 84 a8 00 00
	00		 je	 $LN8@OnEventTim
  00054	83 bd b8 fc ff
	ff 03		 cmp	 DWORD PTR tv64[ebp], 3
  0005b	0f 84 ce 00 00
	00		 je	 $LN9@OnEventTim
  00061	e9 64 03 00 00	 jmp	 $LN2@OnEventTim
$LN7@OnEventTim:

; 172  : 	{
; 173  : 		case IDI_CONNECT_CORRESPOND:
; 174  : 		{
; 175  : 			//发起连接
; 176  : 			tagAddressInfo * pCorrespondAddress=&m_pInitParameter->m_CorrespondAddress;

  00066	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  00069	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  0006c	83 c1 1e	 add	 ecx, 30			; 0000001eH
  0006f	89 4d e4	 mov	 DWORD PTR _pCorrespondAddress$9[ebp], ecx

; 177  : 			m_pITCPSocketService->Connect(pCorrespondAddress->szAddress,m_pInitParameter->m_wCorrespondPort);

  00072	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  00075	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00078	0f b7 51 1c	 movzx	 edx, WORD PTR [ecx+28]
  0007c	52		 push	 edx
  0007d	8b 45 e4	 mov	 eax, DWORD PTR _pCorrespondAddress$9[ebp]
  00080	50		 push	 eax
  00081	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00084	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  0008a	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  0008d	8b 12		 mov	 edx, DWORD PTR [edx]
  0008f	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  00095	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00098	ff d0		 call	 eax

; 178  : 
; 179  : 			//构造提示
; 180  : 			TCHAR szString[512]=TEXT("");

  0009a	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@@
  0009f	88 85 e4 fd ff
	ff		 mov	 BYTE PTR _szString$8[ebp], al
  000a5	68 ff 01 00 00	 push	 511			; 000001ffH
  000aa	6a 00		 push	 0
  000ac	8d 85 e5 fd ff
	ff		 lea	 eax, DWORD PTR _szString$8[ebp+1]
  000b2	50		 push	 eax
  000b3	e8 00 00 00 00	 call	 _memset
  000b8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 181  : 			_sntprintf(szString,CountArray(szString),TEXT("正在连接协调服务器 [ %s:%d ]"),pCorrespondAddress->szAddress,m_pInitParameter->m_wCorrespondPort);

  000bb	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  000be	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000c1	0f b7 51 1c	 movzx	 edx, WORD PTR [ecx+28]
  000c5	52		 push	 edx
  000c6	8b 45 e4	 mov	 eax, DWORD PTR _pCorrespondAddress$9[ebp]
  000c9	50		 push	 eax
  000ca	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@EEJNAPCD@?U?$PN?T?Z?A?$KM?$LN?S?P?$KN?$LF?w?$LH?$PO?N?q?F?w?5?$FL?5?$CFs?3?$CFd?5?$FN@
  000cf	68 00 02 00 00	 push	 512			; 00000200H
  000d4	8d 8d e4 fd ff
	ff		 lea	 ecx, DWORD PTR _szString$8[ebp]
  000da	51		 push	 ecx
  000db	e8 00 00 00 00	 call	 __snprintf
  000e0	83 c4 14	 add	 esp, 20			; 00000014H

; 182  : 
; 183  : 			//提示消息
; 184  : 			CTraceService::TraceString(szString,TraceLevel_Normal);

  000e3	6a 01		 push	 1
  000e5	8d 85 e4 fd ff
	ff		 lea	 eax, DWORD PTR _szString$8[ebp]
  000eb	50		 push	 eax
  000ec	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?TraceString@CTraceService@@SA_NPBDW4enTraceLevel@@@Z
  000f2	83 c4 08	 add	 esp, 8

; 185  : 
; 186  : 			return true;

  000f5	b0 01		 mov	 al, 1
  000f7	e9 d0 02 00 00	 jmp	 $LN1@OnEventTim
$LN8@OnEventTim:

; 187  : 		}
; 188  : 		case IDI_LOAD_SYSTEM_MESSAGE:
; 189  : 		{
; 190  : 			//清除消息数据
; 191  : 			RemoveSystemMessage();

  000fc	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  000ff	e8 00 00 00 00	 call	 ?RemoveSystemMessage@CAttemperEngineSink@@IAEXXZ ; CAttemperEngineSink::RemoveSystemMessage

; 192  : 
; 193  : 			//加载消息
; 194  : 			m_pIDataBaseEngine->PostDataBaseRequest(DBR_GR_LOAD_SYSTEM_MESSAGE, 0L, NULL, 0L);

  00104	6a 00		 push	 0
  00106	6a 00		 push	 0
  00108	6a 00		 push	 0
  0010a	68 36 01 00 00	 push	 310			; 00000136H
  0010f	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  00112	8b 88 e8 00 00
	00		 mov	 ecx, DWORD PTR [eax+232]
  00118	8b 55 e8	 mov	 edx, DWORD PTR _this$[ebp]
  0011b	8b 01		 mov	 eax, DWORD PTR [ecx]
  0011d	8b 8a e8 00 00
	00		 mov	 ecx, DWORD PTR [edx+232]
  00123	8b 50 20	 mov	 edx, DWORD PTR [eax+32]
  00126	ff d2		 call	 edx

; 195  : 
; 196  : 			return true;

  00128	b0 01		 mov	 al, 1
  0012a	e9 9d 02 00 00	 jmp	 $LN1@OnEventTim
$LN9@OnEventTim:

; 197  : 		}
; 198  : 		case IDI_SEND_SYSTEM_MESSAGE:
; 199  : 		{
; 200  : 			//数量判断
; 201  : 			if (m_SystemMessageActive.GetCount() == 0) return true;

  0012f	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00132	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  00138	e8 00 00 00 00	 call	 ?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount
  0013d	85 c0		 test	 eax, eax
  0013f	75 07		 jne	 SHORT $LN10@OnEventTim
  00141	b0 01		 mov	 al, 1
  00143	e9 84 02 00 00	 jmp	 $LN1@OnEventTim
$LN10@OnEventTim:

; 202  : 
; 203  : 			//时效判断
; 204  : 			DWORD dwCurrTime = (DWORD)time(NULL);

  00148	6a 00		 push	 0
  0014a	e8 00 00 00 00	 call	 _time
  0014f	83 c4 04	 add	 esp, 4
  00152	89 85 e0 fd ff
	ff		 mov	 DWORD PTR _dwCurrTime$7[ebp], eax

; 205  : 			for (INT_PTR nIndex = m_SystemMessageActive.GetCount() - 1; nIndex >= 0; nIndex--)

  00158	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0015b	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  00161	e8 00 00 00 00	 call	 ?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount
  00166	83 e8 01	 sub	 eax, 1
  00169	89 85 dc fd ff
	ff		 mov	 DWORD PTR _nIndex$6[ebp], eax
  0016f	eb 0f		 jmp	 SHORT $LN6@OnEventTim
$LN4@OnEventTim:
  00171	8b 85 dc fd ff
	ff		 mov	 eax, DWORD PTR _nIndex$6[ebp]
  00177	83 e8 01	 sub	 eax, 1
  0017a	89 85 dc fd ff
	ff		 mov	 DWORD PTR _nIndex$6[ebp], eax
$LN6@OnEventTim:
  00180	83 bd dc fd ff
	ff 00		 cmp	 DWORD PTR _nIndex$6[ebp], 0
  00187	0f 8c 39 02 00
	00		 jl	 $LN5@OnEventTim

; 206  : 			{
; 207  : 				tagSystemMessage *pTagSystemMessage = m_SystemMessageActive[nIndex];

  0018d	8b 85 dc fd ff
	ff		 mov	 eax, DWORD PTR _nIndex$6[ebp]
  00193	50		 push	 eax
  00194	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00197	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  0019d	e8 00 00 00 00	 call	 ??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::operator[]
  001a2	8b 08		 mov	 ecx, DWORD PTR [eax]
  001a4	89 8d d8 fd ff
	ff		 mov	 DWORD PTR _pTagSystemMessage$5[ebp], ecx

; 208  : 
; 209  : 				//时效判断
; 210  : 				if (pTagSystemMessage->SystemMessage.tConcludeTime < dwCurrTime)

  001aa	8b 85 e0 fd ff
	ff		 mov	 eax, DWORD PTR _dwCurrTime$7[ebp]
  001b0	33 c9		 xor	 ecx, ecx
  001b2	8b 95 d8 fd ff
	ff		 mov	 edx, DWORD PTR _pTagSystemMessage$5[ebp]
  001b8	89 95 b8 fc ff
	ff		 mov	 DWORD PTR tv270[ebp], edx
  001be	89 85 b0 fc ff
	ff		 mov	 DWORD PTR tv271[ebp], eax
  001c4	89 8d b4 fc ff
	ff		 mov	 DWORD PTR tv271[ebp+4], ecx
  001ca	8b 85 b8 fc ff
	ff		 mov	 eax, DWORD PTR tv270[ebp]
  001d0	8b 48 1a	 mov	 ecx, DWORD PTR [eax+26]
  001d3	3b 8d b4 fc ff
	ff		 cmp	 ecx, DWORD PTR tv271[ebp+4]
  001d9	0f 8f 99 00 00
	00		 jg	 $LN11@OnEventTim
  001df	7c 15		 jl	 SHORT $LN27@OnEventTim
  001e1	8b 95 b8 fc ff
	ff		 mov	 edx, DWORD PTR tv270[ebp]
  001e7	8b 42 16	 mov	 eax, DWORD PTR [edx+22]
  001ea	3b 85 b0 fc ff
	ff		 cmp	 eax, DWORD PTR tv271[ebp]
  001f0	0f 83 82 00 00
	00		 jae	 $LN11@OnEventTim
$LN27@OnEventTim:

; 211  : 				{
; 212  : 					m_SystemMessageActive.RemoveAt(nIndex);

  001f6	6a 01		 push	 1
  001f8	8b 85 dc fd ff
	ff		 mov	 eax, DWORD PTR _nIndex$6[ebp]
  001fe	50		 push	 eax
  001ff	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00202	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  00208	e8 00 00 00 00	 call	 ?RemoveAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAt

; 213  : 					SafeDelete(pTagSystemMessage);

  0020d	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0
  00214	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _pTagSystemMessage$5[ebp]
  0021a	89 85 bc fc ff
	ff		 mov	 DWORD PTR $T2[ebp], eax
  00220	68 9e 00 00 00	 push	 158			; 0000009eH
  00225	8b 8d bc fc ff
	ff		 mov	 ecx, DWORD PTR $T2[ebp]
  0022b	51		 push	 ecx
  0022c	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00231	83 c4 08	 add	 esp, 8
  00234	eb 23		 jmp	 SHORT $LN23@OnEventTim
__catch$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z$0:
  00236	33 c0		 xor	 eax, eax
  00238	75 19		 jne	 SHORT $LN16@OnEventTim
  0023a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z@4JA
  00240	83 c1 2b	 add	 ecx, 43			; 0000002bH
  00243	51		 push	 ecx
  00244	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00249	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0024e	85 c0		 test	 eax, eax
  00250	74 01		 je	 SHORT $LN16@OnEventTim
  00252	cc		 int	 3
$LN16@OnEventTim:
  00253	b8 00 00 00 00	 mov	 eax, $LN26@OnEventTim
  00258	c3		 ret	 0
$LN23@OnEventTim:
  00259	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  00260	eb 07		 jmp	 SHORT __tryend$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z$1
$LN26@OnEventTim:
  00262	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
__tryend$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z$1:
  00269	c7 85 d8 fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _pTagSystemMessage$5[ebp], 0

; 214  : 
; 215  : 					continue;

  00273	e9 f9 fe ff ff	 jmp	 $LN4@OnEventTim
$LN11@OnEventTim:

; 216  : 				}
; 217  : 
; 218  : 				//间隔判断
; 219  : 				if (pTagSystemMessage->dwLastTime + pTagSystemMessage->SystemMessage.dwTimeRate < dwCurrTime)

  00278	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _pTagSystemMessage$5[ebp]
  0027e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00280	8b 95 d8 fd ff
	ff		 mov	 edx, DWORD PTR _pTagSystemMessage$5[ebp]
  00286	03 4a 0a	 add	 ecx, DWORD PTR [edx+10]
  00289	3b 8d e0 fd ff
	ff		 cmp	 ecx, DWORD PTR _dwCurrTime$7[ebp]
  0028f	0f 83 2c 01 00
	00		 jae	 $LN13@OnEventTim

; 220  : 				{
; 221  : 					//更新数据
; 222  : 					pTagSystemMessage->dwLastTime = dwCurrTime;

  00295	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _pTagSystemMessage$5[ebp]
  0029b	8b 8d e0 fd ff
	ff		 mov	 ecx, DWORD PTR _dwCurrTime$7[ebp]
  002a1	89 08		 mov	 DWORD PTR [eax], ecx

; 223  : 
; 224  : 					//构造消息
; 225  : 					CMD_GR_SendMessage SendMessage = {};

  002a3	68 92 00 00 00	 push	 146			; 00000092H
  002a8	6a 00		 push	 0
  002aa	8d 85 44 fd ff
	ff		 lea	 eax, DWORD PTR _SendMessageA$4[ebp]
  002b0	50		 push	 eax
  002b1	e8 00 00 00 00	 call	 _memset
  002b6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 226  : 					SendMessage.cbAllRoom = (pTagSystemMessage->SystemMessage.dwMessageID == TEMP_MESSAGE_ID) ? TRUE : FALSE;

  002b9	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _pTagSystemMessage$5[ebp]
  002bf	83 78 04 ff	 cmp	 DWORD PTR [eax+4], -1
  002c3	75 0c		 jne	 SHORT $LN17@OnEventTim
  002c5	c7 85 b8 fc ff
	ff 01 00 00 00	 mov	 DWORD PTR tv188[ebp], 1
  002cf	eb 0a		 jmp	 SHORT $LN18@OnEventTim
$LN17@OnEventTim:
  002d1	c7 85 b8 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv188[ebp], 0
$LN18@OnEventTim:
  002db	8a 8d b8 fc ff
	ff		 mov	 cl, BYTE PTR tv188[ebp]
  002e1	88 8d 46 fd ff
	ff		 mov	 BYTE PTR _SendMessageA$4[ebp+2], cl

; 227  : 					SendMessage.cbGame = (pTagSystemMessage->SystemMessage.cbMessageType == 1) ? TRUE : FALSE;

  002e7	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _pTagSystemMessage$5[ebp]
  002ed	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  002f1	83 f9 01	 cmp	 ecx, 1
  002f4	75 0c		 jne	 SHORT $LN19@OnEventTim
  002f6	c7 85 b8 fc ff
	ff 01 00 00 00	 mov	 DWORD PTR tv194[ebp], 1
  00300	eb 0a		 jmp	 SHORT $LN20@OnEventTim
$LN19@OnEventTim:
  00302	c7 85 b8 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv194[ebp], 0
$LN20@OnEventTim:
  0030c	8a 95 b8 fc ff
	ff		 mov	 dl, BYTE PTR tv194[ebp]
  00312	88 95 44 fd ff
	ff		 mov	 BYTE PTR _SendMessageA$4[ebp], dl

; 228  : 					SendMessage.cbRoom = (pTagSystemMessage->SystemMessage.cbMessageType == 2) ? TRUE : FALSE;

  00318	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _pTagSystemMessage$5[ebp]
  0031e	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  00322	83 f9 02	 cmp	 ecx, 2
  00325	75 0c		 jne	 SHORT $LN21@OnEventTim
  00327	c7 85 b8 fc ff
	ff 01 00 00 00	 mov	 DWORD PTR tv200[ebp], 1
  00331	eb 0a		 jmp	 SHORT $LN22@OnEventTim
$LN21@OnEventTim:
  00333	c7 85 b8 fc ff
	ff 00 00 00 00	 mov	 DWORD PTR tv200[ebp], 0
$LN22@OnEventTim:
  0033d	8a 95 b8 fc ff
	ff		 mov	 dl, BYTE PTR tv200[ebp]
  00343	88 95 45 fd ff
	ff		 mov	 BYTE PTR _SendMessageA$4[ebp+1], dl

; 229  : 					if (pTagSystemMessage->SystemMessage.cbMessageType == 3)

  00349	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _pTagSystemMessage$5[ebp]
  0034f	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  00353	83 f9 03	 cmp	 ecx, 3
  00356	75 0e		 jne	 SHORT $LN14@OnEventTim

; 230  : 					{
; 231  : 						SendMessage.cbGame = TRUE;

  00358	c6 85 44 fd ff
	ff 01		 mov	 BYTE PTR _SendMessageA$4[ebp], 1

; 232  : 						SendMessage.cbRoom = TRUE;

  0035f	c6 85 45 fd ff
	ff 01		 mov	 BYTE PTR _SendMessageA$4[ebp+1], 1
$LN14@OnEventTim:

; 233  : 					}
; 234  : 					lstrcpyn(SendMessage.szSystemMessage, pTagSystemMessage->SystemMessage.szSystemMessage, CountArray(SendMessage.szSystemMessage));

  00366	68 80 00 00 00	 push	 128			; 00000080H
  0036b	8b 85 d8 fd ff
	ff		 mov	 eax, DWORD PTR _pTagSystemMessage$5[ebp]
  00371	83 c0 1e	 add	 eax, 30			; 0000001eH
  00374	50		 push	 eax
  00375	8d 8d 56 fd ff
	ff		 lea	 ecx, DWORD PTR _SendMessageA$4[ebp+18]
  0037b	51		 push	 ecx
  0037c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpynA@12

; 235  : 					SendMessage.wChatLength = lstrlen(SendMessage.szSystemMessage) + 1;

  00382	8d 85 56 fd ff
	ff		 lea	 eax, DWORD PTR _SendMessageA$4[ebp+18]
  00388	50		 push	 eax
  00389	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  0038f	83 c0 01	 add	 eax, 1
  00392	66 89 85 54 fd
	ff ff		 mov	 WORD PTR _SendMessageA$4[ebp+16], ax

; 236  : 
; 237  : 					//发送消息
; 238  : 					WORD wSendSize = sizeof(SendMessage) - sizeof(SendMessage.szSystemMessage) + CountStringBuffer(SendMessage.szSystemMessage);

  00399	8d 85 56 fd ff
	ff		 lea	 eax, DWORD PTR _SendMessageA$4[ebp+18]
  0039f	50		 push	 eax
  003a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrlenA@4
  003a6	83 c0 13	 add	 eax, 19			; 00000013H
  003a9	66 89 85 40 fd
	ff ff		 mov	 WORD PTR _wSendSize$3[ebp], ax

; 239  : 					//SendSystemMessage(&SendMessage, wSendSize);
; 240  : 					SendSystemMessage(SendMessage.szSystemMessage,0);

  003b0	6a 00		 push	 0
  003b2	8d 85 56 fd ff
	ff		 lea	 eax, DWORD PTR _SendMessageA$4[ebp+18]
  003b8	50		 push	 eax
  003b9	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  003bc	e8 00 00 00 00	 call	 ?SendSystemMessage@CAttemperEngineSink@@IAE_NPBDG@Z ; CAttemperEngineSink::SendSystemMessage
$LN13@OnEventTim:

; 241  : 				}
; 242  : 			}

  003c1	e9 ab fd ff ff	 jmp	 $LN4@OnEventTim
$LN5@OnEventTim:

; 243  : 			return true;

  003c6	b0 01		 mov	 al, 1
  003c8	eb 02		 jmp	 SHORT $LN1@OnEventTim
$LN2@OnEventTim:

; 244  : 		}
; 245  : 	}
; 246  : 	
; 247  : 	return false;

  003ca	32 c0		 xor	 al, al
$LN1@OnEventTim:

; 248  : }

  003cc	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  003cf	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  003d6	59		 pop	 ecx
  003d7	5f		 pop	 edi
  003d8	5e		 pop	 esi
  003d9	5b		 pop	 ebx
  003da	8b 4d ec	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003dd	33 cd		 xor	 ecx, ebp
  003df	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003e4	8b e5		 mov	 esp, ebp
  003e6	5d		 pop	 ebp
  003e7	c2 08 00	 ret	 8
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 8a ac fc ff
	ff		 mov	 ecx, DWORD PTR [edx-852]
  0000d	33 c8		 xor	 ecx, eax
  0000f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00014	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00017	33 c8		 xor	 ecx, eax
  00019	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0001e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z
  00023	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?OnEventTimer@CAttemperEngineSink@@UAE_NKI@Z ENDP	; CAttemperEngineSink::OnEventTimer
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventAttemperData@CAttemperEngineSink@@UAE_NGPAXG@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_wRequestID$ = 8					; size = 2
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnEventAttemperData@CAttemperEngineSink@@UAE_NGPAXG@Z PROC ; CAttemperEngineSink::OnEventAttemperData, COMDAT
; _this$ = ecx

; 164  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 165  : 	return false;

  0000c	32 c0		 xor	 al, al

; 166  : }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c2 0c 00	 ret	 12			; 0000000cH
?OnEventAttemperData@CAttemperEngineSink@@UAE_NGPAXG@Z ENDP ; CAttemperEngineSink::OnEventAttemperData
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnEventControl@CAttemperEngineSink@@UAE_NGPAXG@Z
_TEXT	SEGMENT
tv65 = -660						; size = 4
_ControlResult$1 = -525					; size = 1
_szString$2 = -524					; size = 512
_pCorrespondAddress$3 = -12				; size = 4
_this$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_wIdentifier$ = 8					; size = 2
_pData$ = 12						; size = 4
_wDataSize$ = 16					; size = 2
?OnEventControl@CAttemperEngineSink@@UAE_NGPAXG@Z PROC	; CAttemperEngineSink::OnEventControl, COMDAT
; _this$ = ecx

; 131  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 94 02 00
	00		 sub	 esp, 660		; 00000294H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 132  : 	switch (wIdentifier)

  00019	0f b7 45 08	 movzx	 eax, WORD PTR _wIdentifier$[ebp]
  0001d	89 85 6c fd ff
	ff		 mov	 DWORD PTR tv65[ebp], eax
  00023	83 bd 6c fd ff
	ff 64		 cmp	 DWORD PTR tv65[ebp], 100 ; 00000064H
  0002a	74 12		 je	 SHORT $LN4@OnEventCon
  0002c	83 bd 6c fd ff
	ff 65		 cmp	 DWORD PTR tv65[ebp], 101 ; 00000065H
  00033	0f 84 98 00 00
	00		 je	 $LN5@OnEventCon
  00039	e9 b1 00 00 00	 jmp	 $LN2@OnEventCon
$LN4@OnEventCon:

; 133  : 	{
; 134  : 	case CT_CONNECT_CORRESPOND:		//连接协调
; 135  : 		{
; 136  : 			//发起连接
; 137  : 			tagAddressInfo * pCorrespondAddress=&m_pInitParameter->m_CorrespondAddress;

  0003e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00041	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00044	83 c1 1e	 add	 ecx, 30			; 0000001eH
  00047	89 4d f4	 mov	 DWORD PTR _pCorrespondAddress$3[ebp], ecx

; 138  : 			m_pITCPSocketService->Connect(pCorrespondAddress->szAddress,m_pInitParameter->m_wCorrespondPort);

  0004a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0004d	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00050	0f b7 51 1c	 movzx	 edx, WORD PTR [ecx+28]
  00054	52		 push	 edx
  00055	8b 45 f4	 mov	 eax, DWORD PTR _pCorrespondAddress$3[ebp]
  00058	50		 push	 eax
  00059	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005c	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  00062	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00065	8b 12		 mov	 edx, DWORD PTR [edx]
  00067	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  0006d	8b 42 1c	 mov	 eax, DWORD PTR [edx+28]
  00070	ff d0		 call	 eax

; 139  : 
; 140  : 			//构造提示
; 141  : 			TCHAR szString[512]=TEXT("");

  00072	a0 00 00 00 00	 mov	 al, BYTE PTR ??_C@_00CNPNBAHC@@
  00077	88 85 f4 fd ff
	ff		 mov	 BYTE PTR _szString$2[ebp], al
  0007d	68 ff 01 00 00	 push	 511			; 000001ffH
  00082	6a 00		 push	 0
  00084	8d 85 f5 fd ff
	ff		 lea	 eax, DWORD PTR _szString$2[ebp+1]
  0008a	50		 push	 eax
  0008b	e8 00 00 00 00	 call	 _memset
  00090	83 c4 0c	 add	 esp, 12			; 0000000cH

; 142  : 			_sntprintf(szString,CountArray(szString),TEXT("正在连接协调服务器 [ %s:%d ]"),pCorrespondAddress->szAddress,m_pInitParameter->m_wCorrespondPort);

  00093	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00096	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00099	0f b7 51 1c	 movzx	 edx, WORD PTR [ecx+28]
  0009d	52		 push	 edx
  0009e	8b 45 f4	 mov	 eax, DWORD PTR _pCorrespondAddress$3[ebp]
  000a1	50		 push	 eax
  000a2	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@EEJNAPCD@?U?$PN?T?Z?A?$KM?$LN?S?P?$KN?$LF?w?$LH?$PO?N?q?F?w?5?$FL?5?$CFs?3?$CFd?5?$FN@
  000a7	68 00 02 00 00	 push	 512			; 00000200H
  000ac	8d 8d f4 fd ff
	ff		 lea	 ecx, DWORD PTR _szString$2[ebp]
  000b2	51		 push	 ecx
  000b3	e8 00 00 00 00	 call	 __snprintf
  000b8	83 c4 14	 add	 esp, 20			; 00000014H

; 143  : 
; 144  : 			//提示消息
; 145  : 			CTraceService::TraceString(szString,TraceLevel_Normal);

  000bb	6a 01		 push	 1
  000bd	8d 85 f4 fd ff
	ff		 lea	 eax, DWORD PTR _szString$2[ebp]
  000c3	50		 push	 eax
  000c4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_?TraceString@CTraceService@@SA_NPBDW4enTraceLevel@@@Z
  000ca	83 c4 08	 add	 esp, 8

; 146  : 
; 147  : 			return true;

  000cd	b0 01		 mov	 al, 1
  000cf	eb 20		 jmp	 SHORT $LN1@OnEventCon
$LN5@OnEventCon:

; 148  : 		}
; 149  : 	case CT_LOAD_SERVICE_CONFIG:	//加载配置
; 150  : 		{
; 151  : 			//事件通知
; 152  : 			CP_ControlResult ControlResult;
; 153  : 			ControlResult.cbSuccess=ER_SUCCESS;

  000d1	c6 85 f3 fd ff
	ff 01		 mov	 BYTE PTR _ControlResult$1[ebp], 1

; 154  : 			SendUIControlPacket(UI_SERVICE_CONFIG_RESULT,&ControlResult,sizeof(ControlResult));

  000d8	6a 01		 push	 1
  000da	8d 85 f3 fd ff
	ff		 lea	 eax, DWORD PTR _ControlResult$1[ebp]
  000e0	50		 push	 eax
  000e1	6a 02		 push	 2
  000e3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000e6	e8 00 00 00 00	 call	 ?SendUIControlPacket@CAttemperEngineSink@@QAE_NGPAXG@Z ; CAttemperEngineSink::SendUIControlPacket

; 155  : 
; 156  : 			return true;

  000eb	b0 01		 mov	 al, 1
  000ed	eb 02		 jmp	 SHORT $LN1@OnEventCon
$LN2@OnEventCon:

; 157  : 		}
; 158  : 	}	
; 159  : 	return false;

  000ef	32 c0		 xor	 al, al
$LN1@OnEventCon:

; 160  : }

  000f1	5f		 pop	 edi
  000f2	5e		 pop	 esi
  000f3	5b		 pop	 ebx
  000f4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000f7	33 cd		 xor	 ecx, ebp
  000f9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000fe	8b e5		 mov	 esp, ebp
  00100	5d		 pop	 ebp
  00101	c2 0c 00	 ret	 12			; 0000000cH
?OnEventControl@CAttemperEngineSink@@UAE_NGPAXG@Z ENDP	; CAttemperEngineSink::OnEventControl
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z
_TEXT	SEGMENT
$T2 = -92						; size = 4
$T3 = -88						; size = 4
_this$ = -20						; size = 4
__$EHRec$ = -16						; size = 16
_pIUnknownEx$ = 8					; size = 4
?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z PROC ; CAttemperEngineSink::OnAttemperEngineConclude, COMDAT
; _this$ = ecx

; 101  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00015	53		 push	 ebx
  00016	56		 push	 esi
  00017	57		 push	 edi
  00018	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001d	33 c5		 xor	 eax, ebp
  0001f	50		 push	 eax
  00020	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00023	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00029	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp
  0002c	89 4d ec	 mov	 DWORD PTR _this$[ebp], ecx

; 102  : 	//状态变量
; 103  : 	m_bCollectUser=false;

  0002f	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00032	c6 40 04 00	 mov	 BYTE PTR [eax+4], 0

; 104  : 	m_bNeekCorrespond=true;

  00036	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00039	c6 40 05 01	 mov	 BYTE PTR [eax+5], 1

; 105  : 
; 106  : 	//配置信息
; 107  : 	m_pInitParameter=NULL;

  0003d	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00040	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 108  : 
; 109  : 	//组件变量
; 110  : 	m_pITimerEngine=NULL;

  00047	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  0004a	c7 80 d8 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+216], 0

; 111  : 	m_pITCPSocketService=NULL;

  00054	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00057	c7 80 e0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+224], 0

; 112  : 	m_pITCPNetworkEngine=NULL;

  00061	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00064	c7 80 e4 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+228], 0

; 113  : 	m_pIDataBaseEngine=NULL;

  0006e	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00071	c7 80 e8 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+232], 0

; 114  : 	
; 115  : 	//移除消息
; 116  : 	RemoveSystemMessage();

  0007b	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0007e	e8 00 00 00 00	 call	 ?RemoveSystemMessage@CAttemperEngineSink@@IAEXXZ ; CAttemperEngineSink::RemoveSystemMessage

; 117  : 
; 118  : 	//绑定数据
; 119  : 	SafeDeleteArray(m_pNormalParameter);

  00083	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 0
  0008a	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  0008d	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00090	89 4d a8	 mov	 DWORD PTR $T3[ebp], ecx
  00093	8b 55 a8	 mov	 edx, DWORD PTR $T3[ebp]
  00096	52		 push	 edx
  00097	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  0009c	83 c4 04	 add	 esp, 4
  0009f	eb 23		 jmp	 SHORT $LN7@OnAttemper
__catch$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$0:
  000a1	33 c0		 xor	 eax, eax
  000a3	75 19		 jne	 SHORT $LN5@OnAttemper
  000a5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA
  000ab	83 c1 12	 add	 ecx, 18			; 00000012H
  000ae	51		 push	 ecx
  000af	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000b4	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000b9	85 c0		 test	 eax, eax
  000bb	74 01		 je	 SHORT $LN5@OnAttemper
  000bd	cc		 int	 3
$LN5@OnAttemper:
  000be	b8 00 00 00 00	 mov	 eax, $LN12@OnAttemper
  000c3	c3		 ret	 0
$LN7@OnAttemper:
  000c4	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  000cb	eb 07		 jmp	 SHORT __tryend$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$1
$LN12@OnAttemper:
  000cd	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
__tryend$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$1:
  000d4	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  000d7	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0

; 120  : 	SafeDeleteArray(m_pAndroidParameter);

  000de	c7 45 fc 02 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 2
  000e5	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  000e8	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  000eb	89 4d a4	 mov	 DWORD PTR $T2[ebp], ecx
  000ee	8b 55 a4	 mov	 edx, DWORD PTR $T2[ebp]
  000f1	52		 push	 edx
  000f2	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  000f7	83 c4 04	 add	 esp, 4
  000fa	eb 23		 jmp	 SHORT $LN9@OnAttemper
__catch$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$2:
  000fc	33 c0		 xor	 eax, eax
  000fe	75 19		 jne	 SHORT $LN6@OnAttemper
  00100	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA
  00106	83 c1 13	 add	 ecx, 19			; 00000013H
  00109	51		 push	 ecx
  0010a	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0010f	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00114	85 c0		 test	 eax, eax
  00116	74 01		 je	 SHORT $LN6@OnAttemper
  00118	cc		 int	 3
$LN6@OnAttemper:
  00119	b8 00 00 00 00	 mov	 eax, $LN14@OnAttemper
  0011e	c3		 ret	 0
$LN9@OnAttemper:
  0011f	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  00126	eb 07		 jmp	 SHORT __tryend$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$3
$LN14@OnAttemper:
  00128	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
__tryend$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z$3:
  0012f	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00132	c7 40 14 00 00
	00 00		 mov	 DWORD PTR [eax+20], 0

; 121  : 
; 122  : 	//删除用户
; 123  : 	m_FriendGroupManager.DeleteFriendGroup();

  00139	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0013c	83 c1 68	 add	 ecx, 104		; 00000068H
  0013f	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00142	8b 50 68	 mov	 edx, DWORD PTR [eax+104]
  00145	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00148	ff d0		 call	 eax

; 124  : 	m_ServerUserManager.DeleteUserItem();

  0014a	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0014d	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00150	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00153	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  00156	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  00159	ff d0		 call	 eax

; 125  : 
; 126  : 	return true;

  0015b	b0 01		 mov	 al, 1

; 127  : }

  0015d	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  00160	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00167	59		 pop	 ecx
  00168	5f		 pop	 edi
  00169	5e		 pop	 esi
  0016a	5b		 pop	 ebx
  0016b	8b e5		 mov	 esp, ebp
  0016d	5d		 pop	 ebp
  0016e	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 4a a0	 mov	 ecx, DWORD PTR [edx-96]
  0000a	33 c8		 xor	 ecx, eax
  0000c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00011	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z
  00016	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?OnAttemperEngineConclude@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z ENDP ; CAttemperEngineSink::OnAttemperEngineConclude
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z
_TEXT	SEGMENT
$T1 = -76						; size = 4
$T2 = -72						; size = 4
_this$ = -4						; size = 4
_pIUnknownEx$ = 8					; size = 4
?OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z PROC ; CAttemperEngineSink::OnAttemperEngineStart, COMDAT
; _this$ = ecx

; 87   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 88   : 	//绑定信息
; 89   : 	m_pAndroidParameter=new tagBindParameter[MAX_ANDROID];

  0000c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA
  00011	83 c0 02	 add	 eax, 2
  00014	50		 push	 eax
  00015	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0001a	68 00 00 01 00	 push	 65536			; 00010000H
  0001f	e8 00 00 00 00	 call	 ??_U@YAPAXIPBDH@Z	; operator new[]
  00024	83 c4 0c	 add	 esp, 12			; 0000000cH
  00027	89 45 b8	 mov	 DWORD PTR $T2[ebp], eax
  0002a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0002d	8b 55 b8	 mov	 edx, DWORD PTR $T2[ebp]
  00030	89 51 14	 mov	 DWORD PTR [ecx+20], edx

; 90   : 	ZeroMemory(m_pAndroidParameter,sizeof(tagBindParameter)*MAX_ANDROID);

  00033	68 00 00 01 00	 push	 65536			; 00010000H
  00038	6a 00		 push	 0
  0003a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003d	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  00040	51		 push	 ecx
  00041	e8 00 00 00 00	 call	 _memset
  00046	83 c4 0c	 add	 esp, 12			; 0000000cH

; 91   : 
; 92   : 	//绑定信息
; 93   : 	m_pNormalParameter=new tagBindParameter[m_pInitParameter->m_wMaxPlayer];

  00049	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z@4JA
  0004e	83 c0 06	 add	 eax, 6
  00051	50		 push	 eax
  00052	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00057	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0005a	8b 51 18	 mov	 edx, DWORD PTR [ecx+24]
  0005d	0f b7 42 14	 movzx	 eax, WORD PTR [edx+20]
  00061	33 c9		 xor	 ecx, ecx
  00063	ba 20 00 00 00	 mov	 edx, 32			; 00000020H
  00068	f7 e2		 mul	 edx
  0006a	0f 90 c1	 seto	 cl
  0006d	f7 d9		 neg	 ecx
  0006f	0b c8		 or	 ecx, eax
  00071	51		 push	 ecx
  00072	e8 00 00 00 00	 call	 ??_U@YAPAXIPBDH@Z	; operator new[]
  00077	83 c4 0c	 add	 esp, 12			; 0000000cH
  0007a	89 45 b4	 mov	 DWORD PTR $T1[ebp], eax
  0007d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00080	8b 4d b4	 mov	 ecx, DWORD PTR $T1[ebp]
  00083	89 48 10	 mov	 DWORD PTR [eax+16], ecx

; 94   : 	ZeroMemory(m_pNormalParameter,sizeof(tagBindParameter)*m_pInitParameter->m_wMaxPlayer);

  00086	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00089	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  0008c	0f b7 51 14	 movzx	 edx, WORD PTR [ecx+20]
  00090	c1 e2 05	 shl	 edx, 5
  00093	52		 push	 edx
  00094	6a 00		 push	 0
  00096	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00099	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0009c	51		 push	 ecx
  0009d	e8 00 00 00 00	 call	 _memset
  000a2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 95   : 
; 96   : 	return true;

  000a5	b0 01		 mov	 al, 1

; 97   : }

  000a7	5f		 pop	 edi
  000a8	5e		 pop	 esi
  000a9	5b		 pop	 ebx
  000aa	8b e5		 mov	 esp, ebp
  000ac	5d		 pop	 ebp
  000ad	c2 04 00	 ret	 4
?OnAttemperEngineStart@CAttemperEngineSink@@UAE_NPAUIUnknownEx@@@Z ENDP ; CAttemperEngineSink::OnAttemperEngineStart
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?QueryInterface@CAttemperEngineSink@@UAEPAXABU_GUID@@K@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_Guid$ = 8						; size = 4
_dwQueryVer$ = 12					; size = 4
?QueryInterface@CAttemperEngineSink@@UAEPAXABU_GUID@@K@Z PROC ; CAttemperEngineSink::QueryInterface, COMDAT
; _this$ = ecx

; 79   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 80   : 	QUERYINTERFACE(IAttemperEngineSink,Guid,dwQueryVer);

  0000c	68 00 00 00 00	 push	 OFFSET ?IID_IAttemperEngineSink@@3U_GUID@@B
  00011	8b 45 08	 mov	 eax, DWORD PTR _Guid$[ebp]
  00014	50		 push	 eax
  00015	e8 00 00 00 00	 call	 _==
  0001a	83 c4 08	 add	 esp, 8
  0001d	0f b6 c8	 movzx	 ecx, al
  00020	85 c9		 test	 ecx, ecx
  00022	74 1d		 je	 SHORT $LN2@QueryInter
  00024	68 00 01 01 06	 push	 100729088		; 06010100H
  00029	8b 45 0c	 mov	 eax, DWORD PTR _dwQueryVer$[ebp]
  0002c	50		 push	 eax
  0002d	e8 00 00 00 00	 call	 ?InterfaceVersionCompare@@YA_NKK@Z ; InterfaceVersionCompare
  00032	83 c4 08	 add	 esp, 8
  00035	0f b6 c8	 movzx	 ecx, al
  00038	85 c9		 test	 ecx, ecx
  0003a	74 05		 je	 SHORT $LN2@QueryInter
  0003c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003f	eb 37		 jmp	 SHORT $LN1@QueryInter
$LN2@QueryInter:

; 81   : 	QUERYINTERFACE_IUNKNOWNEX(IAttemperEngineSink,Guid,dwQueryVer);

  00041	68 00 00 00 00	 push	 OFFSET ?IID_IUnknownEx@@3U_GUID@@B
  00046	8b 45 08	 mov	 eax, DWORD PTR _Guid$[ebp]
  00049	50		 push	 eax
  0004a	e8 00 00 00 00	 call	 _==
  0004f	83 c4 08	 add	 esp, 8
  00052	0f b6 c8	 movzx	 ecx, al
  00055	85 c9		 test	 ecx, ecx
  00057	74 1d		 je	 SHORT $LN3@QueryInter
  00059	68 00 01 01 06	 push	 100729088		; 06010100H
  0005e	8b 45 0c	 mov	 eax, DWORD PTR _dwQueryVer$[ebp]
  00061	50		 push	 eax
  00062	e8 00 00 00 00	 call	 ?InterfaceVersionCompare@@YA_NKK@Z ; InterfaceVersionCompare
  00067	83 c4 08	 add	 esp, 8
  0006a	0f b6 c8	 movzx	 ecx, al
  0006d	85 c9		 test	 ecx, ecx
  0006f	74 05		 je	 SHORT $LN3@QueryInter
  00071	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00074	eb 02		 jmp	 SHORT $LN1@QueryInter
$LN3@QueryInter:

; 82   : 	return NULL;

  00076	33 c0		 xor	 eax, eax
$LN1@QueryInter:

; 83   : }

  00078	5f		 pop	 edi
  00079	5e		 pop	 esi
  0007a	5b		 pop	 ebx
  0007b	8b e5		 mov	 esp, ebp
  0007d	5d		 pop	 ebp
  0007e	c2 08 00	 ret	 8
?QueryInterface@CAttemperEngineSink@@UAEPAXABU_GUID@@K@Z ENDP ; CAttemperEngineSink::QueryInterface
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.h
;	COMDAT ?Release@CAttemperEngineSink@@UAEXXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?Release@CAttemperEngineSink@@UAEXXZ PROC		; CAttemperEngineSink::Release, COMDAT
; _this$ = ecx

; 82   : 	virtual VOID Release() { return; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	5f		 pop	 edi
  0000d	5e		 pop	 esi
  0000e	5b		 pop	 ebx
  0000f	8b e5		 mov	 esp, ebp
  00011	5d		 pop	 ebp
  00012	c3		 ret	 0
?Release@CAttemperEngineSink@@UAEXXZ ENDP		; CAttemperEngineSink::Release
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ??1CAttemperEngineSink@@UAE@XZ
_TEXT	SEGMENT
tv182 = -104						; size = 4
$T2 = -100						; size = 4
$T3 = -96						; size = 4
$T4 = -92						; size = 4
_i$5 = -24						; size = 4
_this$ = -20						; size = 4
__$EHRec$ = -16						; size = 16
??1CAttemperEngineSink@@UAE@XZ PROC			; CAttemperEngineSink::~CAttemperEngineSink, COMDAT
; _this$ = ecx

; 58   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??1CAttemperEngineSink@@UAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	83 ec 58	 sub	 esp, 88			; 00000058H
  00015	53		 push	 ebx
  00016	56		 push	 esi
  00017	57		 push	 edi
  00018	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001d	33 c5		 xor	 eax, ebp
  0001f	50		 push	 eax
  00020	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp+4]
  00023	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00029	89 65 f0	 mov	 DWORD PTR __$EHRec$[ebp], esp
  0002c	89 4d ec	 mov	 DWORD PTR _this$[ebp], ecx
  0002f	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00032	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CAttemperEngineSink@@6B@
  00038	c7 45 fc 03 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 3

; 59   : 	//删除数据
; 60   : 	SafeDeleteArray(m_pNormalParameter);

  0003f	c6 45 fc 04	 mov	 BYTE PTR __$EHRec$[ebp+12], 4
  00043	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00046	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00049	89 4d a4	 mov	 DWORD PTR $T4[ebp], ecx
  0004c	8b 55 a4	 mov	 edx, DWORD PTR $T4[ebp]
  0004f	52		 push	 edx
  00050	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  00055	83 c4 04	 add	 esp, 4
  00058	eb 23		 jmp	 SHORT $LN12@CAttemperE
__catch$??1CAttemperEngineSink@@UAE@XZ$0:
  0005a	33 c0		 xor	 eax, eax
  0005c	75 19		 jne	 SHORT $LN9@CAttemperE
  0005e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0???1CAttemperEngineSink@@UAE@XZ@4JA
  00064	83 c1 02	 add	 ecx, 2
  00067	51		 push	 ecx
  00068	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  0006d	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00072	85 c0		 test	 eax, eax
  00074	74 01		 je	 SHORT $LN9@CAttemperE
  00076	cc		 int	 3
$LN9@CAttemperE:
  00077	b8 00 00 00 00	 mov	 eax, $LN23@CAttemperE
  0007c	c3		 ret	 0
$LN12@CAttemperE:
  0007d	c7 45 fc 03 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 3
  00084	eb 07		 jmp	 SHORT __tryend$??1CAttemperEngineSink@@UAE@XZ$1
$LN23@CAttemperE:
  00086	c7 45 fc 03 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 3
__tryend$??1CAttemperEngineSink@@UAE@XZ$1:
  0008d	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  00090	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0

; 61   : 	SafeDeleteArray(m_pAndroidParameter);

  00097	c6 45 fc 06	 mov	 BYTE PTR __$EHRec$[ebp+12], 6
  0009b	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  0009e	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  000a1	89 4d a0	 mov	 DWORD PTR $T3[ebp], ecx
  000a4	8b 55 a0	 mov	 edx, DWORD PTR $T3[ebp]
  000a7	52		 push	 edx
  000a8	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  000ad	83 c4 04	 add	 esp, 4
  000b0	eb 23		 jmp	 SHORT $LN14@CAttemperE
__catch$??1CAttemperEngineSink@@UAE@XZ$2:
  000b2	33 c0		 xor	 eax, eax
  000b4	75 19		 jne	 SHORT $LN10@CAttemperE
  000b6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0???1CAttemperEngineSink@@UAE@XZ@4JA
  000bc	83 c1 03	 add	 ecx, 3
  000bf	51		 push	 ecx
  000c0	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  000c5	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000ca	85 c0		 test	 eax, eax
  000cc	74 01		 je	 SHORT $LN10@CAttemperE
  000ce	cc		 int	 3
$LN10@CAttemperE:
  000cf	b8 00 00 00 00	 mov	 eax, $LN25@CAttemperE
  000d4	c3		 ret	 0
$LN14@CAttemperE:
  000d5	c7 45 fc 03 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 3
  000dc	eb 07		 jmp	 SHORT __tryend$??1CAttemperEngineSink@@UAE@XZ$3
$LN25@CAttemperE:
  000de	c7 45 fc 03 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 3
__tryend$??1CAttemperEngineSink@@UAE@XZ$3:
  000e5	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  000e8	c7 40 14 00 00
	00 00		 mov	 DWORD PTR [eax+20], 0

; 62   : 
; 63   : 	//删除消息
; 64   : 	m_SystemMessageBuffer.Append(m_SystemMessageActive);

  000ef	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  000f2	05 b0 00 00 00	 add	 eax, 176		; 000000b0H
  000f7	50		 push	 eax
  000f8	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  000fb	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  00101	e8 00 00 00 00	 call	 ?Append@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABV1@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Append

; 65   : 	for (INT_PTR i = 0; i<m_SystemMessageBuffer.GetCount(); i++)

  00106	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _i$5[ebp], 0
  0010d	eb 09		 jmp	 SHORT $LN4@CAttemperE
$LN2@CAttemperE:
  0010f	8b 45 e8	 mov	 eax, DWORD PTR _i$5[ebp]
  00112	83 c0 01	 add	 eax, 1
  00115	89 45 e8	 mov	 DWORD PTR _i$5[ebp], eax
$LN4@CAttemperE:
  00118	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0011b	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  00121	e8 00 00 00 00	 call	 ?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount
  00126	39 45 e8	 cmp	 DWORD PTR _i$5[ebp], eax
  00129	0f 8d 84 00 00
	00		 jge	 $LN3@CAttemperE

; 66   : 	{
; 67   : 		SafeDelete(m_SystemMessageBuffer[i]);

  0012f	c6 45 fc 08	 mov	 BYTE PTR __$EHRec$[ebp+12], 8
  00133	8b 45 e8	 mov	 eax, DWORD PTR _i$5[ebp]
  00136	50		 push	 eax
  00137	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0013a	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  00140	e8 00 00 00 00	 call	 ??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::operator[]
  00145	89 45 98	 mov	 DWORD PTR tv182[ebp], eax
  00148	8b 4d 98	 mov	 ecx, DWORD PTR tv182[ebp]
  0014b	8b 11		 mov	 edx, DWORD PTR [ecx]
  0014d	89 55 9c	 mov	 DWORD PTR $T2[ebp], edx
  00150	68 9e 00 00 00	 push	 158			; 0000009eH
  00155	8b 45 9c	 mov	 eax, DWORD PTR $T2[ebp]
  00158	50		 push	 eax
  00159	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  0015e	83 c4 08	 add	 esp, 8
  00161	eb 23		 jmp	 SHORT $LN16@CAttemperE
__catch$??1CAttemperEngineSink@@UAE@XZ$4:
  00163	33 c0		 xor	 eax, eax
  00165	75 19		 jne	 SHORT $LN11@CAttemperE
  00167	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0???1CAttemperEngineSink@@UAE@XZ@4JA
  0016d	83 c1 09	 add	 ecx, 9
  00170	51		 push	 ecx
  00171	68 00 00 00 00	 push	 OFFSET ?THIS_FILE@@3PADA
  00176	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0017b	85 c0		 test	 eax, eax
  0017d	74 01		 je	 SHORT $LN11@CAttemperE
  0017f	cc		 int	 3
$LN11@CAttemperE:
  00180	b8 00 00 00 00	 mov	 eax, $LN27@CAttemperE
  00185	c3		 ret	 0
$LN16@CAttemperE:
  00186	c7 45 fc 03 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 3
  0018d	eb 07		 jmp	 SHORT __tryend$??1CAttemperEngineSink@@UAE@XZ$5
$LN27@CAttemperE:
  0018f	c7 45 fc 03 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+12], 3
__tryend$??1CAttemperEngineSink@@UAE@XZ$5:
  00196	8b 45 e8	 mov	 eax, DWORD PTR _i$5[ebp]
  00199	50		 push	 eax
  0019a	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0019d	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  001a3	e8 00 00 00 00	 call	 ??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::operator[]
  001a8	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 68   : 	}

  001ae	e9 5c ff ff ff	 jmp	 $LN2@CAttemperE
$LN3@CAttemperE:

; 69   : 
; 70   : 	//清空数组
; 71   : 	m_SystemMessageActive.RemoveAll();

  001b3	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  001b6	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  001bc	e8 00 00 00 00	 call	 ?RemoveAll@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAll

; 72   : 	m_SystemMessageBuffer.RemoveAll();

  001c1	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  001c4	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  001ca	e8 00 00 00 00	 call	 ?RemoveAll@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXXZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAll

; 73   : 
; 74   : 	return;
; 75   : }

  001cf	c6 45 fc 02	 mov	 BYTE PTR __$EHRec$[ebp+12], 2
  001d3	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  001d6	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  001dc	e8 00 00 00 00	 call	 ??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>
  001e1	c6 45 fc 01	 mov	 BYTE PTR __$EHRec$[ebp+12], 1
  001e5	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  001e8	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  001ee	e8 00 00 00 00	 call	 ??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>
  001f3	c6 45 fc 00	 mov	 BYTE PTR __$EHRec$[ebp+12], 0
  001f7	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  001fa	83 c1 68	 add	 ecx, 104		; 00000068H
  001fd	e8 00 00 00 00	 call	 ??1CFriendGroupManager@@UAE@XZ ; CFriendGroupManager::~CFriendGroupManager
  00202	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+12], -1
  00209	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0020c	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0020f	e8 00 00 00 00	 call	 ??1CServerUserManager@@UAE@XZ ; CServerUserManager::~CServerUserManager
  00214	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp+4]
  00217	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0021e	59		 pop	 ecx
  0021f	5f		 pop	 edi
  00220	5e		 pop	 esi
  00221	5b		 pop	 ebx
  00222	8b e5		 mov	 esp, ebp
  00224	5d		 pop	 ebp
  00225	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$??1CAttemperEngineSink@@UAE@XZ$6:
  00000	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00003	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00006	e9 00 00 00 00	 jmp	 ??1CServerUserManager@@UAE@XZ ; CServerUserManager::~CServerUserManager
__unwindfunclet$??1CAttemperEngineSink@@UAE@XZ$7:
  0000b	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0000e	83 c1 68	 add	 ecx, 104		; 00000068H
  00011	e9 00 00 00 00	 jmp	 ??1CFriendGroupManager@@UAE@XZ ; CFriendGroupManager::~CFriendGroupManager
__unwindfunclet$??1CAttemperEngineSink@@UAE@XZ$8:
  00016	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00019	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  0001f	e9 00 00 00 00	 jmp	 ??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>
__unwindfunclet$??1CAttemperEngineSink@@UAE@XZ$9:
  00024	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00027	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  0002d	e9 00 00 00 00	 jmp	 ??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>
__ehhandler$??1CAttemperEngineSink@@UAE@XZ:
  00032	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00036	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00039	8b 4a 94	 mov	 ecx, DWORD PTR [edx-108]
  0003c	33 c8		 xor	 ecx, eax
  0003e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00043	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??1CAttemperEngineSink@@UAE@XZ
  00048	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??1CAttemperEngineSink@@UAE@XZ ENDP			; CAttemperEngineSink::~CAttemperEngineSink
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ??0CAttemperEngineSink@@QAE@XZ
_TEXT	SEGMENT
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
??0CAttemperEngineSink@@QAE@XZ PROC			; CAttemperEngineSink::CAttemperEngineSink, COMDAT
; _this$ = ecx

; 30   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??0CAttemperEngineSink@@QAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	83 ec 44	 sub	 esp, 68			; 00000044H
  00014	53		 push	 ebx
  00015	56		 push	 esi
  00016	57		 push	 edi
  00017	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0001c	33 c5		 xor	 eax, ebp
  0001e	50		 push	 eax
  0001f	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00022	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00028	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx
  0002b	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  0002e	e8 00 00 00 00	 call	 ??0IAttemperEngineSink@@QAE@XZ
  00033	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00036	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CAttemperEngineSink@@6B@
  0003c	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  0003f	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00042	e8 00 00 00 00	 call	 ??0CServerUserManager@@QAE@XZ ; CServerUserManager::CServerUserManager
  00047	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  0004e	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00051	83 c1 68	 add	 ecx, 104		; 00000068H
  00054	e8 00 00 00 00	 call	 ??0CFriendGroupManager@@QAE@XZ ; CFriendGroupManager::CFriendGroupManager
  00059	c6 45 fc 01	 mov	 BYTE PTR __$EHRec$[ebp+8], 1
  0005d	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00060	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  00066	e8 00 00 00 00	 call	 ??0?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::CWHArray<tagSystemMessage *,tagSystemMessage * const &>
  0006b	c6 45 fc 02	 mov	 BYTE PTR __$EHRec$[ebp+8], 2
  0006f	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00072	81 c1 c4 00 00
	00		 add	 ecx, 196		; 000000c4H
  00078	e8 00 00 00 00	 call	 ??0?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::CWHArray<tagSystemMessage *,tagSystemMessage * const &>

; 31   : 	//状态变量
; 32   : 	m_bCollectUser=false;

  0007d	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00080	c6 40 04 00	 mov	 BYTE PTR [eax+4], 0

; 33   : 	m_bNeekCorrespond=true;

  00084	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00087	c6 40 05 01	 mov	 BYTE PTR [eax+5], 1

; 34   : 
; 35   : 	//控制变量
; 36   : 	m_dwIntervalTime=0;

  0008b	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  0008e	c7 40 08 00 00
	00 00		 mov	 DWORD PTR [eax+8], 0

; 37   : 	m_dwLastDisposeTime=0;

  00095	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00098	c7 40 0c 00 00
	00 00		 mov	 DWORD PTR [eax+12], 0

; 38   : 
; 39   : 	//绑定数据
; 40   : 	m_pNormalParameter=NULL;

  0009f	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  000a2	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0

; 41   : 	m_pAndroidParameter=NULL;

  000a9	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  000ac	c7 40 14 00 00
	00 00		 mov	 DWORD PTR [eax+20], 0

; 42   : 
; 43   : 	//状态变量
; 44   : 	m_pInitParameter=NULL;

  000b3	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  000b6	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 45   : 
; 46   : 	//组件变量
; 47   : 	m_pITimerEngine=NULL;

  000bd	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  000c0	c7 80 d8 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+216], 0

; 48   : 	m_pIAttemperEngine=NULL;

  000ca	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  000cd	c7 80 dc 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+220], 0

; 49   : 	m_pITCPSocketService=NULL;

  000d7	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  000da	c7 80 e0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+224], 0

; 50   : 	m_pITCPNetworkEngine=NULL;

  000e4	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  000e7	c7 80 e4 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+228], 0

; 51   : 	m_pIDataBaseEngine=NULL;

  000f1	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  000f4	c7 80 e8 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+232], 0

; 52   : 	
; 53   : 	return;
; 54   : }

  000fe	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  00105	8b 45 f0	 mov	 eax, DWORD PTR _this$[ebp]
  00108	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  0010b	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00112	59		 pop	 ecx
  00113	5f		 pop	 edi
  00114	5e		 pop	 esi
  00115	5b		 pop	 ebx
  00116	8b e5		 mov	 esp, ebp
  00118	5d		 pop	 ebp
  00119	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$??0CAttemperEngineSink@@QAE@XZ$0:
  00000	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00003	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00006	e9 00 00 00 00	 jmp	 ??1CServerUserManager@@UAE@XZ ; CServerUserManager::~CServerUserManager
__unwindfunclet$??0CAttemperEngineSink@@QAE@XZ$1:
  0000b	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  0000e	83 c1 68	 add	 ecx, 104		; 00000068H
  00011	e9 00 00 00 00	 jmp	 ??1CFriendGroupManager@@UAE@XZ ; CFriendGroupManager::~CFriendGroupManager
__unwindfunclet$??0CAttemperEngineSink@@QAE@XZ$2:
  00016	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00019	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  0001f	e9 00 00 00 00	 jmp	 ??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>
__ehhandler$??0CAttemperEngineSink@@QAE@XZ:
  00024	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00028	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  0002b	8b 4a ac	 mov	 ecx, DWORD PTR [edx-84]
  0002e	33 c8		 xor	 ecx, eax
  00030	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00035	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??0CAttemperEngineSink@@QAE@XZ
  0003a	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??0CAttemperEngineSink@@QAE@XZ ENDP			; CAttemperEngineSink::CAttemperEngineSink
; Function compile flags: /Odtp /ZI
;	COMDAT ??_G?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAEPAXI@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
___flags$ = 8						; size = 4
??_G?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAEPAXI@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>
  00014	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00017	83 e0 01	 and	 eax, 1
  0001a	74 0e		 je	 SHORT $LN2@scalar
  0001c	6a 14		 push	 20			; 00000014H
  0001e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00021	50		 push	 eax
  00022	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00027	83 c4 08	 add	 esp, 8
$LN2@scalar:
  0002a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002d	5f		 pop	 edi
  0002e	5e		 pop	 esi
  0002f	5b		 pop	 ebx
  00030	8b e5		 mov	 esp, ebp
  00032	5d		 pop	 ebp
  00033	c2 04 00	 ret	 4
??_G?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAEPAXI@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?AllocMemory@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z
_TEXT	SEGMENT
tv78 = -92						; size = 4
tv79 = -88						; size = 4
$T1 = -84						; size = 4
$T2 = -80						; size = 4
_pNewData$3 = -12					; size = 4
_nGrowCount$4 = -8					; size = 4
_this$ = -4						; size = 4
_nNewCount$ = 8						; size = 4
?AllocMemory@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::AllocMemory, COMDAT
; _this$ = ecx

; 413  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 5c	 sub	 esp, 92			; 0000005cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 414  : 	//效验参数
; 415  : 	ASSERT(nNewCount>=0);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _nNewCount$[ebp], 0
  00010	7d 14		 jge	 SHORT $LN5@AllocMemor
  00012	68 9f 01 00 00	 push	 415			; 0000019fH
  00017	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  0001c	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00021	85 c0		 test	 eax, eax
  00023	74 01		 je	 SHORT $LN5@AllocMemor
  00025	cc		 int	 3
$LN5@AllocMemor:

; 416  : 
; 417  : 	if (nNewCount>m_nMaxCount)

  00026	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00029	8b 4d 08	 mov	 ecx, DWORD PTR _nNewCount$[ebp]
  0002c	3b 48 08	 cmp	 ecx, DWORD PTR [eax+8]
  0002f	0f 8e dd 00 00
	00		 jle	 $LN1@AllocMemor

; 418  : 	{
; 419  : 		//计算数目
; 420  : 		INT_PTR nGrowCount=m_nGrowCount;

  00035	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00038	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  0003b	89 4d f8	 mov	 DWORD PTR _nGrowCount$4[ebp], ecx

; 421  : 		if (nGrowCount==0)

  0003e	83 7d f8 00	 cmp	 DWORD PTR _nGrowCount$4[ebp], 0
  00042	75 45		 jne	 SHORT $LN3@AllocMemor

; 422  : 		{
; 423  : 			nGrowCount=m_nElementCount/8;

  00044	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00047	8b 40 10	 mov	 eax, DWORD PTR [eax+16]
  0004a	99		 cdq
  0004b	83 e2 07	 and	 edx, 7
  0004e	03 c2		 add	 eax, edx
  00050	c1 f8 03	 sar	 eax, 3
  00053	89 45 f8	 mov	 DWORD PTR _nGrowCount$4[ebp], eax

; 424  : 			nGrowCount=(nGrowCount<4)?4:((nGrowCount>1024)?1024:nGrowCount);

  00056	83 7d f8 04	 cmp	 DWORD PTR _nGrowCount$4[ebp], 4
  0005a	7d 09		 jge	 SHORT $LN8@AllocMemor
  0005c	c7 45 a8 04 00
	00 00		 mov	 DWORD PTR tv79[ebp], 4
  00063	eb 1e		 jmp	 SHORT $LN9@AllocMemor
$LN8@AllocMemor:
  00065	81 7d f8 00 04
	00 00		 cmp	 DWORD PTR _nGrowCount$4[ebp], 1024 ; 00000400H
  0006c	7e 09		 jle	 SHORT $LN6@AllocMemor
  0006e	c7 45 a4 00 04
	00 00		 mov	 DWORD PTR tv78[ebp], 1024 ; 00000400H
  00075	eb 06		 jmp	 SHORT $LN7@AllocMemor
$LN6@AllocMemor:
  00077	8b 45 f8	 mov	 eax, DWORD PTR _nGrowCount$4[ebp]
  0007a	89 45 a4	 mov	 DWORD PTR tv78[ebp], eax
$LN7@AllocMemor:
  0007d	8b 4d a4	 mov	 ecx, DWORD PTR tv78[ebp]
  00080	89 4d a8	 mov	 DWORD PTR tv79[ebp], ecx
$LN9@AllocMemor:
  00083	8b 55 a8	 mov	 edx, DWORD PTR tv79[ebp]
  00086	89 55 f8	 mov	 DWORD PTR _nGrowCount$4[ebp], edx
$LN3@AllocMemor:

; 425  : 		}
; 426  : 		nNewCount+=nGrowCount;

  00089	8b 45 08	 mov	 eax, DWORD PTR _nNewCount$[ebp]
  0008c	03 45 f8	 add	 eax, DWORD PTR _nGrowCount$4[ebp]
  0008f	89 45 08	 mov	 DWORD PTR _nNewCount$[ebp], eax

; 427  : 
; 428  : 		//申请内存
; 429  : 		TYPE * pNewData=(TYPE *) new BYTE[nNewCount*sizeof(TYPE)];

  00092	8b 45 08	 mov	 eax, DWORD PTR _nNewCount$[ebp]
  00095	c1 e0 02	 shl	 eax, 2
  00098	50		 push	 eax
  00099	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]
  0009e	83 c4 04	 add	 esp, 4
  000a1	89 45 b0	 mov	 DWORD PTR $T2[ebp], eax
  000a4	8b 4d b0	 mov	 ecx, DWORD PTR $T2[ebp]
  000a7	89 4d f4	 mov	 DWORD PTR _pNewData$3[ebp], ecx

; 430  : 		memcpy(pNewData,m_pData,m_nElementCount*sizeof(TYPE));

  000aa	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000ad	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  000b0	c1 e1 02	 shl	 ecx, 2
  000b3	51		 push	 ecx
  000b4	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000b7	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  000ba	50		 push	 eax
  000bb	8b 4d f4	 mov	 ecx, DWORD PTR _pNewData$3[ebp]
  000be	51		 push	 ecx
  000bf	e8 00 00 00 00	 call	 _memcpy
  000c4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 431  : 		memset(pNewData+m_nElementCount,0,(nNewCount-m_nElementCount)*sizeof(TYPE));

  000c7	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000ca	8b 4d 08	 mov	 ecx, DWORD PTR _nNewCount$[ebp]
  000cd	2b 48 10	 sub	 ecx, DWORD PTR [eax+16]
  000d0	c1 e1 02	 shl	 ecx, 2
  000d3	51		 push	 ecx
  000d4	6a 00		 push	 0
  000d6	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000d9	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  000dc	8b 4d f4	 mov	 ecx, DWORD PTR _pNewData$3[ebp]
  000df	8d 14 81	 lea	 edx, DWORD PTR [ecx+eax*4]
  000e2	52		 push	 edx
  000e3	e8 00 00 00 00	 call	 _memset
  000e8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 432  : 		delete [] (BYTE *)m_pData;

  000eb	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000ee	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000f1	89 4d ac	 mov	 DWORD PTR $T1[ebp], ecx
  000f4	8b 55 ac	 mov	 edx, DWORD PTR $T1[ebp]
  000f7	52		 push	 edx
  000f8	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  000fd	83 c4 04	 add	 esp, 4

; 433  : 
; 434  : 		//设置变量
; 435  : 		m_pData=pNewData;

  00100	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00103	8b 4d f4	 mov	 ecx, DWORD PTR _pNewData$3[ebp]
  00106	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 436  : 		m_nMaxCount=nNewCount;

  00109	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0010c	8b 4d 08	 mov	 ecx, DWORD PTR _nNewCount$[ebp]
  0010f	89 48 08	 mov	 DWORD PTR [eax+8], ecx
$LN1@AllocMemor:

; 437  : 	}
; 438  : 
; 439  : 	return;
; 440  : }

  00112	5f		 pop	 edi
  00113	5e		 pop	 esi
  00114	5b		 pop	 ebx
  00115	8b e5		 mov	 esp, ebp
  00117	5d		 pop	 ebp
  00118	c2 04 00	 ret	 4
?AllocMemory@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::AllocMemory
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_nIndex$ = 8						; size = 4
??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::operator[], COMDAT
; _this$ = ecx

; 114  : { 

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 115  : 	return ElementAt(nIndex);

  0000c	8b 45 08	 mov	 eax, DWORD PTR _nIndex$[ebp]
  0000f	50		 push	 eax
  00010	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00013	e8 00 00 00 00	 call	 ?ElementAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::ElementAt

; 116  : }

  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
??A?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::operator[]
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?RemoveAll@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXXZ
_TEXT	SEGMENT
_i$1 = -8						; size = 4
_this$ = -4						; size = 4
?RemoveAll@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXXZ PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAll, COMDAT
; _this$ = ecx

; 379  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 380  : 	if (m_nElementCount>0)

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  00013	7e 44		 jle	 SHORT $LN1@RemoveAll

; 381  : 	{
; 382  : 		for (INT_PTR i=0;i<m_nElementCount;i++) (m_pData+i)->~TYPE();

  00015	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$1[ebp], 0
  0001c	eb 09		 jmp	 SHORT $LN4@RemoveAll
$LN2@RemoveAll:
  0001e	8b 45 f8	 mov	 eax, DWORD PTR _i$1[ebp]
  00021	83 c0 01	 add	 eax, 1
  00024	89 45 f8	 mov	 DWORD PTR _i$1[ebp], eax
$LN4@RemoveAll:
  00027	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002a	8b 4d f8	 mov	 ecx, DWORD PTR _i$1[ebp]
  0002d	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  00030	7d 02		 jge	 SHORT $LN3@RemoveAll
  00032	eb ea		 jmp	 SHORT $LN2@RemoveAll
$LN3@RemoveAll:

; 383  : 		memset(m_pData,0,m_nElementCount*sizeof(TYPE));

  00034	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0003a	c1 e1 02	 shl	 ecx, 2
  0003d	51		 push	 ecx
  0003e	6a 00		 push	 0
  00040	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00043	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 _memset
  0004c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 384  : 		m_nElementCount=0;

  0004f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00052	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0
$LN1@RemoveAll:

; 385  : 	}
; 386  : 
; 387  : 	return;
; 388  : }

  00059	5f		 pop	 edi
  0005a	5e		 pop	 esi
  0005b	5b		 pop	 ebx
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
?RemoveAll@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXXZ ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAll
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?RemoveAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHH@Z
_TEXT	SEGMENT
_i$1 = -12						; size = 4
_nMoveCount$ = -8					; size = 4
_this$ = -4						; size = 4
_nIndex$ = 8						; size = 4
_nCount$ = 12						; size = 4
?RemoveAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHH@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAt, COMDAT
; _this$ = ecx

; 360  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 361  : 	//效验参数
; 362  : 	ASSERT(nIndex>=0);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _nIndex$[ebp], 0
  00010	7d 14		 jge	 SHORT $LN9@RemoveAt
  00012	68 6a 01 00 00	 push	 362			; 0000016aH
  00017	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  0001c	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00021	85 c0		 test	 eax, eax
  00023	74 01		 je	 SHORT $LN9@RemoveAt
  00025	cc		 int	 3
$LN9@RemoveAt:

; 363  : 	ASSERT(nCount>=0);

  00026	83 7d 0c 00	 cmp	 DWORD PTR _nCount$[ebp], 0
  0002a	7d 14		 jge	 SHORT $LN10@RemoveAt
  0002c	68 6b 01 00 00	 push	 363			; 0000016bH
  00031	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  00036	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0003b	85 c0		 test	 eax, eax
  0003d	74 01		 je	 SHORT $LN10@RemoveAt
  0003f	cc		 int	 3
$LN10@RemoveAt:

; 364  : 	ASSERT(nIndex+nCount<=m_nElementCount);

  00040	8b 45 08	 mov	 eax, DWORD PTR _nIndex$[ebp]
  00043	03 45 0c	 add	 eax, DWORD PTR _nCount$[ebp]
  00046	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00049	3b 41 10	 cmp	 eax, DWORD PTR [ecx+16]
  0004c	7e 14		 jle	 SHORT $LN11@RemoveAt
  0004e	68 6c 01 00 00	 push	 364			; 0000016cH
  00053	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  00058	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0005d	85 c0		 test	 eax, eax
  0005f	74 01		 je	 SHORT $LN11@RemoveAt
  00061	cc		 int	 3
$LN11@RemoveAt:

; 365  : 	if ((nIndex<0)||(nCount<0)||((nIndex+nCount>m_nElementCount))) AfxThrowInvalidArgException();

  00062	83 7d 08 00	 cmp	 DWORD PTR _nIndex$[ebp], 0
  00066	7c 14		 jl	 SHORT $LN6@RemoveAt
  00068	83 7d 0c 00	 cmp	 DWORD PTR _nCount$[ebp], 0
  0006c	7c 0e		 jl	 SHORT $LN6@RemoveAt
  0006e	8b 45 08	 mov	 eax, DWORD PTR _nIndex$[ebp]
  00071	03 45 0c	 add	 eax, DWORD PTR _nCount$[ebp]
  00074	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00077	3b 41 10	 cmp	 eax, DWORD PTR [ecx+16]
  0007a	7e 05		 jle	 SHORT $LN5@RemoveAt
$LN6@RemoveAt:
  0007c	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN5@RemoveAt:

; 366  : 
; 367  : 	//删除数据
; 368  : 	INT_PTR nMoveCount=m_nElementCount-(nIndex+nCount);

  00081	8b 45 08	 mov	 eax, DWORD PTR _nIndex$[ebp]
  00084	03 45 0c	 add	 eax, DWORD PTR _nCount$[ebp]
  00087	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0008a	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  0008d	2b d0		 sub	 edx, eax
  0008f	89 55 f8	 mov	 DWORD PTR _nMoveCount$[ebp], edx

; 369  : 	for (INT_PTR i=0;i<nCount;i++) (m_pData+nIndex+i)->~TYPE();

  00092	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$1[ebp], 0
  00099	eb 09		 jmp	 SHORT $LN4@RemoveAt
$LN2@RemoveAt:
  0009b	8b 45 f4	 mov	 eax, DWORD PTR _i$1[ebp]
  0009e	83 c0 01	 add	 eax, 1
  000a1	89 45 f4	 mov	 DWORD PTR _i$1[ebp], eax
$LN4@RemoveAt:
  000a4	8b 45 f4	 mov	 eax, DWORD PTR _i$1[ebp]
  000a7	3b 45 0c	 cmp	 eax, DWORD PTR _nCount$[ebp]
  000aa	7d 02		 jge	 SHORT $LN3@RemoveAt
  000ac	eb ed		 jmp	 SHORT $LN2@RemoveAt
$LN3@RemoveAt:

; 370  : 	if (nMoveCount>0) memmove(m_pData+nIndex,m_pData+nIndex+nCount,nMoveCount*sizeof(TYPE));

  000ae	83 7d f8 00	 cmp	 DWORD PTR _nMoveCount$[ebp], 0
  000b2	7e 2f		 jle	 SHORT $LN7@RemoveAt
  000b4	8b 45 f8	 mov	 eax, DWORD PTR _nMoveCount$[ebp]
  000b7	c1 e0 02	 shl	 eax, 2
  000ba	50		 push	 eax
  000bb	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000be	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  000c1	8b 45 08	 mov	 eax, DWORD PTR _nIndex$[ebp]
  000c4	8d 0c 82	 lea	 ecx, DWORD PTR [edx+eax*4]
  000c7	8b 55 0c	 mov	 edx, DWORD PTR _nCount$[ebp]
  000ca	8d 04 91	 lea	 eax, DWORD PTR [ecx+edx*4]
  000cd	50		 push	 eax
  000ce	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000d1	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  000d4	8b 45 08	 mov	 eax, DWORD PTR _nIndex$[ebp]
  000d7	8d 0c 82	 lea	 ecx, DWORD PTR [edx+eax*4]
  000da	51		 push	 ecx
  000db	e8 00 00 00 00	 call	 _memmove
  000e0	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN7@RemoveAt:

; 371  : 	m_nElementCount-=nCount;

  000e3	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000e6	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  000e9	2b 4d 0c	 sub	 ecx, DWORD PTR _nCount$[ebp]
  000ec	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000ef	89 4a 10	 mov	 DWORD PTR [edx+16], ecx
$LN8@RemoveAt:

; 372  : 
; 373  : 	return;
; 374  : }

  000f2	5f		 pop	 edi
  000f3	5e		 pop	 esi
  000f4	5b		 pop	 ebx
  000f5	8b e5		 mov	 esp, ebp
  000f7	5d		 pop	 ebp
  000f8	c2 08 00	 ret	 8
?RemoveAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHH@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::RemoveAt
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?SetAtGrow@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHABQAUtagSystemMessage@@@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_nIndex$ = 8						; size = 4
_newElement$ = 12					; size = 4
?SetAtGrow@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHABQAUtagSystemMessage@@@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::SetAtGrow, COMDAT
; _this$ = ecx

; 287  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 288  : 	//效验参数
; 289  : 	ASSERT(nIndex>=0);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _nIndex$[ebp], 0
  00010	7d 14		 jge	 SHORT $LN5@SetAtGrow
  00012	68 21 01 00 00	 push	 289			; 00000121H
  00017	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  0001c	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00021	85 c0		 test	 eax, eax
  00023	74 01		 je	 SHORT $LN5@SetAtGrow
  00025	cc		 int	 3
$LN5@SetAtGrow:

; 290  : 	if (nIndex<0) AfxThrowInvalidArgException();

  00026	83 7d 08 00	 cmp	 DWORD PTR _nIndex$[ebp], 0
  0002a	7d 05		 jge	 SHORT $LN2@SetAtGrow
  0002c	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN2@SetAtGrow:

; 291  : 
; 292  : 	//设置元素
; 293  : 	if (nIndex>=m_nElementCount) SetSize(m_nElementCount+1);

  00031	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00034	8b 4d 08	 mov	 ecx, DWORD PTR _nIndex$[ebp]
  00037	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  0003a	7c 12		 jl	 SHORT $LN3@SetAtGrow
  0003c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003f	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00042	83 c1 01	 add	 ecx, 1
  00045	51		 push	 ecx
  00046	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00049	e8 00 00 00 00	 call	 ?SetSize@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::SetSize
$LN3@SetAtGrow:

; 294  : 	m_pData[nIndex]=newElement;

  0004e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00051	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00054	8b 55 08	 mov	 edx, DWORD PTR _nIndex$[ebp]
  00057	8b 45 0c	 mov	 eax, DWORD PTR _newElement$[ebp]
  0005a	8b 00		 mov	 eax, DWORD PTR [eax]
  0005c	89 04 91	 mov	 DWORD PTR [ecx+edx*4], eax
$LN4@SetAtGrow:

; 295  : 
; 296  : 	return;
; 297  : }

  0005f	5f		 pop	 edi
  00060	5e		 pop	 esi
  00061	5b		 pop	 ebx
  00062	8b e5		 mov	 esp, ebp
  00064	5d		 pop	 ebp
  00065	c2 08 00	 ret	 8
?SetAtGrow@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHABQAUtagSystemMessage@@@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::SetAtGrow
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?SetSize@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z
_TEXT	SEGMENT
$T1 = -80						; size = 4
_i$2 = -12						; size = 4
_i$3 = -8						; size = 4
_this$ = -4						; size = 4
_nNewSize$ = 8						; size = 4
?SetSize@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::SetSize, COMDAT
; _this$ = ecx

; 252  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 253  : 	//效验参数
; 254  : 	ASSERT(nNewSize>=0);

  0000c	83 7d 08 00	 cmp	 DWORD PTR _nNewSize$[ebp], 0
  00010	7d 14		 jge	 SHORT $LN13@SetSize
  00012	68 fe 00 00 00	 push	 254			; 000000feH
  00017	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  0001c	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00021	85 c0		 test	 eax, eax
  00023	74 01		 je	 SHORT $LN13@SetSize
  00025	cc		 int	 3
$LN13@SetSize:

; 255  : 	if (nNewSize<0)	AfxThrowInvalidArgException();

  00026	83 7d 08 00	 cmp	 DWORD PTR _nNewSize$[ebp], 0
  0002a	7d 05		 jge	 SHORT $LN8@SetSize
  0002c	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN8@SetSize:

; 256  : 	
; 257  : 	//设置大小
; 258  : 	AllocMemory(nNewSize);

  00031	8b 45 08	 mov	 eax, DWORD PTR _nNewSize$[ebp]
  00034	50		 push	 eax
  00035	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00038	e8 00 00 00 00	 call	 ?AllocMemory@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::AllocMemory

; 259  : 	if (nNewSize>m_nElementCount)

  0003d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00040	8b 4d 08	 mov	 ecx, DWORD PTR _nNewSize$[ebp]
  00043	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  00046	7e 3a		 jle	 SHORT $LN9@SetSize

; 260  : 	{
; 261  : 		for (INT_PTR i=m_nElementCount;i<nNewSize;i++) new ((VOID *)(m_pData+i)) TYPE;

  00048	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004b	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0004e	89 4d f8	 mov	 DWORD PTR _i$3[ebp], ecx
  00051	eb 09		 jmp	 SHORT $LN4@SetSize
$LN2@SetSize:
  00053	8b 45 f8	 mov	 eax, DWORD PTR _i$3[ebp]
  00056	83 c0 01	 add	 eax, 1
  00059	89 45 f8	 mov	 DWORD PTR _i$3[ebp], eax
$LN4@SetSize:
  0005c	8b 45 f8	 mov	 eax, DWORD PTR _i$3[ebp]
  0005f	3b 45 08	 cmp	 eax, DWORD PTR _nNewSize$[ebp]
  00062	7d 1c		 jge	 SHORT $LN3@SetSize
  00064	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00067	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0006a	8b 55 f8	 mov	 edx, DWORD PTR _i$3[ebp]
  0006d	8d 04 91	 lea	 eax, DWORD PTR [ecx+edx*4]
  00070	50		 push	 eax
  00071	6a 04		 push	 4
  00073	e8 00 00 00 00	 call	 ??2@YAPAXIPAX@Z		; operator new
  00078	83 c4 08	 add	 esp, 8
  0007b	89 45 b0	 mov	 DWORD PTR $T1[ebp], eax
  0007e	eb d3		 jmp	 SHORT $LN2@SetSize
$LN3@SetSize:

; 262  : 	}
; 263  : 	else if (nNewSize<m_nElementCount)

  00080	eb 4d		 jmp	 SHORT $LN10@SetSize
$LN9@SetSize:
  00082	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00085	8b 4d 08	 mov	 ecx, DWORD PTR _nNewSize$[ebp]
  00088	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  0008b	7d 42		 jge	 SHORT $LN10@SetSize

; 264  : 	{
; 265  : 		for (INT_PTR i=nNewSize;i<m_nElementCount;i++) (m_pData+i)->~TYPE();

  0008d	8b 45 08	 mov	 eax, DWORD PTR _nNewSize$[ebp]
  00090	89 45 f4	 mov	 DWORD PTR _i$2[ebp], eax
  00093	eb 09		 jmp	 SHORT $LN7@SetSize
$LN5@SetSize:
  00095	8b 45 f4	 mov	 eax, DWORD PTR _i$2[ebp]
  00098	83 c0 01	 add	 eax, 1
  0009b	89 45 f4	 mov	 DWORD PTR _i$2[ebp], eax
$LN7@SetSize:
  0009e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000a1	8b 4d f4	 mov	 ecx, DWORD PTR _i$2[ebp]
  000a4	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  000a7	7d 02		 jge	 SHORT $LN6@SetSize
  000a9	eb ea		 jmp	 SHORT $LN5@SetSize
$LN6@SetSize:

; 266  : 		memset(m_pData+nNewSize,0,(m_nElementCount-nNewSize)*sizeof(TYPE));

  000ab	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000ae	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  000b1	2b 4d 08	 sub	 ecx, DWORD PTR _nNewSize$[ebp]
  000b4	c1 e1 02	 shl	 ecx, 2
  000b7	51		 push	 ecx
  000b8	6a 00		 push	 0
  000ba	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000bd	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  000c0	8b 4d 08	 mov	 ecx, DWORD PTR _nNewSize$[ebp]
  000c3	8d 14 88	 lea	 edx, DWORD PTR [eax+ecx*4]
  000c6	52		 push	 edx
  000c7	e8 00 00 00 00	 call	 _memset
  000cc	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN10@SetSize:

; 267  : 	}
; 268  : 	m_nElementCount=nNewSize;

  000cf	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000d2	8b 4d 08	 mov	 ecx, DWORD PTR _nNewSize$[ebp]
  000d5	89 48 10	 mov	 DWORD PTR [eax+16], ecx
$LN12@SetSize:

; 269  : 
; 270  : 	return;
; 271  : }

  000d8	5f		 pop	 edi
  000d9	5e		 pop	 esi
  000da	5b		 pop	 ebx
  000db	8b e5		 mov	 esp, ebp
  000dd	5d		 pop	 ebp
  000de	c2 04 00	 ret	 4
?SetSize@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::SetSize
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?ElementAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_nIndex$ = 8						; size = 4
?ElementAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::ElementAt, COMDAT
; _this$ = ecx

; 232  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 233  : 	ASSERT((nIndex>=0)&&(nIndex<m_nElementCount));

  0000c	83 7d 08 00	 cmp	 DWORD PTR _nIndex$[ebp], 0
  00010	7c 0b		 jl	 SHORT $LN4@ElementAt
  00012	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00015	8b 4d 08	 mov	 ecx, DWORD PTR _nIndex$[ebp]
  00018	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  0001b	7c 14		 jl	 SHORT $LN5@ElementAt
$LN4@ElementAt:
  0001d	68 e9 00 00 00	 push	 233			; 000000e9H
  00022	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  00027	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0002c	85 c0		 test	 eax, eax
  0002e	74 01		 je	 SHORT $LN5@ElementAt
  00030	cc		 int	 3
$LN5@ElementAt:

; 234  : 	if ((nIndex<0)&&(nIndex>=m_nElementCount)) AfxThrowInvalidArgException();

  00031	83 7d 08 00	 cmp	 DWORD PTR _nIndex$[ebp], 0
  00035	7d 10		 jge	 SHORT $LN2@ElementAt
  00037	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0003a	8b 4d 08	 mov	 ecx, DWORD PTR _nIndex$[ebp]
  0003d	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  00040	7c 05		 jl	 SHORT $LN2@ElementAt
  00042	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN2@ElementAt:

; 235  : 	
; 236  : 	return m_pData[nIndex];

  00047	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004a	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0004d	8b 55 08	 mov	 edx, DWORD PTR _nIndex$[ebp]
  00050	8d 04 91	 lea	 eax, DWORD PTR [ecx+edx*4]
$LN3@ElementAt:

; 237  : }

  00053	5f		 pop	 edi
  00054	5e		 pop	 esi
  00055	5b		 pop	 ebx
  00056	8b e5		 mov	 esp, ebp
  00058	5d		 pop	 ebp
  00059	c2 04 00	 ret	 4
?ElementAt@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEAAPAUtagSystemMessage@@H@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::ElementAt
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?Append@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABV1@@Z
_TEXT	SEGMENT
_i$1 = -12						; size = 4
_nOldCount$2 = -8					; size = 4
_this$ = -4						; size = 4
_Src$ = 8						; size = 4
?Append@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABV1@@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Append, COMDAT
; _this$ = ecx

; 192  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 193  : 	//效验参数
; 194  : 	ASSERT(this!=&Src);

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	3b 45 08	 cmp	 eax, DWORD PTR _Src$[ebp]
  00012	75 14		 jne	 SHORT $LN8@Append
  00014	68 c2 00 00 00	 push	 194			; 000000c2H
  00019	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@LDFGAABH@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  0001e	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00023	85 c0		 test	 eax, eax
  00025	74 01		 je	 SHORT $LN8@Append
  00027	cc		 int	 3
$LN8@Append:

; 195  : 	if (this==&Src) AfxThrowInvalidArgException();

  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	3b 45 08	 cmp	 eax, DWORD PTR _Src$[ebp]
  0002e	75 05		 jne	 SHORT $LN5@Append
  00030	e8 00 00 00 00	 call	 ?AfxThrowInvalidArgException@@YGXXZ ; AfxThrowInvalidArgException
$LN5@Append:

; 196  : 
; 197  : 	//拷贝数组
; 198  : 	if (Src.m_nElementCount>0)

  00035	8b 45 08	 mov	 eax, DWORD PTR _Src$[ebp]
  00038	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  0003c	7e 6d		 jle	 SHORT $LN6@Append

; 199  : 	{
; 200  : 		INT_PTR nOldCount=m_nElementCount;

  0003e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00041	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00044	89 4d f8	 mov	 DWORD PTR _nOldCount$2[ebp], ecx

; 201  : 		AllocMemory(m_nElementCount+Src.m_nElementCount);

  00047	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0004a	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0004d	8b 55 08	 mov	 edx, DWORD PTR _Src$[ebp]
  00050	03 4a 10	 add	 ecx, DWORD PTR [edx+16]
  00053	51		 push	 ecx
  00054	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00057	e8 00 00 00 00	 call	 ?AllocMemory@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXH@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::AllocMemory

; 202  : 		for (INT_PTR i=0;i<Src.m_nElementCount;i++)	m_pData[m_nElementCount+i]=Src.m_pData[i];

  0005c	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _i$1[ebp], 0
  00063	eb 09		 jmp	 SHORT $LN4@Append
$LN2@Append:
  00065	8b 45 f4	 mov	 eax, DWORD PTR _i$1[ebp]
  00068	83 c0 01	 add	 eax, 1
  0006b	89 45 f4	 mov	 DWORD PTR _i$1[ebp], eax
$LN4@Append:
  0006e	8b 45 08	 mov	 eax, DWORD PTR _Src$[ebp]
  00071	8b 4d f4	 mov	 ecx, DWORD PTR _i$1[ebp]
  00074	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  00077	7d 20		 jge	 SHORT $LN3@Append
  00079	8b 45 08	 mov	 eax, DWORD PTR _Src$[ebp]
  0007c	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0007f	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00082	8b 42 10	 mov	 eax, DWORD PTR [edx+16]
  00085	03 45 f4	 add	 eax, DWORD PTR _i$1[ebp]
  00088	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0008b	8b 52 04	 mov	 edx, DWORD PTR [edx+4]
  0008e	8b 75 f4	 mov	 esi, DWORD PTR _i$1[ebp]
  00091	8b 0c b1	 mov	 ecx, DWORD PTR [ecx+esi*4]
  00094	89 0c 82	 mov	 DWORD PTR [edx+eax*4], ecx
  00097	eb cc		 jmp	 SHORT $LN2@Append
$LN3@Append:

; 203  : 		m_nElementCount+=Src.m_nElementCount;

  00099	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0009c	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0009f	8b 55 08	 mov	 edx, DWORD PTR _Src$[ebp]
  000a2	03 4a 10	 add	 ecx, DWORD PTR [edx+16]
  000a5	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000a8	89 48 10	 mov	 DWORD PTR [eax+16], ecx
$LN6@Append:

; 204  : 	}
; 205  : 
; 206  : 	return m_nElementCount;

  000ab	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000ae	8b 40 10	 mov	 eax, DWORD PTR [eax+16]
$LN7@Append:

; 207  : }

  000b1	5f		 pop	 edi
  000b2	5e		 pop	 esi
  000b3	5b		 pop	 ebx
  000b4	8b e5		 mov	 esp, ebp
  000b6	5d		 pop	 ebp
  000b7	c2 04 00	 ret	 4
?Append@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABV1@@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Append
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?Add@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABQAUtagSystemMessage@@@Z
_TEXT	SEGMENT
_nIndex$ = -8						; size = 4
_this$ = -4						; size = 4
_newElement$ = 8					; size = 4
?Add@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABQAUtagSystemMessage@@@Z PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Add, COMDAT
; _this$ = ecx

; 105  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 106  : 	INT_PTR nIndex=m_nElementCount;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00012	89 4d f8	 mov	 DWORD PTR _nIndex$[ebp], ecx

; 107  : 	SetAtGrow(nIndex,newElement);

  00015	8b 45 08	 mov	 eax, DWORD PTR _newElement$[ebp]
  00018	50		 push	 eax
  00019	8b 4d f8	 mov	 ecx, DWORD PTR _nIndex$[ebp]
  0001c	51		 push	 ecx
  0001d	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00020	e8 00 00 00 00	 call	 ?SetAtGrow@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEXHABQAUtagSystemMessage@@@Z ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::SetAtGrow

; 108  : 	return nIndex;

  00025	8b 45 f8	 mov	 eax, DWORD PTR _nIndex$[ebp]

; 109  : }

  00028	5f		 pop	 edi
  00029	5e		 pop	 esi
  0002a	5b		 pop	 ebx
  0002b	8b e5		 mov	 esp, ebp
  0002d	5d		 pop	 ebp
  0002e	c2 04 00	 ret	 4
?Add@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAEHABQAUtagSystemMessage@@@Z ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::Add
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ PROC ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount, COMDAT
; _this$ = ecx

; 98   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 99   : 	return m_nElementCount;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 10	 mov	 eax, DWORD PTR [eax+16]

; 100  : }

  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetCount@?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QBEHXZ ENDP ; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::GetCount
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ
_TEXT	SEGMENT
$T1 = -76						; size = 4
_i$2 = -8						; size = 4
_this$ = -4						; size = 4
??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ PROC	; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>, COMDAT
; _this$ = ecx

; 143  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@

; 144  : 	if (m_pData!=NULL)

  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  0001c	74 3e		 je	 SHORT $LN6@CWHArray

; 145  : 	{
; 146  : 		for (INT_PTR i=0;i<m_nElementCount;i++)	(m_pData+i)->~TYPE();

  0001e	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$2[ebp], 0
  00025	eb 09		 jmp	 SHORT $LN4@CWHArray
$LN2@CWHArray:
  00027	8b 45 f8	 mov	 eax, DWORD PTR _i$2[ebp]
  0002a	83 c0 01	 add	 eax, 1
  0002d	89 45 f8	 mov	 DWORD PTR _i$2[ebp], eax
$LN4@CWHArray:
  00030	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00033	8b 4d f8	 mov	 ecx, DWORD PTR _i$2[ebp]
  00036	3b 48 10	 cmp	 ecx, DWORD PTR [eax+16]
  00039	7d 02		 jge	 SHORT $LN3@CWHArray
  0003b	eb ea		 jmp	 SHORT $LN2@CWHArray
$LN3@CWHArray:

; 147  : 		delete [] (BYTE *)m_pData;

  0003d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00040	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00043	89 4d b4	 mov	 DWORD PTR $T1[ebp], ecx
  00046	8b 55 b4	 mov	 edx, DWORD PTR $T1[ebp]
  00049	52		 push	 edx
  0004a	e8 00 00 00 00	 call	 ??_V@YAXPAX@Z		; operator delete[]
  0004f	83 c4 04	 add	 esp, 4

; 148  : 		m_pData=NULL;

  00052	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00055	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0
$LN6@CWHArray:

; 149  : 	}
; 150  : 
; 151  : 	return;
; 152  : }

  0005c	5f		 pop	 edi
  0005d	5e		 pop	 esi
  0005e	5b		 pop	 ebx
  0005f	8b e5		 mov	 esp, ebp
  00061	5d		 pop	 ebp
  00062	c3		 ret	 0
??1?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@UAE@XZ ENDP	; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::~CWHArray<tagSystemMessage *,tagSystemMessage * const &>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ??0?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAE@XZ PROC	; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::CWHArray<tagSystemMessage *,tagSystemMessage * const &>, COMDAT
; _this$ = ecx

; 131  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@6B@

; 132  : 	m_pData=NULL;

  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 133  : 	m_nMaxCount=0;

  0001f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00022	c7 40 08 00 00
	00 00		 mov	 DWORD PTR [eax+8], 0

; 134  : 	m_nGrowCount=0;

  00029	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002c	c7 40 0c 00 00
	00 00		 mov	 DWORD PTR [eax+12], 0

; 135  : 	m_nElementCount=0;

  00033	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00036	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0

; 136  : 
; 137  : 	return;
; 138  : }

  0003d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00040	5f		 pop	 edi
  00041	5e		 pop	 esi
  00042	5b		 pop	 ebx
  00043	8b e5		 mov	 esp, ebp
  00045	5d		 pop	 ebp
  00046	c3		 ret	 0
??0?$CWHArray@PAUtagSystemMessage@@ABQAU1@@@QAE@XZ ENDP	; CWHArray<tagSystemMessage *,tagSystemMessage * const &>::CWHArray<tagSystemMessage *,tagSystemMessage * const &>
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\serverusermanager.h
;	COMDAT ?SetOwnerUserID@CUserFriendGroup@@QAEXK@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_dwUserID$ = 8						; size = 4
?SetOwnerUserID@CUserFriendGroup@@QAEXK@Z PROC		; CUserFriendGroup::SetOwnerUserID, COMDAT
; _this$ = ecx

; 287  : 	VOID SetOwnerUserID(DWORD dwUserID) { m_dwOwnerUserID=dwUserID; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 4d 08	 mov	 ecx, DWORD PTR _dwUserID$[ebp]
  00012	89 48 04	 mov	 DWORD PTR [eax+4], ecx
  00015	5f		 pop	 edi
  00016	5e		 pop	 esi
  00017	5b		 pop	 ebx
  00018	8b e5		 mov	 esp, ebp
  0001a	5d		 pop	 ebp
  0001b	c2 04 00	 ret	 4
?SetOwnerUserID@CUserFriendGroup@@QAEXK@Z ENDP		; CUserFriendGroup::SetOwnerUserID
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\serverusermanager.h
;	COMDAT ?GetUserItemCount@CNearUserManager@@UAEKXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetUserItemCount@CNearUserManager@@UAEKXZ PROC		; CNearUserManager::GetUserItemCount, COMDAT
; _this$ = ecx

; 211  : 	virtual DWORD GetUserItemCount() { return (DWORD)m_UserItemArray.GetCount(); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	83 c1 04	 add	 ecx, 4
  00012	e8 00 00 00 00	 call	 ?GetCount@?$CWHArray@PAUtagNearUserInfo@@ABQAU1@@@QBEHXZ ; CWHArray<tagNearUserInfo *,tagNearUserInfo * const &>::GetCount
  00017	5f		 pop	 edi
  00018	5e		 pop	 esi
  00019	5b		 pop	 ebx
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c3		 ret	 0
?GetUserItemCount@CNearUserManager@@UAEKXZ ENDP		; CNearUserManager::GetUserItemCount
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\array.h
;	COMDAT ?GetCount@?$CWHArray@PAUtagNearUserInfo@@ABQAU1@@@QBEHXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetCount@?$CWHArray@PAUtagNearUserInfo@@ABQAU1@@@QBEHXZ PROC ; CWHArray<tagNearUserInfo *,tagNearUserInfo * const &>::GetCount, COMDAT
; _this$ = ecx

; 98   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 99   : 	return m_nElementCount;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 10	 mov	 eax, DWORD PTR [eax+16]

; 100  : }

  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetCount@?$CWHArray@PAUtagNearUserInfo@@ABQAU1@@@QBEHXZ ENDP ; CWHArray<tagNearUserInfo *,tagNearUserInfo * const &>::GetCount
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\serverusermanager.h
;	COMDAT ?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ PROC ; CServerUserItem::GetUserItemKind, COMDAT
; _this$ = ecx

; 89   : 	enUserItemKind GetUserItemKind() { return m_enUserKind; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetUserItemKind@CServerUserItem@@QAE?AW4enUserItemKind@@XZ ENDP ; CServerUserItem::GetUserItemKind
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??0IAttemperEngineSink@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0IAttemperEngineSink@@QAE@XZ PROC			; IAttemperEngineSink::IAttemperEngineSink, COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000f	e8 00 00 00 00	 call	 ??0IUnknownEx@@QAE@XZ
  00014	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00017	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7IAttemperEngineSink@@6B@
  0001d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00020	5f		 pop	 edi
  00021	5e		 pop	 esi
  00022	5b		 pop	 ebx
  00023	8b e5		 mov	 esp, ebp
  00025	5d		 pop	 ebp
  00026	c3		 ret	 0
??0IAttemperEngineSink@@QAE@XZ ENDP			; IAttemperEngineSink::IAttemperEngineSink
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\packetaide.h
;	COMDAT ?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z
_TEXT	SEGMENT
_pDataDescribe$ = -8					; size = 4
_this$ = -4						; size = 4
_pData$ = 8						; size = 4
_wDataSize$ = 12					; size = 2
_wDataType$ = 16					; size = 2
?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z PROC		; CSendPacketHelper::AddPacket, COMDAT
; _this$ = ecx

; 114  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 115  : 	//效验数据
; 116  : 	ASSERT(wDataType!=DTP_NULL);

  0000c	0f b7 45 10	 movzx	 eax, WORD PTR _wDataType$[ebp]
  00010	85 c0		 test	 eax, eax
  00012	75 19		 jne	 SHORT $LN5@AddPacket
  00014	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z@4JA
  0001a	83 c1 02	 add	 ecx, 2
  0001d	51		 push	 ecx
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@NEJIDGKJ@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  00023	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00028	85 c0		 test	 eax, eax
  0002a	74 01		 je	 SHORT $LN5@AddPacket
  0002c	cc		 int	 3
$LN5@AddPacket:

; 117  : 	ASSERT((wDataSize+sizeof(tagDataDescribe)+m_wDataSize)<=m_wMaxBytes);

  0002d	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00031	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00034	0f b7 11	 movzx	 edx, WORD PTR [ecx]
  00037	8d 44 10 04	 lea	 eax, DWORD PTR [eax+edx+4]
  0003b	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0003e	0f b7 51 02	 movzx	 edx, WORD PTR [ecx+2]
  00042	3b c2		 cmp	 eax, edx
  00044	76 18		 jbe	 SHORT $LN6@AddPacket
  00046	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z@4JA
  0004b	83 c0 03	 add	 eax, 3
  0004e	50		 push	 eax
  0004f	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@NEJIDGKJ@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  00054	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  00059	85 c0		 test	 eax, eax
  0005b	74 01		 je	 SHORT $LN6@AddPacket
  0005d	cc		 int	 3
$LN6@AddPacket:

; 118  : 	if ((wDataSize+sizeof(tagDataDescribe)+m_wDataSize)>m_wMaxBytes) return false;

  0005e	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00062	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00065	0f b7 11	 movzx	 edx, WORD PTR [ecx]
  00068	8d 44 10 04	 lea	 eax, DWORD PTR [eax+edx+4]
  0006c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0006f	0f b7 51 02	 movzx	 edx, WORD PTR [ecx+2]
  00073	3b c2		 cmp	 eax, edx
  00075	76 07		 jbe	 SHORT $LN2@AddPacket
  00077	32 c0		 xor	 al, al
  00079	e9 9a 00 00 00	 jmp	 $LN1@AddPacket
$LN2@AddPacket:

; 119  : 
; 120  : 	//插入数据
; 121  : 	ASSERT(m_pcbBuffer!=NULL);

  0007e	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00081	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  00085	75 19		 jne	 SHORT $LN7@AddPacket
  00087	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?0??AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z@4JA
  0008d	83 c1 07	 add	 ecx, 7
  00090	51		 push	 ecx
  00091	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@NEJIDGKJ@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  00096	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  0009b	85 c0		 test	 eax, eax
  0009d	74 01		 je	 SHORT $LN7@AddPacket
  0009f	cc		 int	 3
$LN7@AddPacket:

; 122  : 	tagDataDescribe * pDataDescribe=(tagDataDescribe *)(m_pcbBuffer+m_wDataSize);

  000a0	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  000a3	0f b7 08	 movzx	 ecx, WORD PTR [eax]
  000a6	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000a9	03 4a 04	 add	 ecx, DWORD PTR [edx+4]
  000ac	89 4d f8	 mov	 DWORD PTR _pDataDescribe$[ebp], ecx

; 123  : 	pDataDescribe->wDataSize=wDataSize;

  000af	8b 45 f8	 mov	 eax, DWORD PTR _pDataDescribe$[ebp]
  000b2	66 8b 4d 0c	 mov	 cx, WORD PTR _wDataSize$[ebp]
  000b6	66 89 08	 mov	 WORD PTR [eax], cx

; 124  : 	pDataDescribe->wDataDescribe=wDataType;

  000b9	8b 45 f8	 mov	 eax, DWORD PTR _pDataDescribe$[ebp]
  000bc	66 8b 4d 10	 mov	 cx, WORD PTR _wDataType$[ebp]
  000c0	66 89 48 02	 mov	 WORD PTR [eax+2], cx

; 125  : 
; 126  : 	//插入数据
; 127  : 	if (wDataSize>0)

  000c4	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  000c8	85 c0		 test	 eax, eax
  000ca	7e 36		 jle	 SHORT $LN3@AddPacket

; 128  : 	{
; 129  : 		ASSERT(pData!=NULL);

  000cc	83 7d 08 00	 cmp	 DWORD PTR _pData$[ebp], 0
  000d0	75 18		 jne	 SHORT $LN8@AddPacket
  000d2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?0??AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z@4JA
  000d7	83 c0 0f	 add	 eax, 15			; 0000000fH
  000da	50		 push	 eax
  000db	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@NEJIDGKJ@g?3?2?M?x?$LK?$PM?2happygamewh?2?$LH?$PO?N?q?$LG?K?2?O?$LF?M?$LD@
  000e0	e8 00 00 00 00	 call	 ?AfxAssertFailedLine@@YGHPBDH@Z ; AfxAssertFailedLine
  000e5	85 c0		 test	 eax, eax
  000e7	74 01		 je	 SHORT $LN8@AddPacket
  000e9	cc		 int	 3
$LN8@AddPacket:

; 130  : 		CopyMemory(pDataDescribe+1,pData,wDataSize);

  000ea	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  000ee	50		 push	 eax
  000ef	8b 4d 08	 mov	 ecx, DWORD PTR _pData$[ebp]
  000f2	51		 push	 ecx
  000f3	8b 55 f8	 mov	 edx, DWORD PTR _pDataDescribe$[ebp]
  000f6	83 c2 04	 add	 edx, 4
  000f9	52		 push	 edx
  000fa	e8 00 00 00 00	 call	 _memcpy
  000ff	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@AddPacket:

; 131  : 	}
; 132  : 
; 133  : 	//设置数据
; 134  : 	m_wDataSize+=sizeof(tagDataDescribe)+wDataSize;

  00102	0f b7 45 0c	 movzx	 eax, WORD PTR _wDataSize$[ebp]
  00106	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00109	0f b7 11	 movzx	 edx, WORD PTR [ecx]
  0010c	8d 44 02 04	 lea	 eax, DWORD PTR [edx+eax+4]
  00110	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00113	66 89 01	 mov	 WORD PTR [ecx], ax

; 135  : 
; 136  : 	return true;

  00116	b0 01		 mov	 al, 1
$LN1@AddPacket:

; 137  : }

  00118	5f		 pop	 edi
  00119	5e		 pop	 esi
  0011a	5b		 pop	 ebx
  0011b	8b e5		 mov	 esp, ebp
  0011d	5d		 pop	 ebp
  0011e	c2 0c 00	 ret	 12			; 0000000cH
?AddPacket@CSendPacketHelper@@QAE_NPAXGG@Z ENDP		; CSendPacketHelper::AddPacket
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\packetaide.h
;	COMDAT ?GetDataSize@CSendPacketHelper@@QAEGXZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
?GetDataSize@CSendPacketHelper@@QAEGXZ PROC		; CSendPacketHelper::GetDataSize, COMDAT
; _this$ = ecx

; 41   : 	inline WORD GetDataSize() { return m_wDataSize; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	66 8b 00	 mov	 ax, WORD PTR [eax]
  00012	5f		 pop	 edi
  00013	5e		 pop	 esi
  00014	5b		 pop	 ebx
  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
?GetDataSize@CSendPacketHelper@@QAEGXZ ENDP		; CSendPacketHelper::GetDataSize
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\packetaide.h
;	COMDAT ??0CSendPacketHelper@@QAE@PAXG@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_pcbBuffer$ = 8						; size = 4
_wMaxBytes$ = 12					; size = 2
??0CSendPacketHelper@@QAE@PAXG@Z PROC			; CSendPacketHelper::CSendPacketHelper, COMDAT
; _this$ = ecx

; 81   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 82   : 	//设置变量
; 83   : 	m_wDataSize=0;

  0000c	33 c0		 xor	 eax, eax
  0000e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00011	66 89 01	 mov	 WORD PTR [ecx], ax

; 84   : 	m_wMaxBytes=wMaxBytes;

  00014	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00017	66 8b 4d 0c	 mov	 cx, WORD PTR _wMaxBytes$[ebp]
  0001b	66 89 48 02	 mov	 WORD PTR [eax+2], cx

; 85   : 	m_pcbBuffer=(BYTE *)pcbBuffer;

  0001f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00022	8b 4d 08	 mov	 ecx, DWORD PTR _pcbBuffer$[ebp]
  00025	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 86   : 
; 87   : 	return;
; 88   : }

  00028	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	8b e5		 mov	 esp, ebp
  00030	5d		 pop	 ebp
  00031	c2 08 00	 ret	 8
??0CSendPacketHelper@@QAE@PAXG@Z ENDP			; CSendPacketHelper::CSendPacketHelper
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\module.h
;	COMDAT ?InterfaceVersionCompare@@YA_NKK@Z
_TEXT	SEGMENT
_dwQueryVer$ = 8					; size = 4
_dwInterfaceVer$ = 12					; size = 4
?InterfaceVersionCompare@@YA_NKK@Z PROC			; InterfaceVersionCompare, COMDAT

; 68   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 69   : 	if (GetSubVer(dwQueryVer)>GetSubVer(dwInterfaceVer)) return false;

  00009	8b 45 08	 mov	 eax, DWORD PTR _dwQueryVer$[ebp]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?GetSubVer@@YAEK@Z	; GetSubVer
  00012	83 c4 04	 add	 esp, 4
  00015	0f b6 f0	 movzx	 esi, al
  00018	8b 4d 0c	 mov	 ecx, DWORD PTR _dwInterfaceVer$[ebp]
  0001b	51		 push	 ecx
  0001c	e8 00 00 00 00	 call	 ?GetSubVer@@YAEK@Z	; GetSubVer
  00021	83 c4 04	 add	 esp, 4
  00024	0f b6 d0	 movzx	 edx, al
  00027	3b f2		 cmp	 esi, edx
  00029	7e 04		 jle	 SHORT $LN2@InterfaceV
  0002b	32 c0		 xor	 al, al
  0002d	eb 74		 jmp	 SHORT $LN1@InterfaceV
$LN2@InterfaceV:

; 70   : 	if (GetMainVer(dwQueryVer)!=GetMainVer(dwInterfaceVer)) return false;

  0002f	8b 45 08	 mov	 eax, DWORD PTR _dwQueryVer$[ebp]
  00032	50		 push	 eax
  00033	e8 00 00 00 00	 call	 ?GetMainVer@@YAEK@Z	; GetMainVer
  00038	83 c4 04	 add	 esp, 4
  0003b	0f b6 f0	 movzx	 esi, al
  0003e	8b 4d 0c	 mov	 ecx, DWORD PTR _dwInterfaceVer$[ebp]
  00041	51		 push	 ecx
  00042	e8 00 00 00 00	 call	 ?GetMainVer@@YAEK@Z	; GetMainVer
  00047	83 c4 04	 add	 esp, 4
  0004a	0f b6 d0	 movzx	 edx, al
  0004d	3b f2		 cmp	 esi, edx
  0004f	74 04		 je	 SHORT $LN3@InterfaceV
  00051	32 c0		 xor	 al, al
  00053	eb 4e		 jmp	 SHORT $LN1@InterfaceV
$LN3@InterfaceV:

; 71   : 	if (GetBuildVer(dwQueryVer)!=GetBuildVer(dwInterfaceVer)) return false;

  00055	8b 45 08	 mov	 eax, DWORD PTR _dwQueryVer$[ebp]
  00058	50		 push	 eax
  00059	e8 00 00 00 00	 call	 ?GetBuildVer@@YAEK@Z	; GetBuildVer
  0005e	83 c4 04	 add	 esp, 4
  00061	0f b6 f0	 movzx	 esi, al
  00064	8b 4d 0c	 mov	 ecx, DWORD PTR _dwInterfaceVer$[ebp]
  00067	51		 push	 ecx
  00068	e8 00 00 00 00	 call	 ?GetBuildVer@@YAEK@Z	; GetBuildVer
  0006d	83 c4 04	 add	 esp, 4
  00070	0f b6 d0	 movzx	 edx, al
  00073	3b f2		 cmp	 esi, edx
  00075	74 04		 je	 SHORT $LN4@InterfaceV
  00077	32 c0		 xor	 al, al
  00079	eb 28		 jmp	 SHORT $LN1@InterfaceV
$LN4@InterfaceV:

; 72   : 	if (GetProductVer(dwQueryVer)!=GetProductVer(dwInterfaceVer)) return false;

  0007b	8b 45 08	 mov	 eax, DWORD PTR _dwQueryVer$[ebp]
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?GetProductVer@@YAEK@Z	; GetProductVer
  00084	83 c4 04	 add	 esp, 4
  00087	0f b6 f0	 movzx	 esi, al
  0008a	8b 4d 0c	 mov	 ecx, DWORD PTR _dwInterfaceVer$[ebp]
  0008d	51		 push	 ecx
  0008e	e8 00 00 00 00	 call	 ?GetProductVer@@YAEK@Z	; GetProductVer
  00093	83 c4 04	 add	 esp, 4
  00096	0f b6 d0	 movzx	 edx, al
  00099	3b f2		 cmp	 esi, edx
  0009b	74 04		 je	 SHORT $LN5@InterfaceV
  0009d	32 c0		 xor	 al, al
  0009f	eb 02		 jmp	 SHORT $LN1@InterfaceV
$LN5@InterfaceV:

; 73   : 	return true;

  000a1	b0 01		 mov	 al, 1
$LN1@InterfaceV:

; 74   : };

  000a3	5f		 pop	 edi
  000a4	5e		 pop	 esi
  000a5	5b		 pop	 ebx
  000a6	8b e5		 mov	 esp, ebp
  000a8	5d		 pop	 ebp
  000a9	c3		 ret	 0
?InterfaceVersionCompare@@YA_NKK@Z ENDP			; InterfaceVersionCompare
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\module.h
;	COMDAT ?GetBuildVer@@YAEK@Z
_TEXT	SEGMENT
_dwVersion$ = 8						; size = 4
?GetBuildVer@@YAEK@Z PROC				; GetBuildVer, COMDAT

; 62   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 63   : 	return ((BYTE *)&dwVersion)[0];

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 00	 imul	 ecx, eax, 0
  00011	8a 44 0d 08	 mov	 al, BYTE PTR _dwVersion$[ebp+ecx]

; 64   : }

  00015	5f		 pop	 edi
  00016	5e		 pop	 esi
  00017	5b		 pop	 ebx
  00018	8b e5		 mov	 esp, ebp
  0001a	5d		 pop	 ebp
  0001b	c3		 ret	 0
?GetBuildVer@@YAEK@Z ENDP				; GetBuildVer
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\module.h
;	COMDAT ?GetSubVer@@YAEK@Z
_TEXT	SEGMENT
_dwVersion$ = 8						; size = 4
?GetSubVer@@YAEK@Z PROC					; GetSubVer, COMDAT

; 56   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 57   : 	return ((BYTE *)&dwVersion)[1];

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	c1 e0 00	 shl	 eax, 0
  00011	8a 44 05 08	 mov	 al, BYTE PTR _dwVersion$[ebp+eax]

; 58   : }

  00015	5f		 pop	 edi
  00016	5e		 pop	 esi
  00017	5b		 pop	 ebx
  00018	8b e5		 mov	 esp, ebp
  0001a	5d		 pop	 ebp
  0001b	c3		 ret	 0
?GetSubVer@@YAEK@Z ENDP					; GetSubVer
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\module.h
;	COMDAT ?GetMainVer@@YAEK@Z
_TEXT	SEGMENT
_dwVersion$ = 8						; size = 4
?GetMainVer@@YAEK@Z PROC				; GetMainVer, COMDAT

; 50   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 51   : 	return ((BYTE *)&dwVersion)[2];

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	d1 e0		 shl	 eax, 1
  00010	8a 44 05 08	 mov	 al, BYTE PTR _dwVersion$[ebp+eax]

; 52   : }

  00014	5f		 pop	 edi
  00015	5e		 pop	 esi
  00016	5b		 pop	 ebx
  00017	8b e5		 mov	 esp, ebp
  00019	5d		 pop	 ebp
  0001a	c3		 ret	 0
?GetMainVer@@YAEK@Z ENDP				; GetMainVer
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\全局定义\module.h
;	COMDAT ?GetProductVer@@YAEK@Z
_TEXT	SEGMENT
_dwVersion$ = 8						; size = 4
?GetProductVer@@YAEK@Z PROC				; GetProductVer, COMDAT

; 44   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 45   : 	return ((BYTE *)&dwVersion)[3];

  00009	b8 01 00 00 00	 mov	 eax, 1
  0000e	6b c8 03	 imul	 ecx, eax, 3
  00011	8a 44 0d 08	 mov	 al, BYTE PTR _dwVersion$[ebp+ecx]

; 46   : }

  00015	5f		 pop	 edi
  00016	5e		 pop	 esi
  00017	5b		 pop	 ebx
  00018	8b e5		 mov	 esp, ebp
  0001a	5d		 pop	 ebp
  0001b	c3		 ret	 0
?GetProductVer@@YAEK@Z ENDP				; GetProductVer
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
;	COMDAT ??0IUnknownEx@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0IUnknownEx@@QAE@XZ PROC				; IUnknownEx::IUnknownEx, COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000f	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7IUnknownEx@@6B@
  00015	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00018	5f		 pop	 edi
  00019	5e		 pop	 esi
  0001a	5b		 pop	 ebx
  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c3		 ret	 0
??0IUnknownEx@@QAE@XZ ENDP				; IUnknownEx::IUnknownEx
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\atlmfc\include\afx.h
;	COMDAT ?AfxAssertFailedLine@@YGHPBDH@Z
_TEXT	SEGMENT
_bResult$ = -36						; size = 4
_bQuit$ = -32						; size = 4
_msg$ = -28						; size = 28
_lpszFileName$ = 8					; size = 4
_nLine$ = 12						; size = 4
?AfxAssertFailedLine@@YGHPBDH@Z PROC			; AfxAssertFailedLine, COMDAT

; 312  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 64	 sub	 esp, 100		; 00000064H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 313  : 	// we remove WM_QUIT because if it is in the queue then the message box
; 314  : 	// won't display
; 315  : 	MSG msg;
; 316  : 	BOOL bQuit = PeekMessage(&msg, NULL, WM_QUIT, WM_QUIT, PM_REMOVE);

  00009	6a 01		 push	 1
  0000b	6a 12		 push	 18			; 00000012H
  0000d	6a 12		 push	 18			; 00000012H
  0000f	6a 00		 push	 0
  00011	8d 45 e4	 lea	 eax, DWORD PTR _msg$[ebp]
  00014	50		 push	 eax
  00015	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PeekMessageA@20
  0001b	89 45 e0	 mov	 DWORD PTR _bQuit$[ebp], eax

; 317  : 	BOOL bResult = _CrtDbgReport(_CRT_ASSERT, lpszFileName, nLine, NULL, NULL);

  0001e	6a 00		 push	 0
  00020	6a 00		 push	 0
  00022	8b 45 0c	 mov	 eax, DWORD PTR _nLine$[ebp]
  00025	50		 push	 eax
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _lpszFileName$[ebp]
  00029	51		 push	 ecx
  0002a	6a 02		 push	 2
  0002c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___CrtDbgReport
  00032	83 c4 14	 add	 esp, 20			; 00000014H
  00035	89 45 dc	 mov	 DWORD PTR _bResult$[ebp], eax

; 318  : 	if (bQuit)

  00038	83 7d e0 00	 cmp	 DWORD PTR _bQuit$[ebp], 0
  0003c	74 0a		 je	 SHORT $LN2@AfxAssertF

; 319  : 		PostQuitMessage((int)msg.wParam);

  0003e	8b 45 ec	 mov	 eax, DWORD PTR _msg$[ebp+8]
  00041	50		 push	 eax
  00042	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PostQuitMessage@4
$LN2@AfxAssertF:

; 320  : 	return bResult;

  00048	8b 45 dc	 mov	 eax, DWORD PTR _bResult$[ebp]

; 321  : }

  0004b	5f		 pop	 edi
  0004c	5e		 pop	 esi
  0004d	5b		 pop	 ebx
  0004e	8b e5		 mov	 esp, ebp
  00050	5d		 pop	 ebp
  00051	c2 08 00	 ret	 8
?AfxAssertFailedLine@@YGHPBDH@Z ENDP			; AfxAssertFailedLine
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\ucrt\time.h
;	COMDAT _time
_TEXT	SEGMENT
__Time$ = 8						; size = 4
_time	PROC						; COMDAT

; 535  :         {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 536  :             return _time64(_Time);

  00009	8b 45 08	 mov	 eax, DWORD PTR __Time$[ebp]
  0000c	50		 push	 eax
  0000d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp___time64
  00013	83 c4 04	 add	 esp, 4

; 537  :         }

  00016	5f		 pop	 edi
  00017	5e		 pop	 esi
  00018	5b		 pop	 ebx
  00019	8b e5		 mov	 esp, ebp
  0001b	5d		 pop	 ebp
  0001c	c3		 ret	 0
_time	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\ucrt\stdio.h
;	COMDAT __snprintf
_TEXT	SEGMENT
__ArgList$ = -8						; size = 4
__Result$ = -4						; size = 4
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__snprintf PROC						; COMDAT

; 1969 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1970 :         int _Result;
; 1971 :         va_list _ArgList;
; 1972 :         __crt_va_start(_ArgList, _Format);

  00009	8d 45 14	 lea	 eax, DWORD PTR __Format$[ebp+4]
  0000c	89 45 f8	 mov	 DWORD PTR __ArgList$[ebp], eax

; 1973 :     #pragma warning(suppress:28719)    // 28719
; 1974 :         _Result = _vsnprintf(_Buffer, _BufferCount, _Format, _ArgList);

  0000f	8b 45 f8	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00012	50		 push	 eax
  00013	8b 4d 10	 mov	 ecx, DWORD PTR __Format$[ebp]
  00016	51		 push	 ecx
  00017	8b 55 0c	 mov	 edx, DWORD PTR __BufferCount$[ebp]
  0001a	52		 push	 edx
  0001b	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0001e	50		 push	 eax
  0001f	e8 00 00 00 00	 call	 __vsnprintf
  00024	83 c4 10	 add	 esp, 16			; 00000010H
  00027	89 45 fc	 mov	 DWORD PTR __Result$[ebp], eax

; 1975 :         __crt_va_end(_ArgList);

  0002a	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR __ArgList$[ebp], 0

; 1976 :         return _Result;

  00031	8b 45 fc	 mov	 eax, DWORD PTR __Result$[ebp]

; 1977 :     }

  00034	5f		 pop	 edi
  00035	5e		 pop	 esi
  00036	5b		 pop	 ebx
  00037	8b e5		 mov	 esp, ebp
  00039	5d		 pop	 ebp
  0003a	c3		 ret	 0
__snprintf ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\ucrt\stdio.h
;	COMDAT _sprintf
_TEXT	SEGMENT
__ArgList$ = -8						; size = 4
__Result$ = -4						; size = 4
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
_sprintf PROC						; COMDAT

; 1781 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 4c	 sub	 esp, 76			; 0000004cH
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1782 :         int _Result;
; 1783 :         va_list _ArgList;
; 1784 :         __crt_va_start(_ArgList, _Format);

  00009	8d 45 10	 lea	 eax, DWORD PTR __Format$[ebp+4]
  0000c	89 45 f8	 mov	 DWORD PTR __ArgList$[ebp], eax

; 1785 : 
; 1786 :         #pragma warning(push)
; 1787 :         #pragma warning(disable: 4996) // Deprecation
; 1788 :         _Result = _vsprintf_l(_Buffer, _Format, NULL, _ArgList);

  0000f	8b 45 f8	 mov	 eax, DWORD PTR __ArgList$[ebp]
  00012	50		 push	 eax
  00013	6a 00		 push	 0
  00015	8b 4d 0c	 mov	 ecx, DWORD PTR __Format$[ebp]
  00018	51		 push	 ecx
  00019	8b 55 08	 mov	 edx, DWORD PTR __Buffer$[ebp]
  0001c	52		 push	 edx
  0001d	e8 00 00 00 00	 call	 __vsprintf_l
  00022	83 c4 10	 add	 esp, 16			; 00000010H
  00025	89 45 fc	 mov	 DWORD PTR __Result$[ebp], eax

; 1789 :         #pragma warning(pop)
; 1790 : 
; 1791 :         __crt_va_end(_ArgList);

  00028	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR __ArgList$[ebp], 0

; 1792 :         return _Result;

  0002f	8b 45 fc	 mov	 eax, DWORD PTR __Result$[ebp]

; 1793 :     }

  00032	5f		 pop	 edi
  00033	5e		 pop	 esi
  00034	5b		 pop	 ebx
  00035	8b e5		 mov	 esp, ebp
  00037	5d		 pop	 ebp
  00038	c3		 ret	 0
_sprintf ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\ucrt\stdio.h
;	COMDAT __vsprintf_l
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__Format$ = 12						; size = 4
__Locale$ = 16						; size = 4
__ArgList$ = 20						; size = 4
__vsprintf_l PROC					; COMDAT

; 1459 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1460 :         #pragma warning(push)
; 1461 :         #pragma warning(disable: 4996) // Deprecation
; 1462 :         return _vsnprintf_l(_Buffer, (size_t)-1, _Format, _Locale, _ArgList);

  00009	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0000c	50		 push	 eax
  0000d	8b 4d 10	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00010	51		 push	 ecx
  00011	8b 55 0c	 mov	 edx, DWORD PTR __Format$[ebp]
  00014	52		 push	 edx
  00015	6a ff		 push	 -1
  00017	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0001a	50		 push	 eax
  0001b	e8 00 00 00 00	 call	 __vsnprintf_l
  00020	83 c4 14	 add	 esp, 20			; 00000014H

; 1463 :         #pragma warning(pop)
; 1464 :     }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
__vsprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\ucrt\stdio.h
;	COMDAT __vsnprintf
_TEXT	SEGMENT
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__ArgList$ = 20						; size = 4
__vsnprintf PROC					; COMDAT

; 1409 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1410 :         #pragma warning(push)
; 1411 :         #pragma warning(disable: 4996) // Deprecation
; 1412 :         return _vsnprintf_l(_Buffer, _BufferCount, _Format, NULL, _ArgList);

  00009	8b 45 14	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0000c	50		 push	 eax
  0000d	6a 00		 push	 0
  0000f	8b 4d 10	 mov	 ecx, DWORD PTR __Format$[ebp]
  00012	51		 push	 ecx
  00013	8b 55 0c	 mov	 edx, DWORD PTR __BufferCount$[ebp]
  00016	52		 push	 edx
  00017	8b 45 08	 mov	 eax, DWORD PTR __Buffer$[ebp]
  0001a	50		 push	 eax
  0001b	e8 00 00 00 00	 call	 __vsnprintf_l
  00020	83 c4 14	 add	 esp, 20			; 00000014H

; 1413 :         #pragma warning(pop)
; 1414 :     }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
__vsnprintf ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\ucrt\stdio.h
;	COMDAT __vsnprintf_l
_TEXT	SEGMENT
tv74 = -72						; size = 4
__Result$ = -4						; size = 4
__Buffer$ = 8						; size = 4
__BufferCount$ = 12					; size = 4
__Format$ = 16						; size = 4
__Locale$ = 20						; size = 4
__ArgList$ = 24						; size = 4
__vsnprintf_l PROC					; COMDAT

; 1389 :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 1390 :         int const _Result = __stdio_common_vsprintf(

  00009	8b 45 18	 mov	 eax, DWORD PTR __ArgList$[ebp]
  0000c	50		 push	 eax
  0000d	8b 4d 14	 mov	 ecx, DWORD PTR __Locale$[ebp]
  00010	51		 push	 ecx
  00011	8b 55 10	 mov	 edx, DWORD PTR __Format$[ebp]
  00014	52		 push	 edx
  00015	8b 45 0c	 mov	 eax, DWORD PTR __BufferCount$[ebp]
  00018	50		 push	 eax
  00019	8b 4d 08	 mov	 ecx, DWORD PTR __Buffer$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ___local_stdio_printf_options
  00022	8b 10		 mov	 edx, DWORD PTR [eax]
  00024	83 ca 01	 or	 edx, 1
  00027	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  0002a	50		 push	 eax
  0002b	52		 push	 edx
  0002c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp____stdio_common_vsprintf
  00032	83 c4 1c	 add	 esp, 28			; 0000001cH
  00035	89 45 fc	 mov	 DWORD PTR __Result$[ebp], eax

; 1391 :             _CRT_INTERNAL_LOCAL_PRINTF_OPTIONS | _CRT_INTERNAL_PRINTF_LEGACY_VSPRINTF_NULL_TERMINATION,
; 1392 :             _Buffer, _BufferCount, _Format, _Locale, _ArgList);
; 1393 : 
; 1394 :         return _Result < 0 ? -1 : _Result;

  00038	83 7d fc 00	 cmp	 DWORD PTR __Result$[ebp], 0
  0003c	7d 09		 jge	 SHORT $LN3@vsnprintf_
  0003e	c7 45 b8 ff ff
	ff ff		 mov	 DWORD PTR tv74[ebp], -1
  00045	eb 06		 jmp	 SHORT $LN4@vsnprintf_
$LN3@vsnprintf_:
  00047	8b 45 fc	 mov	 eax, DWORD PTR __Result$[ebp]
  0004a	89 45 b8	 mov	 DWORD PTR tv74[ebp], eax
$LN4@vsnprintf_:
  0004d	8b 45 b8	 mov	 eax, DWORD PTR tv74[ebp]

; 1395 :     }

  00050	5f		 pop	 edi
  00051	5e		 pop	 esi
  00052	5b		 pop	 ebx
  00053	8b e5		 mov	 esp, ebp
  00055	5d		 pop	 ebp
  00056	c3		 ret	 0
__vsnprintf_l ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\ucrt\corecrt_stdio_config.h
;	COMDAT ___local_stdio_printf_options
_TEXT	SEGMENT
___local_stdio_printf_options PROC			; COMDAT

; 86   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 87   :         static unsigned __int64 _OptionsStorage;
; 88   :         return &_OptionsStorage;

  00009	b8 00 00 00 00	 mov	 eax, OFFSET ?_OptionsStorage@?1??__local_stdio_printf_options@@9@4_KA ; `__local_stdio_printf_options'::`2'::_OptionsStorage

; 89   :     }

  0000e	5f		 pop	 edi
  0000f	5e		 pop	 esi
  00010	5b		 pop	 ebx
  00011	8b e5		 mov	 esp, ebp
  00013	5d		 pop	 ebp
  00014	c3		 ret	 0
___local_stdio_printf_options ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\shared\guiddef.h
;	COMDAT _==
_TEXT	SEGMENT
tv68 = -68						; size = 4
_guidOne$ = 8						; size = 4
_guidOther$ = 12					; size = 4
_==	PROC						; COMDAT

; 193  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 194  :     return !!IsEqualGUID(guidOne,guidOther);

  00009	8b 45 0c	 mov	 eax, DWORD PTR _guidOther$[ebp]
  0000c	50		 push	 eax
  0000d	8b 4d 08	 mov	 ecx, DWORD PTR _guidOne$[ebp]
  00010	51		 push	 ecx
  00011	e8 00 00 00 00	 call	 _IsEqualGUID
  00016	83 c4 08	 add	 esp, 8
  00019	85 c0		 test	 eax, eax
  0001b	74 09		 je	 SHORT $LN3@
  0001d	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv68[ebp], 1
  00024	eb 07		 jmp	 SHORT $LN4@
$LN3@:
  00026	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv68[ebp], 0
$LN4@:
  0002d	8a 45 bc	 mov	 al, BYTE PTR tv68[ebp]

; 195  : }

  00030	5f		 pop	 edi
  00031	5e		 pop	 esi
  00032	5b		 pop	 ebx
  00033	8b e5		 mov	 esp, ebp
  00035	5d		 pop	 ebp
  00036	c3		 ret	 0
_==	ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\windows kits\10\include\10.0.17763.0\shared\guiddef.h
;	COMDAT _IsEqualGUID
_TEXT	SEGMENT
tv69 = -68						; size = 4
_rguid1$ = 8						; size = 4
_rguid2$ = 12						; size = 4
_IsEqualGUID PROC					; COMDAT

; 160  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 161  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00009	6a 10		 push	 16			; 00000010H
  0000b	8b 45 0c	 mov	 eax, DWORD PTR _rguid2$[ebp]
  0000e	50		 push	 eax
  0000f	8b 4d 08	 mov	 ecx, DWORD PTR _rguid1$[ebp]
  00012	51		 push	 ecx
  00013	e8 00 00 00 00	 call	 _memcmp
  00018	83 c4 0c	 add	 esp, 12			; 0000000cH
  0001b	85 c0		 test	 eax, eax
  0001d	75 09		 jne	 SHORT $LN3@IsEqualGUI
  0001f	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR tv69[ebp], 1
  00026	eb 07		 jmp	 SHORT $LN4@IsEqualGUI
$LN3@IsEqualGUI:
  00028	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR tv69[ebp], 0
$LN4@IsEqualGUI:
  0002f	8b 45 bc	 mov	 eax, DWORD PTR tv69[ebp]

; 162  : }

  00032	5f		 pop	 edi
  00033	5e		 pop	 esi
  00034	5b		 pop	 ebx
  00035	8b e5		 mov	 esp, ebp
  00037	5d		 pop	 ebp
  00038	c3		 ret	 0
_IsEqualGUID ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\vcruntime_new.h
;	COMDAT ??2@YAPAXIPAX@Z
_TEXT	SEGMENT
__Size$ = 8						; size = 4
__Where$ = 12						; size = 4
??2@YAPAXIPAX@Z PROC					; operator new, COMDAT

; 185  :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 186  :         (void)_Size;
; 187  :         return _Where;

  00009	8b 45 0c	 mov	 eax, DWORD PTR __Where$[ebp]

; 188  :     }

  0000c	5f		 pop	 edi
  0000d	5e		 pop	 esi
  0000e	5b		 pop	 ebx
  0000f	8b e5		 mov	 esp, ebp
  00011	5d		 pop	 ebp
  00012	c3		 ret	 0
??2@YAPAXIPAX@Z ENDP					; operator new
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File g:\网狐\happygamewh\服务端\系统模块\服务器组件\聊天服务器\attemperenginesink.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	5f		 pop	 edi
  0000a	5e		 pop	 esi
  0000b	5b		 pop	 ebx
  0000c	8b e5		 mov	 esp, ebp
  0000e	5d		 pop	 ebp
  0000f	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
END
